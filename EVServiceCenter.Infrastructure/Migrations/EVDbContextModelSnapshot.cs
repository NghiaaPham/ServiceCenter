// <auto-generated />
using System;
using EVServiceCenter.Core.Entities;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Metadata;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;

#nullable disable

namespace EVServiceCenter.Infrastructure.Migrations
{
    [DbContext(typeof(EVDbContext))]
    partial class EVDbContextModelSnapshot : ModelSnapshot
    {
        protected override void BuildModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "9.0.9")
                .HasAnnotation("Relational:MaxIdentifierLength", 128);

            SqlServerModelBuilderExtensions.UseIdentityColumns(modelBuilder);

            modelBuilder.Entity("EVServiceCenter.Core.Domains.AppointmentManagement.Entities.Appointment", b =>
                {
                    b.Property<int>("AppointmentId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("AppointmentID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("AppointmentId"));

                    b.Property<string>("AppointmentCode")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<DateTime>("AppointmentDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("CancellationReason")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<DateTime?>("CancelledDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("CompletedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CompletedDate")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("ConfirmationDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("ConfirmationMethod")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<string>("ConfirmationStatus")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasDefaultValue("Pending");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<int>("CustomerId")
                        .HasColumnType("int")
                        .HasColumnName("CustomerID");

                    b.Property<string>("CustomerNotes")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<decimal?>("DiscountAmount")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<string>("DiscountType")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<decimal?>("EstimatedCost")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<int?>("EstimatedDuration")
                        .HasColumnType("int");

                    b.Property<decimal?>("FinalCost")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<int?>("LatestPaymentIntentId")
                        .HasColumnType("int")
                        .HasColumnName("LatestPaymentIntentID");

                    b.Property<bool?>("NoShowFlag")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<int?>("PackageId")
                        .HasColumnType("int")
                        .HasColumnName("PackageID");

                    b.Property<decimal?>("PaidAmount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<int>("PaymentIntentCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<string>("PaymentStatus")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Pending");

                    b.Property<int?>("PreferredTechnicianId")
                        .HasColumnType("int")
                        .HasColumnName("PreferredTechnicianID");

                    b.Property<string>("Priority")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Normal");

                    b.Property<int?>("PromotionId")
                        .HasColumnType("int")
                        .HasColumnName("PromotionID");

                    b.Property<bool?>("ReminderSent")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<DateTime?>("ReminderSentDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("RescheduledFromId")
                        .HasColumnType("int")
                        .HasColumnName("RescheduledFromID");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("rowversion");

                    b.Property<int>("ServiceCenterId")
                        .HasColumnType("int")
                        .HasColumnName("ServiceCenterID");

                    b.Property<string>("ServiceDescription")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<int?>("ServiceId")
                        .HasColumnType("int")
                        .HasColumnName("ServiceID");

                    b.Property<int?>("SlotId")
                        .HasColumnType("int")
                        .HasColumnName("SlotID");

                    b.Property<string>("Source")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasDefaultValue("Walk-in");

                    b.Property<int>("StatusId")
                        .HasColumnType("int")
                        .HasColumnName("StatusID");

                    b.Property<int?>("SubscriptionId")
                        .HasColumnType("int")
                        .HasColumnName("SubscriptionID");

                    b.Property<int?>("UpdatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedDate")
                        .HasColumnType("datetime2");

                    b.Property<int>("VehicleId")
                        .HasColumnType("int")
                        .HasColumnName("VehicleID");

                    b.HasKey("AppointmentId")
                        .HasName("PK__Appointm__8ECDFCA2E3758D0D");

                    b.HasIndex("CompletedBy");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("CustomerId");

                    b.HasIndex("LatestPaymentIntentId");

                    b.HasIndex("PackageId");

                    b.HasIndex("PaymentStatus")
                        .HasDatabaseName("IX_Appointments_PaymentStatus");

                    b.HasIndex("PreferredTechnicianId");

                    b.HasIndex("PromotionId");

                    b.HasIndex("RescheduledFromId");

                    b.HasIndex("ServiceCenterId");

                    b.HasIndex("ServiceId");

                    b.HasIndex("SlotId");

                    b.HasIndex("StatusId")
                        .HasDatabaseName("IX_Appointments_StatusID");

                    b.HasIndex("SubscriptionId");

                    b.HasIndex("UpdatedBy");

                    b.HasIndex("VehicleId");

                    b.HasIndex("StatusId", "CreatedDate", "PaymentStatus")
                        .HasDatabaseName("IX_Appointments_Status_CreatedDate_PaymentStatus");

                    b.ToTable("Appointments");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.AppointmentManagement.Entities.AppointmentService", b =>
                {
                    b.Property<int>("AppointmentServiceId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("AppointmentServiceID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("AppointmentServiceId"));

                    b.Property<int>("AppointmentId")
                        .HasColumnType("int")
                        .HasColumnName("AppointmentID");

                    b.Property<DateTime>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<decimal?>("DiscountAmount")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<int>("EstimatedTime")
                        .HasColumnType("int");

                    b.Property<string>("Notes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<decimal?>("OriginalPrice")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<decimal>("Price")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<int>("ServiceId")
                        .HasColumnType("int")
                        .HasColumnName("ServiceID");

                    b.Property<string>("ServiceSource")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Extra");

                    b.Property<int?>("SubscriptionId")
                        .HasColumnType("int")
                        .HasColumnName("SubscriptionID");

                    b.HasKey("AppointmentServiceId")
                        .HasName("PK__Appointm__ServiceID");

                    b.HasIndex("AppointmentId");

                    b.HasIndex("ServiceId");

                    b.ToTable("AppointmentServices");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.AppointmentManagement.Entities.AppointmentStatus", b =>
                {
                    b.Property<int>("StatusId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("StatusID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("StatusId"));

                    b.Property<string>("Description")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<int?>("DisplayOrder")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("StatusColor")
                        .HasMaxLength(10)
                        .HasColumnType("nvarchar(10)");

                    b.Property<string>("StatusName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.HasKey("StatusId")
                        .HasName("PK__Appointm__C8EE204358988DD1");

                    b.ToTable("AppointmentStatus");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.CarBrands.Entities.CarBrand", b =>
                {
                    b.Property<int>("BrandId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("BrandID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("BrandId"));

                    b.Property<string>("BrandName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("Country")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateTime?>("CreatedDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("LogoUrl")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<DateTime?>("UpdatedDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("Website")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.HasKey("BrandId")
                        .HasName("PK__CarBrand__DAD4F3BEFB91F09A");

                    b.ToTable("CarBrands");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.CarModels.Entities.CarModel", b =>
                {
                    b.Property<int>("ModelId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("ModelID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("ModelId"));

                    b.Property<decimal?>("AccelerationTime")
                        .HasColumnType("decimal(4, 2)");

                    b.Property<decimal?>("BatteryCapacity")
                        .HasColumnType("decimal(10, 2)");

                    b.Property<int>("BrandId")
                        .HasColumnType("int")
                        .HasColumnName("BrandID");

                    b.Property<string>("ChargingType")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateTime?>("CreatedDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<string>("ImageUrl")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<int?>("MaxRange")
                        .HasColumnType("int");

                    b.Property<string>("ModelName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<decimal?>("MotorPower")
                        .HasColumnType("decimal(10, 2)");

                    b.Property<int?>("ServiceInterval")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(10000);

                    b.Property<int?>("ServiceIntervalMonths")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(6);

                    b.Property<int?>("TopSpeed")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("WarrantyPeriod")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(24);

                    b.Property<int?>("Year")
                        .HasColumnType("int");

                    b.HasKey("ModelId")
                        .HasName("PK__CarModel__E8D7A1CC320085B4");

                    b.HasIndex("BrandId");

                    b.ToTable("CarModels");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.CustomerTypes.Entities.CustomerType", b =>
                {
                    b.Property<int>("TypeId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("TypeID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("TypeId"));

                    b.Property<string>("Description")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<decimal?>("DiscountPercent")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(5, 2)")
                        .HasDefaultValue(0m);

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("TypeName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.HasKey("TypeId")
                        .HasName("PK__Customer__516F03952CD0AA46");

                    b.ToTable("CustomerTypes");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.CustomerVehicles.Entities.CustomerVehicle", b =>
                {
                    b.Property<int>("VehicleId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("VehicleID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("VehicleId"));

                    b.Property<decimal?>("BatteryHealthPercent")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(5, 2)")
                        .HasDefaultValue(100m);

                    b.Property<string>("Color")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<int>("CustomerId")
                        .HasColumnType("int")
                        .HasColumnName("CustomerID");

                    b.Property<DateTime?>("InsuranceExpiry")
                        .HasColumnType("datetime2");

                    b.Property<string>("InsuranceNumber")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<DateTime?>("LastMaintenanceDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("LastMaintenanceMileage")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<string>("LicensePlate")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<int?>("Mileage")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<int>("ModelId")
                        .HasColumnType("int")
                        .HasColumnName("ModelID");

                    b.Property<DateTime?>("NextMaintenanceDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("NextMaintenanceMileage")
                        .HasColumnType("int");

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<DateTime?>("PurchaseDate")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("RegistrationExpiry")
                        .HasColumnType("datetime2");

                    b.Property<int?>("UpdatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("VehicleCondition")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasDefaultValue("Good");

                    b.Property<string>("Vin")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasColumnName("VIN");

                    b.HasKey("VehicleId")
                        .HasName("PK__Customer__476B54B26D8CEE26");

                    b.HasIndex("CustomerId");

                    b.HasIndex("ModelId");

                    b.HasIndex("UpdatedBy");

                    b.ToTable("CustomerVehicles");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.Customers.Entities.Customer", b =>
                {
                    b.Property<int>("CustomerId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("CustomerID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("CustomerId"));

                    b.Property<string>("Address")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("CustomerCode")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<DateTime?>("DateOfBirth")
                        .HasColumnType("datetime2");

                    b.Property<string>("Email")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("FullName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("Gender")
                        .HasMaxLength(10)
                        .HasColumnType("nvarchar(10)");

                    b.Property<byte[]>("IdentityNumber")
                        .HasMaxLength(256)
                        .HasColumnType("varbinary(256)");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<DateTime?>("LastVisitDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("LoyaltyPoints")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<bool?>("MarketingOptIn")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<string>("PhoneNumber")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<string>("PreferredLanguage")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(10)
                        .HasColumnType("nvarchar(10)")
                        .HasDefaultValue("vi-VN");

                    b.Property<decimal?>("TotalSpent")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<int?>("TypeId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(1)
                        .HasColumnName("TypeID");

                    b.Property<int?>("UpdatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("UserID");

                    b.HasKey("CustomerId")
                        .HasName("PK__Customer__A4AE64B8632A69D9");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("TypeId");

                    b.HasIndex("UpdatedBy");

                    b.HasIndex("UserId")
                        .IsUnique()
                        .HasDatabaseName("IX_Customers_UserID")
                        .HasFilter("[UserID] IS NOT NULL");

                    b.ToTable("Customers");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.Identity.Entities.RefreshToken", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("Created")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getutcdate())");

                    b.Property<string>("CreatedByIp")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateTime>("Expires")
                        .HasColumnType("datetime2");

                    b.Property<string>("ReplacedByTokenHash")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<DateTime?>("Revoked")
                        .HasColumnType("datetime2");

                    b.Property<string>("RevokedByIp")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("Selector")
                        .IsRequired()
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<string>("TokenHash")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("UserID");

                    b.HasKey("Id");

                    b.HasIndex("Selector")
                        .IsUnique();

                    b.HasIndex("UserId");

                    b.ToTable("RefreshTokens");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.Identity.Entities.RevokedToken", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("ExpiresAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("IpAddress")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("RevokeReason")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<DateTime>("RevokedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("Token")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<string>("UserAgent")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int>("UserId")
                        .HasColumnType("int");

                    b.HasKey("Id")
                        .HasName("PK__RevokedTokens");

                    b.HasIndex("ExpiresAt")
                        .HasDatabaseName("IX_RevokedTokens_ExpiresAt");

                    b.HasIndex("Token")
                        .IsUnique()
                        .HasDatabaseName("UX_RevokedTokens_Token");

                    b.HasIndex("UserId")
                        .HasDatabaseName("IX_RevokedTokens_UserId");

                    b.ToTable("RevokedTokens");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.Identity.Entities.User", b =>
                {
                    b.Property<int>("UserId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("UserID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("UserId"));

                    b.Property<DateTime?>("AccountLockedUntil")
                        .HasColumnType("datetime2");

                    b.Property<string>("AvatarUrl")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("Department")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("Email")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateTime?>("EmailVerificationExpiry")
                        .HasColumnType("datetime2");

                    b.Property<byte[]>("EmailVerificationToken")
                        .HasColumnType("varbinary(max)");

                    b.Property<bool>("EmailVerified")
                        .HasColumnType("bit");

                    b.Property<string>("EmployeeCode")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<string>("ExternalProvider")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("ExternalProviderId")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<int?>("FailedLoginAttempts")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<string>("FullName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateTime?>("HireDate")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsAccountLocked")
                        .HasColumnType("bit");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<DateTime?>("LastFailedLoginAttempt")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("LastLoginDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("LockoutReason")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("PasswordExpiryDate")
                        .HasColumnType("datetime2");

                    b.Property<byte[]>("PasswordHash")
                        .IsRequired()
                        .HasMaxLength(64)
                        .HasColumnType("varbinary(64)");

                    b.Property<byte[]>("PasswordSalt")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("varbinary(32)");

                    b.Property<string>("PhoneNumber")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<string>("ProfilePicture")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<byte[]>("ResetToken")
                        .HasColumnType("varbinary(max)");

                    b.Property<DateTime?>("ResetTokenExpiry")
                        .HasColumnType("datetime2");

                    b.Property<int>("RoleId")
                        .HasColumnType("int")
                        .HasColumnName("RoleID");

                    b.Property<decimal?>("Salary")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<int?>("UnlockAttempts")
                        .HasColumnType("int");

                    b.Property<string>("Username")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.HasKey("UserId")
                        .HasName("PK__Users__1788CCAC6BBF0671");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("Email")
                        .HasDatabaseName("IX_Users_Email_Login");

                    b.HasIndex("RoleId");

                    b.HasIndex("Username")
                        .HasDatabaseName("IX_Users_Username_Login");

                    b.ToTable("Users");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.Identity.Entities.UserRole", b =>
                {
                    b.Property<int>("RoleId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("RoleID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("RoleId"));

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("Description")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("Permissions")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("RoleName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.HasKey("RoleId")
                        .HasName("PK__UserRole__8AFACE3A7DD86565");

                    b.ToTable("UserRoles");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.Identity.Entities.UserSession", b =>
                {
                    b.Property<int>("SessionId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("SessionID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("SessionId"));

                    b.Property<string>("Ipaddress")
                        .HasMaxLength(45)
                        .HasColumnType("nvarchar(45)")
                        .HasColumnName("IPAddress");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<DateTime?>("LastActivityTime")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<DateTime?>("LoginTime")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<DateTime?>("LogoutTime")
                        .HasColumnType("datetime2");

                    b.Property<string>("SessionToken")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("nvarchar(128)");

                    b.Property<string>("UserAgent")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("UserID");

                    b.HasKey("SessionId")
                        .HasName("PK__UserSess__C9F49270CCD65102");

                    b.HasIndex("UserId");

                    b.ToTable("UserSessions");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.MaintenanceServices.Entities.MaintenanceService", b =>
                {
                    b.Property<int>("ServiceId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("ServiceID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("ServiceId"));

                    b.Property<decimal>("BasePrice")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<int>("CategoryId")
                        .HasColumnType("int")
                        .HasColumnName("CategoryID");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<string>("ImageUrl")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<bool?>("IsWarrantyService")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<decimal?>("LaborCost")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<string>("RequiredCertification")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<string>("ServiceCode")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<string>("ServiceName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<string>("SkillLevel")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<int>("StandardTime")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("WarrantyPeriod")
                        .HasColumnType("int");

                    b.HasKey("ServiceId")
                        .HasName("PK__Maintena__C51BB0EA01301206");

                    b.HasIndex("CategoryId");

                    b.ToTable("MaintenanceServices");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.Payments.Entities.PaymentIntent", b =>
                {
                    b.Property<int>("PaymentIntentId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("PaymentIntentID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("PaymentIntentId"));

                    b.Property<decimal>("Amount")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<int>("AppointmentId")
                        .HasColumnType("int")
                        .HasColumnName("AppointmentID");

                    b.Property<DateTime?>("CancelledDate")
                        .HasColumnType("datetime2");

                    b.Property<decimal?>("CapturedAmount")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<DateTime?>("ConfirmedDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getutcdate())");

                    b.Property<string>("Currency")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(3)
                        .HasColumnType("nvarchar(3)")
                        .HasDefaultValue("VND");

                    b.Property<int>("CustomerId")
                        .HasColumnType("int")
                        .HasColumnName("CustomerID");

                    b.Property<DateTime?>("DueDate")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("ExpiredDate")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("ExpiresAt")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("FailedDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("IdempotencyKey")
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)");

                    b.Property<string>("IntentCode")
                        .IsRequired()
                        .HasMaxLength(30)
                        .HasColumnType("nvarchar(30)");

                    b.Property<string>("MetadataJson")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Notes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("PaymentMethod")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("ProviderIntentId")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<decimal?>("RefundedAmount")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Pending");

                    b.Property<int?>("UpdatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedDate")
                        .HasColumnType("datetime2");

                    b.HasKey("PaymentIntentId")
                        .HasName("PK__PaymentI__0C0CEB8B55202AB4");

                    b.HasIndex("IntentCode")
                        .IsUnique();

                    b.HasIndex("AppointmentId", "Status")
                        .HasDatabaseName("IX_PaymentIntents_AppointmentId_Status");

                    b.ToTable("PaymentIntents");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.Payments.Entities.Refund", b =>
                {
                    b.Property<int>("RefundId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("RefundID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("RefundId"));

                    b.Property<int>("AppointmentId")
                        .HasColumnType("int")
                        .HasColumnName("AppointmentID");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getutcdate())");

                    b.Property<int>("CustomerId")
                        .HasColumnType("int")
                        .HasColumnName("CustomerID");

                    b.Property<string>("ErrorMessage")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("GatewayRefundId")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<string>("GatewayResponse")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<int>("PaymentIntentId")
                        .HasColumnType("int")
                        .HasColumnName("PaymentIntentID");

                    b.Property<int?>("ProcessedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("ProcessedDate")
                        .HasColumnType("datetime2");

                    b.Property<decimal>("RefundAmount")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<string>("RefundMethod")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("RefundReason")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasDefaultValue("Pending");

                    b.HasKey("RefundId")
                        .HasName("PK__Refunds__RefundID");

                    b.HasIndex("AppointmentId");

                    b.HasIndex("PaymentIntentId");

                    b.ToTable("Refunds");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.ServiceCategories.Entities.ServiceCategory", b =>
                {
                    b.Property<int>("CategoryId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("CategoryID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("CategoryId"));

                    b.Property<string>("CategoryName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateTime?>("CreatedDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int?>("DisplayOrder")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<string>("IconUrl")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<DateTime?>("UpdatedDate")
                        .HasColumnType("datetime2");

                    b.HasKey("CategoryId")
                        .HasName("PK__ServiceC__19093A2BFAC23C48");

                    b.ToTable("ServiceCategories");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.ServiceCenters.Entities.ServiceCenter", b =>
                {
                    b.Property<int>("CenterId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("CenterID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("CenterId"));

                    b.Property<string>("Address")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<int?>("Capacity")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(10);

                    b.Property<string>("CenterCode")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<string>("CenterName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<TimeSpan>("CloseTime")
                        .HasColumnType("time");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("District")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("Email")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("Facilities")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ImageUrl")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<decimal?>("Latitude")
                        .HasColumnType("decimal(10, 8)")
                        .HasColumnName("Latitude");

                    b.Property<decimal?>("Longitude")
                        .HasColumnType("decimal(11, 8)")
                        .HasColumnName("Longitude");

                    b.Property<int?>("ManagerId")
                        .HasColumnType("int")
                        .HasColumnName("ManagerID");

                    b.Property<TimeSpan>("OpenTime")
                        .HasColumnType("time");

                    b.Property<string>("PhoneNumber")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<string>("PostalCode")
                        .HasMaxLength(10)
                        .HasColumnType("nvarchar(10)");

                    b.Property<string>("Province")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateTime?>("UpdatedDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("Ward")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("Website")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.HasKey("CenterId")
                        .HasName("PK__ServiceC__398FC7D75D87FF4A");

                    b.HasIndex("ManagerId");

                    b.ToTable("ServiceCenters");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.TimeSlots.Entities.TimeSlot", b =>
                {
                    b.Property<int>("SlotId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("SlotID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("SlotId"));

                    b.Property<int>("CenterId")
                        .HasColumnType("int")
                        .HasColumnName("CenterID");

                    b.Property<DateTime>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<TimeSpan>("EndTime")
                        .HasColumnType("time");

                    b.Property<bool>("IsBlocked")
                        .HasColumnType("bit");

                    b.Property<int>("MaxBookings")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(1);

                    b.Property<string>("Notes")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<DateTime>("SlotDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("SlotType")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Regular");

                    b.Property<TimeSpan>("StartTime")
                        .HasColumnType("time");

                    b.Property<DateTime?>("UpdatedDate")
                        .HasColumnType("datetime2");

                    b.HasKey("SlotId")
                        .HasName("PK__TimeSlot__0A124A4F359B1C4C");

                    b.HasIndex("CenterId");

                    b.ToTable("TimeSlots");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.ActivityLog", b =>
                {
                    b.Property<int>("LogId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("LogID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("LogId"));

                    b.Property<string>("ActionType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<DateTime?>("ChangeDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("ChangeDetails")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("DeviceInfo")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<string>("ErrorMessage")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<int?>("ExecutionTime")
                        .HasColumnType("int");

                    b.Property<string>("FieldName")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("Ipaddress")
                        .HasMaxLength(45)
                        .HasColumnType("nvarchar(45)")
                        .HasColumnName("IPAddress");

                    b.Property<string>("Location")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("NewValue")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("OldValue")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("RecordId")
                        .HasColumnType("int")
                        .HasColumnName("RecordID");

                    b.Property<int?>("SessionId")
                        .HasColumnType("int")
                        .HasColumnName("SessionID");

                    b.Property<string>("Severity")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(10)
                        .HasColumnType("nvarchar(10)")
                        .HasDefaultValue("Info");

                    b.Property<bool?>("Success")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("TableName")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("UserAgent")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("UserID");

                    b.HasKey("LogId")
                        .HasName("PK__Activity__5E5499A89BA8FBB4");

                    b.HasIndex("SessionId");

                    b.HasIndex("UserId");

                    b.ToTable("ActivityLogs");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Apikey", b =>
                {
                    b.Property<int>("KeyId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("KeyID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("KeyId"));

                    b.Property<string>("AllowedIps")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)")
                        .HasColumnName("AllowedIPs");

                    b.Property<string>("Apikey1")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("nvarchar(128)")
                        .HasColumnName("APIKey");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<int?>("CurrentUsage")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<DateTime?>("ExpiryDate")
                        .HasColumnType("datetime2");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("KeyName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("KeyType")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Internal");

                    b.Property<DateTime?>("LastUsed")
                        .HasColumnType("datetime2");

                    b.Property<string>("Permissions")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("RateLimit")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(1000);

                    b.Property<string>("SecretKey")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("nvarchar(128)");

                    b.HasKey("KeyId")
                        .HasName("PK__APIKeys__21F5BE2711270D11");

                    b.HasIndex("CreatedBy");

                    b.ToTable("APIKeys");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.ApirequestLog", b =>
                {
                    b.Property<int>("LogId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("LogID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("LogId"));

                    b.Property<string>("Ipaddress")
                        .HasMaxLength(45)
                        .HasColumnType("nvarchar(45)")
                        .HasColumnName("IPAddress");

                    b.Property<int?>("KeyId")
                        .HasColumnType("int")
                        .HasColumnName("KeyID");

                    b.Property<string>("RequestBody")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("RequestDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("RequestHeaders")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("RequestMethod")
                        .HasMaxLength(10)
                        .HasColumnType("nvarchar(10)");

                    b.Property<string>("RequestUrl")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)")
                        .HasColumnName("RequestURL");

                    b.Property<string>("ResponseBody")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ResponseHeaders")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("ResponseStatus")
                        .HasColumnType("int");

                    b.Property<int?>("ResponseTime")
                        .HasColumnType("int");

                    b.Property<string>("UserAgent")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.HasKey("LogId")
                        .HasName("PK__APIReque__5E5499A8CDACA85C");

                    b.HasIndex("KeyId");

                    b.ToTable("APIRequestLogs");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.AutoNotificationRule", b =>
                {
                    b.Property<int>("RuleId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("RuleID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("RuleId"));

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<int?>("MaxRetries")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(3);

                    b.Property<string>("Priority")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(10)
                        .HasColumnType("nvarchar(10)")
                        .HasDefaultValue("Normal");

                    b.Property<int?>("RetryInterval")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(60);

                    b.Property<string>("RuleName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<int>("TemplateId")
                        .HasColumnType("int")
                        .HasColumnName("TemplateID");

                    b.Property<string>("TriggerCondition")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<string>("TriggerEvent")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("TriggerTable")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.HasKey("RuleId")
                        .HasName("PK__AutoNoti__110458C29FBAE080");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("TemplateId");

                    b.ToTable("AutoNotificationRules");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.BusinessRule", b =>
                {
                    b.Property<int>("RuleId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("RuleID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("RuleId"));

                    b.Property<string>("Action")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Category")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("Condition")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<DateTime?>("EffectiveDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(CONVERT([date],getdate()))");

                    b.Property<DateTime?>("ExpiryDate")
                        .HasColumnType("datetime2");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<int?>("Priority")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<string>("RuleName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("RuleType")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.HasKey("RuleId")
                        .HasName("PK__Business__110458C2A7189762");

                    b.HasIndex("CreatedBy");

                    b.ToTable("BusinessRules");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Certification", b =>
                {
                    b.Property<int>("CertificationId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("CertificationID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("CertificationId"));

                    b.Property<string>("CertificateNumber")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("CertificateUrl")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("CertificationLevel")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("CertificationName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<decimal?>("Cost")
                        .HasColumnType("decimal(10, 2)");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<DateTime?>("ExpirationDate")
                        .HasColumnType("datetime2");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<DateTime?>("IssueDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("Issuer")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<bool?>("RenewalReminderSent")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<bool?>("RenewalRequired")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<string>("Status")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Active");

                    b.Property<int>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("UserID");

                    b.HasKey("CertificationId")
                        .HasName("PK__Certific__1237E5AA18E73C54");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("UserId");

                    b.ToTable("Certifications");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.ChatChannel", b =>
                {
                    b.Property<int>("ChannelId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("ChannelID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("ChannelId"));

                    b.Property<int?>("AssignedUserId")
                        .HasColumnType("int")
                        .HasColumnName("AssignedUserID");

                    b.Property<string>("ChannelName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("ChannelType")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Support");

                    b.Property<int?>("ClosedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("ClosedDate")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<int?>("CustomerId")
                        .HasColumnType("int")
                        .HasColumnName("CustomerID");

                    b.Property<DateTime?>("LastMessageDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("Priority")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(10)
                        .HasColumnType("nvarchar(10)")
                        .HasDefaultValue("Normal");

                    b.Property<int?>("Rating")
                        .HasColumnType("int");

                    b.Property<string>("Status")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Active");

                    b.Property<string>("Tags")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.HasKey("ChannelId")
                        .HasName("PK__ChatChan__38C3E8F48AF9D1A3");

                    b.HasIndex("AssignedUserId");

                    b.HasIndex("ClosedBy");

                    b.HasIndex("CustomerId");

                    b.ToTable("ChatChannels");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.ChatMessage", b =>
                {
                    b.Property<int>("MessageId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("MessageID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("MessageId"));

                    b.Property<int?>("AttachmentSize")
                        .HasColumnType("int");

                    b.Property<string>("AttachmentType")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("AttachmentUrl")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int>("ChannelId")
                        .HasColumnType("int")
                        .HasColumnName("ChannelID");

                    b.Property<DateTime?>("DeletedDate")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("DeliveredDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("DeviceType")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<DateTime?>("EditedDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("Ipaddress")
                        .HasMaxLength(45)
                        .HasColumnType("nvarchar(45)")
                        .HasColumnName("IPAddress");

                    b.Property<bool?>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<bool?>("IsDelivered")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<bool?>("IsRead")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<string>("MessageContent")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("MessageType")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Text");

                    b.Property<DateTime?>("ReadDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("RelatedAppointmentId")
                        .HasColumnType("int")
                        .HasColumnName("RelatedAppointmentID");

                    b.Property<int?>("RelatedInvoiceId")
                        .HasColumnType("int")
                        .HasColumnName("RelatedInvoiceID");

                    b.Property<int?>("RelatedWorkOrderId")
                        .HasColumnType("int")
                        .HasColumnName("RelatedWorkOrderID");

                    b.Property<int?>("ReplyToMessageId")
                        .HasColumnType("int")
                        .HasColumnName("ReplyToMessageID");

                    b.Property<int>("SenderId")
                        .HasColumnType("int")
                        .HasColumnName("SenderID");

                    b.Property<string>("SenderType")
                        .IsRequired()
                        .HasMaxLength(10)
                        .HasColumnType("nvarchar(10)");

                    b.Property<DateTime?>("Timestamp")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("UserAgent")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.HasKey("MessageId")
                        .HasName("PK__ChatMess__C87C037C9BFABD56");

                    b.HasIndex("ChannelId");

                    b.HasIndex("RelatedAppointmentId");

                    b.HasIndex("RelatedInvoiceId");

                    b.HasIndex("RelatedWorkOrderId");

                    b.HasIndex("ReplyToMessageId");

                    b.ToTable("ChatMessages");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.ChatQuickReply", b =>
                {
                    b.Property<int>("QuickReplyId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("QuickReplyID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("QuickReplyId"));

                    b.Property<string>("Category")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("MessageText")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<string>("Title")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<int?>("UseCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.HasKey("QuickReplyId")
                        .HasName("PK__ChatQuic__C682A55EBE5F3B85");

                    b.HasIndex("CreatedBy");

                    b.ToTable("ChatQuickReplies");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.ChecklistItem", b =>
                {
                    b.Property<int>("ItemId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("ItemID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("ItemId"));

                    b.Property<int?>("CompletedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CompletedDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("ImageUrl")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<bool?>("IsCompleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<bool?>("IsRequired")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("ItemDescription")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int?>("ItemOrder")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(1);

                    b.Property<string>("Notes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int?>("TemplateId")
                        .HasColumnType("int")
                        .HasColumnName("TemplateID");

                    b.Property<int>("WorkOrderId")
                        .HasColumnType("int")
                        .HasColumnName("WorkOrderID");

                    b.HasKey("ItemId")
                        .HasName("PK__Checklis__727E83EBA695EE5D");

                    b.HasIndex("CompletedBy");

                    b.HasIndex("TemplateId");

                    b.HasIndex("WorkOrderId");

                    b.ToTable("ChecklistItems");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.ChecklistTemplate", b =>
                {
                    b.Property<int>("TemplateId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("TemplateID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("TemplateId"));

                    b.Property<int?>("CategoryId")
                        .HasColumnType("int")
                        .HasColumnName("CategoryID");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("Items")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("ServiceId")
                        .HasColumnType("int")
                        .HasColumnName("ServiceID");

                    b.Property<string>("TemplateName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.HasKey("TemplateId")
                        .HasName("PK__Checklis__F87ADD07FE6D782B");

                    b.HasIndex("CategoryId");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("ServiceId");

                    b.ToTable("ChecklistTemplates");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.CustomerCommunicationPreference", b =>
                {
                    b.Property<int>("PreferenceId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("PreferenceID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("PreferenceId"));

                    b.Property<int>("CustomerId")
                        .HasColumnType("int")
                        .HasColumnName("CustomerID");

                    b.Property<bool?>("EmailNotifications")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<bool?>("MarketingCommunications")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<bool?>("PromotionalOffers")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<bool?>("PushNotifications")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<bool?>("ServiceReminders")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<bool?>("Smsnotifications")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true)
                        .HasColumnName("SMSNotifications");

                    b.Property<DateTime?>("UpdatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.HasKey("PreferenceId")
                        .HasName("PK__Customer__E228490FEC3F25E4");

                    b.HasIndex("CustomerId");

                    b.ToTable("CustomerCommunicationPreferences");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.CustomerPackageSubscription", b =>
                {
                    b.Property<int>("SubscriptionId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("SubscriptionID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("SubscriptionId"));

                    b.Property<bool?>("AutoRenew")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<string>("CancellationReason")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<DateTime?>("CancelledDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<int>("CustomerId")
                        .HasColumnType("int")
                        .HasColumnName("CustomerID");

                    b.Property<decimal?>("DiscountAmount")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<decimal?>("DiscountPercent")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(5, 2)")
                        .HasDefaultValue(0m);

                    b.Property<DateTime?>("ExpirationDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("InitialVehicleMileage")
                        .HasColumnType("int");

                    b.Property<int?>("InvoiceId")
                        .HasColumnType("int")
                        .HasColumnName("InvoiceID");

                    b.Property<DateTime?>("LastServiceDate")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("NextPaymentDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<decimal?>("OriginalPrice")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<int>("PackageId")
                        .HasColumnType("int")
                        .HasColumnName("PackageID");

                    b.Property<decimal?>("PaymentAmount")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<int?>("PaymentMethodId")
                        .HasColumnType("int")
                        .HasColumnName("PaymentMethodID");

                    b.Property<DateTime?>("PurchaseDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("RemainingServices")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<DateTime?>("RenewalDate")
                        .HasColumnType("datetime2");

                    b.Property<DateTime>("StartDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("Status")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Active");

                    b.Property<string>("SubscriptionCode")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<int?>("UsedServices")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<int?>("VehicleId")
                        .HasColumnType("int")
                        .HasColumnName("VehicleID");

                    b.HasKey("SubscriptionId")
                        .HasName("PK__Customer__9A2B24BD49D761F8");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("CustomerId");

                    b.HasIndex("InvoiceId");

                    b.HasIndex("PackageId");

                    b.HasIndex("PaymentMethodId");

                    b.HasIndex("VehicleId");

                    b.ToTable("CustomerPackageSubscriptions");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.DailyMetric", b =>
                {
                    b.Property<int>("DailyMetricId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("DailyMetricID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("DailyMetricId"));

                    b.Property<int?>("AppointmentsCancelled")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<int?>("AppointmentsCompleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<int?>("AppointmentsScheduled")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<decimal?>("AverageServiceTime")
                        .HasColumnType("decimal(8, 2)");

                    b.Property<int?>("CenterId")
                        .HasColumnType("int")
                        .HasColumnName("CenterID");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<decimal?>("CustomerSatisfactionAvg")
                        .HasColumnType("decimal(3, 2)");

                    b.Property<decimal?>("DailyRevenue")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<DateTime>("MetricDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("NewCustomers")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<decimal?>("PartsRevenue")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<int?>("ReworkCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<decimal?>("ServiceRevenue")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<decimal?>("TechnicianUtilization")
                        .HasColumnType("decimal(5, 2)");

                    b.Property<DateTime?>("UpdatedDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("WarrantyClaimsCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<int?>("WorkOrdersCompleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<int?>("WorkOrdersCreated")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.HasKey("DailyMetricId")
                        .HasName("PK__DailyMet__D09962A318FC9D36");

                    b.HasIndex("CenterId");

                    b.ToTable("DailyMetrics");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.DataRetentionPolicy", b =>
                {
                    b.Property<int>("PolicyId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("PolicyID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("PolicyId"));

                    b.Property<string>("ArchiveTableName")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<bool?>("DeleteAfterArchive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<DateTime?>("LastExecuted")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("NextExecution")
                        .HasColumnType("datetime2");

                    b.Property<string>("RetentionCondition")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int>("RetentionPeriodMonths")
                        .HasColumnType("int");

                    b.Property<string>("TableName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.HasKey("PolicyId")
                        .HasName("PK__DataRete__2E133944D99AE100");

                    b.HasIndex("CreatedBy");

                    b.ToTable("DataRetentionPolicies");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Department", b =>
                {
                    b.Property<int>("DepartmentId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("DepartmentID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("DepartmentId"));

                    b.Property<int?>("CenterId")
                        .HasColumnType("int")
                        .HasColumnName("CenterID");

                    b.Property<string>("DepartmentCode")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<string>("DepartmentName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<int?>("ManagerId")
                        .HasColumnType("int")
                        .HasColumnName("ManagerID");

                    b.HasKey("DepartmentId")
                        .HasName("PK__Departme__B2079BCD7A1C4AC9");

                    b.HasIndex("CenterId");

                    b.HasIndex("ManagerId");

                    b.ToTable("Departments");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.EmployeeSkill", b =>
                {
                    b.Property<int>("SkillId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("SkillID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("SkillId"));

                    b.Property<DateTime?>("CertificationDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("CertificationNumber")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("CertifyingBody")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateTime?>("ExpiryDate")
                        .HasColumnType("datetime2");

                    b.Property<bool?>("IsVerified")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<string>("Notes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("SkillLevel")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<string>("SkillName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<int>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("UserID");

                    b.Property<int?>("VerifiedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("VerifiedDate")
                        .HasColumnType("datetime2");

                    b.HasKey("SkillId")
                        .HasName("PK__Employee__DFA091E7A81A406B");

                    b.HasIndex("UserId");

                    b.HasIndex("VerifiedBy");

                    b.ToTable("EmployeeSkills");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Invoice", b =>
                {
                    b.Property<int>("InvoiceId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("InvoiceID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("InvoiceId"));

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<int>("CustomerId")
                        .HasColumnType("int")
                        .HasColumnName("CustomerID");

                    b.Property<DateTime?>("DueDate")
                        .HasColumnType("datetime2");

                    b.Property<decimal?>("GrandTotal")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("decimal(18, 2)")
                        .HasComputedColumnSql("((([ServiceSubTotal]-[ServiceDiscount])+[ServiceTax])+(([PartsSubTotal]-[PartsDiscount])+[PartsTax]))", true);

                    b.Property<string>("InvoiceCode")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<DateTime?>("InvoiceDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<decimal?>("OutstandingAmount")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("decimal(19, 2)")
                        .HasComputedColumnSql("(((([ServiceSubTotal]-[ServiceDiscount])+[ServiceTax])+(([PartsSubTotal]-[PartsDiscount])+[PartsTax]))-[PaidAmount])", true);

                    b.Property<decimal?>("PaidAmount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<decimal?>("PartsDiscount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<decimal?>("PartsSubTotal")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<decimal?>("PartsTax")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<decimal?>("PartsTotal")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("decimal(17, 2)")
                        .HasComputedColumnSql("(([PartsSubTotal]-[PartsDiscount])+[PartsTax])", true);

                    b.Property<string>("PaymentTerms")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateTime?>("SentDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("SentMethod")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<bool?>("SentToCustomer")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<decimal?>("ServiceDiscount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<decimal?>("ServiceSubTotal")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<decimal?>("ServiceTax")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<decimal?>("ServiceTotal")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("decimal(17, 2)")
                        .HasComputedColumnSql("(([ServiceSubTotal]-[ServiceDiscount])+[ServiceTax])", true);

                    b.Property<string>("Status")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Draft");

                    b.Property<decimal?>("SubTotal")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("decimal(16, 2)")
                        .HasComputedColumnSql("([ServiceSubTotal]+[PartsSubTotal])", true);

                    b.Property<decimal?>("TotalDiscount")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("decimal(16, 2)")
                        .HasComputedColumnSql("([ServiceDiscount]+[PartsDiscount])", true);

                    b.Property<decimal?>("TotalTax")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("decimal(16, 2)")
                        .HasComputedColumnSql("([ServiceTax]+[PartsTax])", true);

                    b.Property<int?>("UpdatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("WorkOrderId")
                        .HasColumnType("int")
                        .HasColumnName("WorkOrderID");

                    b.HasKey("InvoiceId")
                        .HasName("PK__Invoices__D796AAD526195D8C");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("CustomerId");

                    b.HasIndex("UpdatedBy");

                    b.HasIndex("WorkOrderId");

                    b.ToTable("Invoices");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Kpimetric", b =>
                {
                    b.Property<int>("MetricId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("MetricID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("MetricId"));

                    b.Property<string>("CalculationFormula")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("Category")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("MetricName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("MetricType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<decimal?>("TargetValue")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<string>("UnitOfMeasure")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.HasKey("MetricId")
                        .HasName("PK__KPIMetri__561056459F678B59");

                    b.ToTable("KPIMetrics");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.LoyaltyProgram", b =>
                {
                    b.Property<int>("ProgramId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("ProgramID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("ProgramId"));

                    b.Property<int?>("BirthdayBonus")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<DateTime?>("EndDate")
                        .HasColumnType("datetime2");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<int?>("MinimumRedemption")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(100);

                    b.Property<int?>("PointsExpiryDays")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(365);

                    b.Property<decimal?>("PointsPerDollar")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(10, 4)")
                        .HasDefaultValue(1.0m);

                    b.Property<string>("ProgramName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<int?>("ReferralBonus")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<DateTime?>("StartDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(CONVERT([date],getdate()))");

                    b.Property<string>("TierThresholds")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("WelcomeBonus")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.HasKey("ProgramId")
                        .HasName("PK__LoyaltyP__752560385C07EBF9");

                    b.HasIndex("CreatedBy");

                    b.ToTable("LoyaltyPrograms");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.LoyaltyTransaction", b =>
                {
                    b.Property<int>("TransactionId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("TransactionID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("TransactionId"));

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<int>("CustomerId")
                        .HasColumnType("int")
                        .HasColumnName("CustomerID");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<DateTime?>("ExpiryDate")
                        .HasColumnType("datetime2");

                    b.Property<int>("Points")
                        .HasColumnType("int");

                    b.Property<int>("ProgramId")
                        .HasColumnType("int")
                        .HasColumnName("ProgramID");

                    b.Property<int?>("ReferenceId")
                        .HasColumnType("int")
                        .HasColumnName("ReferenceID");

                    b.Property<string>("ReferenceType")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<DateTime?>("TransactionDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("TransactionType")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.HasKey("TransactionId")
                        .HasName("PK__LoyaltyT__55433A4B990C52E0");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("CustomerId");

                    b.HasIndex("ProgramId");

                    b.ToTable("LoyaltyTransactions");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.MaintenanceHistory", b =>
                {
                    b.Property<int>("HistoryId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("HistoryID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("HistoryId"));

                    b.Property<decimal?>("BatteryHealthAfter")
                        .HasColumnType("decimal(5, 2)");

                    b.Property<decimal?>("BatteryHealthBefore")
                        .HasColumnType("decimal(5, 2)");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("CustomerNotes")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<string>("DiagnosticCodes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int?>("Mileage")
                        .HasColumnType("int");

                    b.Property<DateTime?>("NextServiceDue")
                        .HasColumnType("datetime2");

                    b.Property<int?>("NextServiceMileage")
                        .HasColumnType("int");

                    b.Property<string>("PartsReplaced")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime>("ServiceDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("ServiceRating")
                        .HasColumnType("int");

                    b.Property<string>("ServicesPerformed")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("TechnicianNotes")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<decimal?>("TotalCost")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("decimal(16, 2)")
                        .HasComputedColumnSql("([TotalServiceCost]+[TotalPartsCost])", true);

                    b.Property<decimal?>("TotalPartsCost")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<decimal?>("TotalServiceCost")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<int>("VehicleId")
                        .HasColumnType("int")
                        .HasColumnName("VehicleID");

                    b.Property<int>("WorkOrderId")
                        .HasColumnType("int")
                        .HasColumnName("WorkOrderID");

                    b.HasKey("HistoryId")
                        .HasName("PK__Maintena__4D7B4ADDD775C4B8");

                    b.HasIndex("VehicleId");

                    b.HasIndex("WorkOrderId");

                    b.ToTable("MaintenanceHistory");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.MaintenancePackage", b =>
                {
                    b.Property<int>("PackageId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("PackageID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("PackageId"));

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<decimal?>("DiscountPercent")
                        .HasColumnType("decimal(5, 2)");

                    b.Property<string>("ImageUrl")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<bool?>("IsPopular")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<string>("PackageCode")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<string>("PackageName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<decimal?>("TotalPrice")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<int?>("ValidityMileage")
                        .HasColumnType("int");

                    b.Property<int?>("ValidityPeriod")
                        .HasColumnType("int");

                    b.HasKey("PackageId")
                        .HasName("PK__Maintena__322035EC3FB048A9");

                    b.ToTable("MaintenancePackages");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.ModelServicePricing", b =>
                {
                    b.Property<int>("PricingId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("PricingID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("PricingId"));

                    b.Property<DateTime?>("CreatedDate")
                        .HasColumnType("datetime2");

                    b.Property<decimal?>("CustomPrice")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<int?>("CustomTime")
                        .HasColumnType("int");

                    b.Property<DateTime?>("EffectiveDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(CONVERT([date],getdate()))");

                    b.Property<DateTime?>("ExpiryDate")
                        .HasColumnType("datetime2");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<int>("ModelId")
                        .HasColumnType("int")
                        .HasColumnName("ModelID");

                    b.Property<string>("Notes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int>("ServiceId")
                        .HasColumnType("int")
                        .HasColumnName("ServiceID");

                    b.Property<DateTime?>("UpdatedDate")
                        .HasColumnType("datetime2");

                    b.HasKey("PricingId")
                        .HasName("PK__ModelSer__EC306B7289B90AA9");

                    b.HasIndex("ModelId");

                    b.HasIndex("ServiceId");

                    b.ToTable("ModelServicePricing");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Notification", b =>
                {
                    b.Property<int>("NotificationId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("NotificationID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("NotificationId"));

                    b.Property<string>("Channel")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<int?>("CustomerId")
                        .HasColumnType("int")
                        .HasColumnName("CustomerID");

                    b.Property<DateTime?>("DeliveredDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("FailureReason")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("Message")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("NotificationCode")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<string>("Priority")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(10)
                        .HasColumnType("nvarchar(10)")
                        .HasDefaultValue("Normal");

                    b.Property<DateTime?>("ReadDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("RecipientAddress")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<string>("RecipientName")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("RecipientType")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<int?>("RelatedId")
                        .HasColumnType("int")
                        .HasColumnName("RelatedID");

                    b.Property<string>("RelatedType")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<int?>("RetryCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<DateTime?>("ScheduledDate")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("SendDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("Status")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Pending");

                    b.Property<string>("Subject")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<int?>("TemplateId")
                        .HasColumnType("int")
                        .HasColumnName("TemplateID");

                    b.Property<int?>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("UserID");

                    b.HasKey("NotificationId")
                        .HasName("PK__Notifica__20CF2E321CBA13BB");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("CustomerId");

                    b.HasIndex("TemplateId");

                    b.HasIndex("UserId");

                    b.ToTable("Notifications");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.NotificationDeliveryLog", b =>
                {
                    b.Property<int>("LogId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("LogID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("LogId"));

                    b.Property<DateTime?>("AttemptDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<int>("AttemptNumber")
                        .HasColumnType("int");

                    b.Property<decimal?>("Cost")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(10, 4)")
                        .HasDefaultValue(0m);

                    b.Property<string>("DeliveryStatus")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<int?>("DeliveryTime")
                        .HasColumnType("int");

                    b.Property<int>("NotificationId")
                        .HasColumnType("int")
                        .HasColumnName("NotificationID");

                    b.Property<string>("ProviderName")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("ResponseCode")
                        .HasMaxLength(10)
                        .HasColumnType("nvarchar(10)");

                    b.Property<string>("ResponseMessage")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.HasKey("LogId")
                        .HasName("PK__Notifica__5E5499A87E1E7382");

                    b.HasIndex("NotificationId");

                    b.ToTable("NotificationDeliveryLog");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.NotificationTemplate", b =>
                {
                    b.Property<int>("TemplateId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("TemplateID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("TemplateId"));

                    b.Property<string>("Channel")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<bool?>("IsAutomatic")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("MessageTemplate")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("SendDelay")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<string>("Subject")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<string>("TemplateCode")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("TemplateName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("TriggerCondition")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("TriggerEvent")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<int>("TypeId")
                        .HasColumnType("int")
                        .HasColumnName("TypeID");

                    b.HasKey("TemplateId")
                        .HasName("PK__Notifica__F87ADD07A2668407");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("TypeId");

                    b.ToTable("NotificationTemplates");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.NotificationType", b =>
                {
                    b.Property<int>("TypeId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("TypeID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("TypeId"));

                    b.Property<string>("Category")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<bool?>("DefaultEnabled")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("Description")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("TypeName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.HasKey("TypeId")
                        .HasName("PK__Notifica__516F03953D44EDA0");

                    b.ToTable("NotificationTypes");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.OnlinePayment", b =>
                {
                    b.Property<int>("OnlinePaymentId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("OnlinePaymentID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("OnlinePaymentId"));

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("GatewayName")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("GatewayTransactionId")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)")
                        .HasColumnName("GatewayTransactionID");

                    b.Property<string>("Ipaddress")
                        .HasMaxLength(45)
                        .HasColumnType("nvarchar(45)")
                        .HasColumnName("IPAddress");

                    b.Property<int>("PaymentId")
                        .HasColumnType("int")
                        .HasColumnName("PaymentID");

                    b.Property<string>("PaymentStatus")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasDefaultValue("Pending");

                    b.Property<int?>("ProcessingTime")
                        .HasColumnType("int");

                    b.Property<string>("RequestData")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ResponseCode")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("ResponseData")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ResponseMessage")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<DateTime?>("UpdatedDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("UserAgent")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.HasKey("OnlinePaymentId")
                        .HasName("PK__OnlinePa__029C2CE0D6C97D07");

                    b.HasIndex("PaymentId");

                    b.HasIndex("GatewayName", "GatewayTransactionId")
                        .IsUnique()
                        .HasDatabaseName("UX_OnlinePayment_Gateway_Transaction")
                        .HasFilter("[GatewayTransactionId] IS NOT NULL");

                    b.ToTable("OnlinePayments");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.PackageService", b =>
                {
                    b.Property<int>("PackageServiceId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("PackageServiceID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("PackageServiceId"));

                    b.Property<decimal?>("AdditionalCost")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<bool?>("IncludedInPackage")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<int>("PackageId")
                        .HasColumnType("int")
                        .HasColumnName("PackageID");

                    b.Property<int?>("Quantity")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(1);

                    b.Property<int>("ServiceId")
                        .HasColumnType("int")
                        .HasColumnName("ServiceID");

                    b.HasKey("PackageServiceId")
                        .HasName("PK__PackageS__5EAFC2105FEBAB58");

                    b.HasIndex("PackageId");

                    b.HasIndex("ServiceId");

                    b.ToTable("PackageServices");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.PackageServiceUsage", b =>
                {
                    b.Property<int>("UsageId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("UsageID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("UsageId"));

                    b.Property<int?>("LastUsedAppointmentId")
                        .HasColumnType("int")
                        .HasColumnName("LastUsedAppointmentID");

                    b.Property<DateTime?>("LastUsedDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("Notes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int>("RemainingQuantity")
                        .HasColumnType("int");

                    b.Property<int>("ServiceId")
                        .HasColumnType("int")
                        .HasColumnName("ServiceID");

                    b.Property<int>("SubscriptionId")
                        .HasColumnType("int")
                        .HasColumnName("SubscriptionID");

                    b.Property<int>("TotalAllowedQuantity")
                        .HasColumnType("int");

                    b.Property<int>("UsedQuantity")
                        .HasColumnType("int");

                    b.HasKey("UsageId");

                    b.HasIndex("ServiceId");

                    b.HasIndex("SubscriptionId");

                    b.ToTable("PackageServiceUsages");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Part", b =>
                {
                    b.Property<int>("PartId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("PartID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("PartId"));

                    b.Property<string>("AlternativePartIds")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)")
                        .HasColumnName("AlternativePartIDs");

                    b.Property<string>("BarCode")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<int?>("BrandId")
                        .HasColumnType("int")
                        .HasColumnName("BrandID");

                    b.Property<int>("CategoryId")
                        .HasColumnType("int")
                        .HasColumnName("CategoryID");

                    b.Property<string>("CompatibleModels")
                        .HasColumnType("nvarchar(max)");

                    b.Property<decimal?>("CostPrice")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<int?>("CurrentStock")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<string>("Dimensions")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("ImageUrl")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<bool?>("IsConsumable")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<DateTime?>("LastCostUpdateDate")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("LastStockUpdateDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("Location")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<int?>("MaxStock")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(1000);

                    b.Property<int?>("MinStock")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<string>("PartCode")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("PartCondition")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("New");

                    b.Property<string>("PartName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<int?>("ReorderLevel")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<decimal?>("SellingPrice")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<int?>("SupplierId")
                        .HasColumnType("int")
                        .HasColumnName("SupplierID");

                    b.Property<string>("TechnicalSpecs")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Unit")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("PCS");

                    b.Property<int?>("WarrantyPeriod")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(12);

                    b.Property<decimal?>("Weight")
                        .HasColumnType("decimal(10, 3)");

                    b.HasKey("PartId")
                        .HasName("PK__Parts__7C3F0D3053AF215E");

                    b.HasIndex("BrandId");

                    b.HasIndex("CategoryId");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("SupplierId");

                    b.ToTable("Parts");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.PartCategory", b =>
                {
                    b.Property<int>("CategoryId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("CategoryID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("CategoryId"));

                    b.Property<string>("CategoryName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("ImageUrl")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<int?>("ParentCategoryId")
                        .HasColumnType("int")
                        .HasColumnName("ParentCategoryID");

                    b.HasKey("CategoryId")
                        .HasName("PK__PartCate__19093A2B4A988338");

                    b.HasIndex("ParentCategoryId");

                    b.ToTable("PartCategories");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.PartInventory", b =>
                {
                    b.Property<int>("InventoryId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("InventoryID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("InventoryId"));

                    b.Property<int?>("AvailableStock")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("int")
                        .HasComputedColumnSql("([CurrentStock]-[ReservedStock])", true);

                    b.Property<int>("CenterId")
                        .HasColumnType("int")
                        .HasColumnName("CenterID");

                    b.Property<int?>("CurrentStock")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<DateTime?>("LastStockTakeDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("Location")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<int>("PartId")
                        .HasColumnType("int")
                        .HasColumnName("PartID");

                    b.Property<int?>("ReservedStock")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<int?>("UpdatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.HasKey("InventoryId")
                        .HasName("PK__PartInve__F5FDE6D3649D35C9");

                    b.HasIndex("CenterId");

                    b.HasIndex("PartId");

                    b.HasIndex("UpdatedBy");

                    b.ToTable("PartInventory");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Payment", b =>
                {
                    b.Property<int>("PaymentId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("PaymentID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("PaymentId"));

                    b.Property<decimal>("Amount")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<string>("BankRef")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("FailureReason")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int>("InvoiceId")
                        .HasColumnType("int")
                        .HasColumnName("InvoiceID");

                    b.Property<int>("MethodId")
                        .HasColumnType("int")
                        .HasColumnName("MethodID");

                    b.Property<decimal?>("NetAmount")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("decimal(16, 2)")
                        .HasComputedColumnSql("([Amount]-[ProcessingFee])", true);

                    b.Property<string>("Notes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("PaymentCode")
                        .IsRequired()
                        .HasMaxLength(30)
                        .HasColumnType("nvarchar(30)");

                    b.Property<DateTime?>("PaymentDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<int?>("ProcessedBy")
                        .HasColumnType("int");

                    b.Property<decimal?>("ProcessingFee")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(10, 2)")
                        .HasDefaultValue(0m);

                    b.Property<decimal?>("RefundAmount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<DateTime?>("RefundDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("RefundReason")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("Status")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Completed");

                    b.Property<string>("TransactionRef")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.HasKey("PaymentId")
                        .HasName("PK__Payments__9B556A587DB8A83F");

                    b.HasIndex("InvoiceId");

                    b.HasIndex("MethodId");

                    b.HasIndex("ProcessedBy");

                    b.ToTable("Payments");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.PaymentMethod", b =>
                {
                    b.Property<int>("MethodId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("MethodID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("MethodId"));

                    b.Property<int?>("DisplayOrder")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<decimal?>("FixedFee")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(10, 2)")
                        .HasDefaultValue(0m);

                    b.Property<string>("GatewayProvider")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("IconUrl")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<bool?>("IsOnline")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<string>("MethodCode")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<string>("MethodName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("PaymentType")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<decimal?>("ProcessingFee")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(5, 4)")
                        .HasDefaultValue(0m);

                    b.Property<string>("ProviderConfig")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool?>("RequiresApproval")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.HasKey("MethodId")
                        .HasName("PK__PaymentM__FC681FB15BC7676A");

                    b.ToTable("PaymentMethods");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.PaymentTransaction", b =>
                {
                    b.Property<int>("TransactionId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("TransactionID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("TransactionId"));

                    b.Property<decimal>("Amount")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<int>("AppointmentId")
                        .HasColumnType("int")
                        .HasColumnName("AppointmentID");

                    b.Property<DateTime?>("AuthorizedDate")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("CapturedDate")
                        .HasColumnType("datetime2");

                    b.Property<DateTime>("CreatedDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("Currency")
                        .IsRequired()
                        .HasMaxLength(3)
                        .HasColumnType("nvarchar(3)");

                    b.Property<int>("CustomerId")
                        .HasColumnType("int")
                        .HasColumnName("CustomerID");

                    b.Property<string>("ErrorCode")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("ErrorMessage")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<DateTime?>("FailedDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("GatewayName")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("GatewayResponse")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("GatewayTransactionId")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<int?>("PaymentIntentId")
                        .HasColumnType("int")
                        .HasColumnName("PaymentIntentID");

                    b.Property<string>("PaymentMethod")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<DateTime?>("RefundedDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.HasKey("TransactionId");

                    b.HasIndex("AppointmentId");

                    b.HasIndex("CustomerId");

                    b.HasIndex("PaymentIntentId");

                    b.ToTable("PaymentTransactions");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.PerformanceMetric", b =>
                {
                    b.Property<int>("MetricId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("MetricID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("MetricId"));

                    b.Property<int?>("AbsentCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<decimal?>("AverageServiceTime")
                        .HasColumnType("decimal(8, 2)");

                    b.Property<int?>("CertificationsEarned")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<int?>("ComplaintCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<decimal?>("CustomerRatingAvg")
                        .HasColumnType("decimal(3, 2)");

                    b.Property<decimal?>("EfficiencyRating")
                        .HasColumnType("decimal(3, 2)");

                    b.Property<decimal?>("HoursWorked")
                        .HasColumnType("decimal(8, 2)");

                    b.Property<int?>("LateCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<DateTime>("MetricDate")
                        .HasColumnType("datetime2");

                    b.Property<decimal?>("OvertimeHours")
                        .HasColumnType("decimal(8, 2)");

                    b.Property<decimal?>("RevenueGenerated")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<int?>("ReworkCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<int?>("ServicesCompleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<decimal?>("TrainingHoursCompleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(8, 2)")
                        .HasDefaultValue(0m);

                    b.Property<int>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("UserID");

                    b.Property<int?>("WorkOrdersCompleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.HasKey("MetricId")
                        .HasName("PK__Performa__561056451E964448");

                    b.HasIndex("UserId");

                    b.ToTable("PerformanceMetrics");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Promotion", b =>
                {
                    b.Property<int>("PromotionId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("PromotionID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("PromotionId"));

                    b.Property<string>("ApplicableCategories")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ApplicableServices")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("CustomerTypes")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<decimal?>("DiscountValue")
                        .HasColumnType("decimal(10, 2)");

                    b.Property<DateTime>("EndDate")
                        .HasColumnType("datetime2");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<decimal?>("MaximumDiscount")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<decimal?>("MinimumAmount")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<string>("PromotionCode")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<string>("PromotionName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("PromotionType")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<DateTime>("StartDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("Terms")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("UsageCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<int?>("UsageLimit")
                        .HasColumnType("int");

                    b.HasKey("PromotionId")
                        .HasName("PK__Promotio__52C42F2F955E70A8");

                    b.HasIndex("CreatedBy");

                    b.ToTable("Promotions");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.PurchaseOrder", b =>
                {
                    b.Property<int>("PurchaseOrderId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("PurchaseOrderID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("PurchaseOrderId"));

                    b.Property<int?>("ApprovedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("ApprovedDate")
                        .HasColumnType("datetime2");

                    b.Property<int>("CenterId")
                        .HasColumnType("int")
                        .HasColumnName("CenterID");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<DateTime?>("OrderDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(CONVERT([date],getdate()))");

                    b.Property<string>("Ponumber")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasColumnName("PONumber");

                    b.Property<DateTime?>("ReceivedDate")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("RequiredDate")
                        .HasColumnType("datetime2");

                    b.Property<decimal?>("ShippingCost")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<string>("Status")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Pending");

                    b.Property<decimal?>("SubTotal")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<int>("SupplierId")
                        .HasColumnType("int")
                        .HasColumnName("SupplierID");

                    b.Property<decimal?>("TaxAmount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<decimal?>("TotalAmount")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("decimal(17, 2)")
                        .HasComputedColumnSql("(([SubTotal]+[TaxAmount])+[ShippingCost])", true);

                    b.HasKey("PurchaseOrderId")
                        .HasName("PK__Purchase__036BAC449534989B");

                    b.HasIndex("ApprovedBy");

                    b.HasIndex("CenterId");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("SupplierId");

                    b.ToTable("PurchaseOrders");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.PurchaseOrderDetail", b =>
                {
                    b.Property<int>("PodetailId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("PODetailID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("PodetailId"));

                    b.Property<int>("PartId")
                        .HasColumnType("int")
                        .HasColumnName("PartID");

                    b.Property<int>("PurchaseOrderId")
                        .HasColumnType("int")
                        .HasColumnName("PurchaseOrderID");

                    b.Property<int>("Quantity")
                        .HasColumnType("int");

                    b.Property<int?>("ReceivedQuantity")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<int?>("RemainingQuantity")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("int")
                        .HasComputedColumnSql("([Quantity]-[ReceivedQuantity])", true);

                    b.Property<decimal?>("TotalCost")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("decimal(26, 2)")
                        .HasComputedColumnSql("([Quantity]*[UnitCost])", true);

                    b.Property<decimal?>("UnitCost")
                        .HasColumnType("decimal(15, 2)");

                    b.HasKey("PodetailId")
                        .HasName("PK__Purchase__4EB47B5EA0AA979C");

                    b.HasIndex("PartId");

                    b.HasIndex("PurchaseOrderId");

                    b.ToTable("PurchaseOrderDetails");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Report", b =>
                {
                    b.Property<int>("ReportId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("ReportID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("ReportId"));

                    b.Property<int?>("AccessCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<int?>("CenterId")
                        .HasColumnType("int")
                        .HasColumnName("CenterID");

                    b.Property<DateTime?>("EndDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("FileFormat")
                        .HasMaxLength(10)
                        .HasColumnType("nvarchar(10)");

                    b.Property<string>("FilePath")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int?>("FileSize")
                        .HasColumnType("int");

                    b.Property<int?>("GeneratedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("GeneratedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<bool?>("IsScheduled")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<string>("KeyInsights")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<DateTime?>("LastAccessedDate")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("NextRunDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("Parameters")
                        .HasColumnType("nvarchar(max)");

                    b.Property<decimal?>("ProfitAmount")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<string>("ReportCategory")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("ReportCode")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<string>("ReportName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("ReportType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("ScheduleFrequency")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<DateTime?>("StartDate")
                        .HasColumnType("datetime2");

                    b.Property<decimal?>("TotalAmount")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<int?>("TotalRecords")
                        .HasColumnType("int");

                    b.HasKey("ReportId")
                        .HasName("PK__Reports__D5BD48E5F07D7347");

                    b.HasIndex("CenterId");

                    b.HasIndex("GeneratedBy");

                    b.ToTable("Reports");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.SecurityEvent", b =>
                {
                    b.Property<int>("EventId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("EventID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("EventId"));

                    b.Property<string>("BlockReason")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<DateTime?>("EventDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("EventDescription")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<string>("EventType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("Ipaddress")
                        .HasMaxLength(45)
                        .HasColumnType("nvarchar(45)")
                        .HasColumnName("IPAddress");

                    b.Property<bool?>("IsBlocked")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<string>("Resolution")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int?>("ResolvedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("ResolvedDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("RiskLevel")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Low");

                    b.Property<string>("UserAgent")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int?>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("UserID");

                    b.HasKey("EventId")
                        .HasName("PK__Security__7944C870A4DE4C35");

                    b.HasIndex("ResolvedBy");

                    b.HasIndex("UserId");

                    b.ToTable("SecurityEvents");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.ServiceRating", b =>
                {
                    b.Property<int>("RatingId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("RatingID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("RatingId"));

                    b.Property<int?>("AdvisorId")
                        .HasColumnType("int")
                        .HasColumnName("AdvisorID");

                    b.Property<int?>("CommunicationQuality")
                        .HasColumnType("int");

                    b.Property<int>("CustomerId")
                        .HasColumnType("int")
                        .HasColumnName("CustomerID");

                    b.Property<int?>("FacilityQuality")
                        .HasColumnType("int");

                    b.Property<bool?>("IsVerified")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<string>("NegativeFeedback")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<int?>("OverallRating")
                        .HasColumnType("int");

                    b.Property<string>("PositiveFeedback")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<int?>("PriceValue")
                        .HasColumnType("int");

                    b.Property<DateTime?>("RatingDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<int?>("RespondedBy")
                        .HasColumnType("int");

                    b.Property<string>("ResponseMethod")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<int?>("ServiceQuality")
                        .HasColumnType("int");

                    b.Property<int?>("StaffProfessionalism")
                        .HasColumnType("int");

                    b.Property<string>("Suggestions")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<int?>("TechnicianId")
                        .HasColumnType("int")
                        .HasColumnName("TechnicianID");

                    b.Property<int?>("WaitingTime")
                        .HasColumnType("int");

                    b.Property<int>("WorkOrderId")
                        .HasColumnType("int")
                        .HasColumnName("WorkOrderID");

                    b.Property<bool?>("WouldRecommend")
                        .HasColumnType("bit");

                    b.Property<bool?>("WouldReturn")
                        .HasColumnType("bit");

                    b.HasKey("RatingId")
                        .HasName("PK__ServiceR__FCCDF85CC2260A6C");

                    b.HasIndex("AdvisorId");

                    b.HasIndex("CustomerId");

                    b.HasIndex("RespondedBy");

                    b.HasIndex("TechnicianId");

                    b.HasIndex("WorkOrderId");

                    b.ToTable("ServiceRatings");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.ServiceSourceAuditLog", b =>
                {
                    b.Property<int>("AuditId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("AuditID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("AuditId"));

                    b.Property<int>("AppointmentId")
                        .HasColumnType("int")
                        .HasColumnName("AppointmentID");

                    b.Property<int>("AppointmentServiceId")
                        .HasColumnType("int")
                        .HasColumnName("AppointmentServiceID");

                    b.Property<string>("ChangeReason")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<string>("ChangeType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<int?>("ChangedBy")
                        .HasColumnType("int");

                    b.Property<DateTime>("ChangedDate")
                        .HasColumnType("datetime2");

                    b.Property<int>("CustomerId")
                        .HasColumnType("int")
                        .HasColumnName("CustomerID");

                    b.Property<string>("IpAddress")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<decimal>("NewPrice")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<string>("NewServiceSource")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<decimal>("OldPrice")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<string>("OldServiceSource")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<decimal>("PriceDifference")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("decimal(15, 2)");

                    b.Property<decimal?>("RefundAmount")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<bool>("RefundIssued")
                        .HasColumnType("bit");

                    b.Property<int>("ServiceId")
                        .HasColumnType("int")
                        .HasColumnName("ServiceID");

                    b.Property<bool>("UsageDeducted")
                        .HasColumnType("bit");

                    b.Property<string>("UserAgent")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.HasKey("AuditId");

                    b.HasIndex("AppointmentId");

                    b.HasIndex("AppointmentServiceId");

                    b.HasIndex("ChangedBy");

                    b.HasIndex("ServiceId");

                    b.ToTable("ServiceSourceAuditLog");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Shift", b =>
                {
                    b.Property<int>("ShiftId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("ShiftID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("ShiftId"));

                    b.Property<string>("AbsentReason")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<TimeSpan?>("ActualBreakEnd")
                        .HasColumnType("time");

                    b.Property<TimeSpan?>("ActualBreakStart")
                        .HasColumnType("time");

                    b.Property<TimeSpan?>("ActualEndTime")
                        .HasColumnType("time");

                    b.Property<TimeSpan?>("ActualStartTime")
                        .HasColumnType("time");

                    b.Property<DateTime?>("ApprovalDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("ApprovedBy")
                        .HasColumnType("int");

                    b.Property<TimeSpan?>("BreakEndTime")
                        .HasColumnType("time");

                    b.Property<int?>("BreakMinutes")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("int")
                        .HasComputedColumnSql("(case when [ActualBreakStart] IS NOT NULL AND [ActualBreakEnd] IS NOT NULL then datediff(minute,[ActualBreakStart],[ActualBreakEnd]) else (0) end)", true);

                    b.Property<TimeSpan?>("BreakStartTime")
                        .HasColumnType("time");

                    b.Property<int>("CenterId")
                        .HasColumnType("int")
                        .HasColumnName("CenterID");

                    b.Property<DateTime?>("CheckInTime")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("CheckOutTime")
                        .HasColumnType("datetime2");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<TimeSpan>("EndTime")
                        .HasColumnType("time");

                    b.Property<bool?>("IsEarlyLeave")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<bool?>("IsLate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<decimal?>("NetWorkingHours")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("numeric(18, 6)")
                        .HasComputedColumnSql("(case when [ActualStartTime] IS NOT NULL AND [ActualEndTime] IS NOT NULL then datediff(minute,[ActualStartTime],[ActualEndTime])/(60.0)-case when [ActualBreakStart] IS NOT NULL AND [ActualBreakEnd] IS NOT NULL then datediff(minute,[ActualBreakStart],[ActualBreakEnd])/(60.0) else (0) end  end)", true);

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<DateTime>("ShiftDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("ShiftType")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Regular");

                    b.Property<TimeSpan>("StartTime")
                        .HasColumnType("time");

                    b.Property<string>("Status")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Scheduled");

                    b.Property<int>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("UserID");

                    b.Property<decimal?>("WorkedHours")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("numeric(17, 6)")
                        .HasComputedColumnSql("(case when [ActualStartTime] IS NOT NULL AND [ActualEndTime] IS NOT NULL then datediff(minute,[ActualStartTime],[ActualEndTime])/(60.0)  end)", true);

                    b.HasKey("ShiftId")
                        .HasName("PK__Shifts__C0A838E1D7590458");

                    b.HasIndex("ApprovedBy");

                    b.HasIndex("CenterId");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("UserId");

                    b.ToTable("Shifts");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.StockTransaction", b =>
                {
                    b.Property<int>("TransactionId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("TransactionID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("TransactionId"));

                    b.Property<string>("BatchNumber")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<int?>("CenterId")
                        .HasColumnType("int")
                        .HasColumnName("CenterID");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("ExpiryDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("InvoiceNumber")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("Notes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int>("PartId")
                        .HasColumnType("int")
                        .HasColumnName("PartID");

                    b.Property<int>("Quantity")
                        .HasColumnType("int");

                    b.Property<int?>("ReferenceId")
                        .HasColumnType("int")
                        .HasColumnName("ReferenceID");

                    b.Property<string>("ReferenceType")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<int?>("SupplierId")
                        .HasColumnType("int")
                        .HasColumnName("SupplierID");

                    b.Property<decimal?>("TotalCost")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("decimal(26, 2)")
                        .HasComputedColumnSql("([Quantity]*[UnitCost])", true);

                    b.Property<DateTime?>("TransactionDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("TransactionType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<decimal?>("UnitCost")
                        .HasColumnType("decimal(15, 2)");

                    b.HasKey("TransactionId")
                        .HasName("PK__StockTra__55433A4B44E46CCE");

                    b.HasIndex("CenterId");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("PartId");

                    b.HasIndex("SupplierId");

                    b.ToTable("StockTransactions");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Supplier", b =>
                {
                    b.Property<int>("SupplierId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("SupplierID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("SupplierId"));

                    b.Property<string>("Address")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("City")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("ContactName")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<decimal?>("CreditLimit")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<string>("Email")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<bool?>("IsPreferred")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<string>("PaymentTerms")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("PhoneNumber")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<int?>("Rating")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(3);

                    b.Property<string>("SupplierCode")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<string>("SupplierName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.HasKey("SupplierId")
                        .HasName("PK__Supplier__4BE666946869E259");

                    b.ToTable("Suppliers");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.SystemConfiguration", b =>
                {
                    b.Property<int>("ConfigId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("ConfigID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("ConfigId"));

                    b.Property<string>("Category")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("ConfigKey")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("ConfigValue")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("DataType")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("String");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<bool?>("IsEditable")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<bool?>("RequiresRestart")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<int?>("UpdatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.HasKey("ConfigId")
                        .HasName("PK__SystemCo__C3BC333CA8449B51");

                    b.HasIndex("UpdatedBy");

                    b.ToTable("SystemConfigurations");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.TechnicianSchedule", b =>
                {
                    b.Property<int>("ScheduleId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("ScheduleID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("ScheduleId"));

                    b.Property<int?>("AvailableMinutes")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("int")
                        .HasComputedColumnSql("([MaxCapacityMinutes]-[BookedMinutes])", true);

                    b.Property<int?>("BookedMinutes")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<TimeSpan?>("BreakEndTime")
                        .HasColumnType("time");

                    b.Property<TimeSpan?>("BreakStartTime")
                        .HasColumnType("time");

                    b.Property<int>("CenterId")
                        .HasColumnType("int")
                        .HasColumnName("CenterID");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<TimeSpan>("EndTime")
                        .HasColumnType("time");

                    b.Property<bool?>("IsAvailable")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<int?>("MaxCapacityMinutes")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(480);

                    b.Property<string>("Notes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("ShiftType")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Regular");

                    b.Property<TimeSpan>("StartTime")
                        .HasColumnType("time");

                    b.Property<int>("TechnicianId")
                        .HasColumnType("int")
                        .HasColumnName("TechnicianID");

                    b.Property<DateTime>("WorkDate")
                        .HasColumnType("datetime2");

                    b.HasKey("ScheduleId")
                        .HasName("PK__Technici__9C8A5B6984F36596");

                    b.HasIndex("CenterId");

                    b.HasIndex("TechnicianId");

                    b.ToTable("TechnicianSchedules");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.VehicleCustomService", b =>
                {
                    b.Property<int>("CustomServiceId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("CustomServiceID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("CustomServiceId"));

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<decimal?>("CustomPrice")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<int?>("EstimatedTime")
                        .HasColumnType("int");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<bool?>("IsRecurring")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<DateTime?>("LastPerformedDate")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("NextDueDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("RecurrenceInterval")
                        .HasColumnType("int");

                    b.Property<string>("ServiceName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<int>("VehicleId")
                        .HasColumnType("int")
                        .HasColumnName("VehicleID");

                    b.HasKey("CustomServiceId")
                        .HasName("PK__VehicleC__D736BE74D6FB7216");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("VehicleId");

                    b.ToTable("VehicleCustomServices");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.VehicleHealthMetric", b =>
                {
                    b.Property<int>("MetricId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("MetricID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("MetricId"));

                    b.Property<decimal?>("BatteryHealth")
                        .HasColumnType("decimal(5, 2)");

                    b.Property<decimal?>("BrakeWear")
                        .HasColumnType("decimal(5, 2)");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("DiagnosticCodes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<DateTime>("MetricDate")
                        .HasColumnType("datetime2");

                    b.Property<decimal?>("MotorEfficiency")
                        .HasColumnType("decimal(5, 2)");

                    b.Property<DateTime?>("NextCheckDue")
                        .HasColumnType("datetime2");

                    b.Property<decimal?>("OverallCondition")
                        .HasColumnType("decimal(5, 2)");

                    b.Property<string>("Recommendations")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<decimal?>("TireWear")
                        .HasColumnType("decimal(5, 2)");

                    b.Property<int>("VehicleId")
                        .HasColumnType("int")
                        .HasColumnName("VehicleID");

                    b.Property<int?>("WorkOrderId")
                        .HasColumnType("int")
                        .HasColumnName("WorkOrderID");

                    b.HasKey("MetricId")
                        .HasName("PK__VehicleH__56105645DC9176E3");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("VehicleId");

                    b.HasIndex("WorkOrderId");

                    b.ToTable("VehicleHealthMetrics");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Warranty", b =>
                {
                    b.Property<int>("WarrantyId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("WarrantyID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("WarrantyId"));

                    b.Property<DateTime?>("ClaimedDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("ClaimedWorkOrderId")
                        .HasColumnType("int")
                        .HasColumnName("ClaimedWorkOrderID");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<DateTime>("EndDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("Mileage")
                        .HasColumnType("int");

                    b.Property<int?>("MileageLimit")
                        .HasColumnType("int");

                    b.Property<int?>("PartId")
                        .HasColumnType("int")
                        .HasColumnName("PartID");

                    b.Property<int?>("ServiceId")
                        .HasColumnType("int")
                        .HasColumnName("ServiceID");

                    b.Property<DateTime>("StartDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("Status")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Active");

                    b.Property<string>("Terms")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("VoidDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("VoidReason")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("WarrantyCode")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<int?>("WarrantyPeriod")
                        .HasColumnType("int");

                    b.Property<int>("WarrantyTypeId")
                        .HasColumnType("int")
                        .HasColumnName("WarrantyTypeID");

                    b.Property<int>("WorkOrderId")
                        .HasColumnType("int")
                        .HasColumnName("WorkOrderID");

                    b.HasKey("WarrantyId")
                        .HasName("PK__Warranti__2ED318F39F393928");

                    b.HasIndex("ClaimedWorkOrderId");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("PartId");

                    b.HasIndex("ServiceId");

                    b.HasIndex("WarrantyTypeId");

                    b.HasIndex("WorkOrderId");

                    b.ToTable("Warranties");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.WarrantyType", b =>
                {
                    b.Property<int>("WarrantyTypeId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("WarrantyTypeID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("WarrantyTypeId"));

                    b.Property<int?>("DefaultPeriod")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(12);

                    b.Property<string>("Description")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("TypeName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.HasKey("WarrantyTypeId")
                        .HasName("PK__Warranty__EDA140F3DF34F290");

                    b.ToTable("WarrantyTypes");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.WorkOrder", b =>
                {
                    b.Property<int>("WorkOrderId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("WorkOrderID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("WorkOrderId"));

                    b.Property<int?>("AdvisorId")
                        .HasColumnType("int")
                        .HasColumnName("AdvisorID");

                    b.Property<string>("AppointmentCode")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<int?>("AppointmentId")
                        .HasColumnType("int")
                        .HasColumnName("AppointmentID");

                    b.Property<string>("ApprovalNotes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<bool?>("ApprovalRequired")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<int?>("ApprovedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("ApprovedDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("ChecklistCompleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<int?>("ChecklistTotal")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<DateTime?>("CompletedDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CreatedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<int>("CustomerId")
                        .HasColumnType("int")
                        .HasColumnName("CustomerID");

                    b.Property<string>("CustomerNotes")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<decimal?>("DiscountAmount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<decimal?>("EstimatedAmount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<DateTime?>("EstimatedCompletionDate")
                        .HasColumnType("datetime2");

                    b.Property<decimal?>("FinalAmount")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("decimal(17, 2)")
                        .HasComputedColumnSql("(([TotalAmount]-[DiscountAmount])+[TaxAmount])", true);

                    b.Property<string>("InternalNotes")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<string>("Priority")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Normal");

                    b.Property<decimal?>("ProgressPercentage")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(5, 2)")
                        .HasDefaultValue(0m);

                    b.Property<DateTime?>("QualityCheckDate")
                        .HasColumnType("datetime2");

                    b.Property<bool?>("QualityCheckRequired")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<int?>("QualityCheckedBy")
                        .HasColumnType("int");

                    b.Property<int?>("QualityRating")
                        .HasColumnType("int");

                    b.Property<bool?>("RequiresApproval")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<int>("ServiceCenterId")
                        .HasColumnType("int")
                        .HasColumnName("ServiceCenterID");

                    b.Property<string>("SourceType")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<DateTime?>("StartDate")
                        .HasColumnType("datetime2");

                    b.Property<int>("StatusId")
                        .HasColumnType("int")
                        .HasColumnName("StatusID");

                    b.Property<int?>("SupervisorId")
                        .HasColumnType("int")
                        .HasColumnName("SupervisorID");

                    b.Property<decimal?>("TaxAmount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<int?>("TechnicianId")
                        .HasColumnType("int")
                        .HasColumnName("TechnicianID");

                    b.Property<string>("TechnicianNotes")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<decimal?>("TotalAmount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<int?>("UpdatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedDate")
                        .HasColumnType("datetime2");

                    b.Property<int>("VehicleId")
                        .HasColumnType("int")
                        .HasColumnName("VehicleID");

                    b.Property<string>("WorkOrderCode")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.HasKey("WorkOrderId")
                        .HasName("PK__WorkOrde__AE755175BEE4870A");

                    b.HasIndex("AdvisorId");

                    b.HasIndex("AppointmentId");

                    b.HasIndex("ApprovedBy");

                    b.HasIndex("CreatedBy");

                    b.HasIndex("CustomerId");

                    b.HasIndex("QualityCheckedBy");

                    b.HasIndex("ServiceCenterId");

                    b.HasIndex("StatusId");

                    b.HasIndex("SupervisorId");

                    b.HasIndex("TechnicianId");

                    b.HasIndex("UpdatedBy");

                    b.HasIndex("VehicleId");

                    b.ToTable("WorkOrders");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.WorkOrderPart", b =>
                {
                    b.Property<int>("WorkOrderPartId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("WorkOrderPartID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("WorkOrderPartId"));

                    b.Property<decimal?>("DiscountAmount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<int?>("InstalledBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("InstalledDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("Notes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int>("PartId")
                        .HasColumnType("int")
                        .HasColumnName("PartID");

                    b.Property<int>("Quantity")
                        .HasColumnType("int");

                    b.Property<DateTime?>("ReceivedDate")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("RequestedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("Status")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)")
                        .HasDefaultValue("Ordered");

                    b.Property<decimal?>("TotalCost")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("decimal(26, 2)")
                        .HasComputedColumnSql("([Quantity]*[UnitCost])", true);

                    b.Property<decimal?>("TotalPrice")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("decimal(27, 2)")
                        .HasComputedColumnSql("([Quantity]*[UnitPrice]-[DiscountAmount])", true);

                    b.Property<decimal?>("UnitCost")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<decimal?>("UnitPrice")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<int?>("WarrantyPeriod")
                        .HasColumnType("int");

                    b.Property<int>("WorkOrderId")
                        .HasColumnType("int")
                        .HasColumnName("WorkOrderID");

                    b.HasKey("WorkOrderPartId")
                        .HasName("PK__WorkOrde__53622A6F9D3258B6");

                    b.HasIndex("InstalledBy");

                    b.HasIndex("PartId");

                    b.HasIndex("WorkOrderId");

                    b.ToTable("WorkOrderParts");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.WorkOrderService", b =>
                {
                    b.Property<int>("WorkOrderServiceId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("WorkOrderServiceID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("WorkOrderServiceId"));

                    b.Property<int?>("ActualTime")
                        .HasColumnType("int");

                    b.Property<DateTime?>("CompletedDate")
                        .HasColumnType("datetime2");

                    b.Property<decimal?>("DiscountAmount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(15, 2)")
                        .HasDefaultValue(0m);

                    b.Property<int?>("EstimatedTime")
                        .HasColumnType("int");

                    b.Property<string>("InternalNotes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("Notes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<decimal?>("ProgressPercentage")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("decimal(5, 2)")
                        .HasDefaultValue(0m);

                    b.Property<int?>("QualityRating")
                        .HasColumnType("int");

                    b.Property<int?>("Quantity")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(1);

                    b.Property<int>("ServiceId")
                        .HasColumnType("int")
                        .HasColumnName("ServiceID");

                    b.Property<DateTime?>("StartedDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("Status")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)")
                        .HasDefaultValue("Pending");

                    b.Property<int?>("TechnicianId")
                        .HasColumnType("int")
                        .HasColumnName("TechnicianID");

                    b.Property<decimal?>("TotalPrice")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("decimal(27, 2)")
                        .HasComputedColumnSql("([Quantity]*[UnitPrice]-[DiscountAmount])", true);

                    b.Property<decimal?>("UnitPrice")
                        .HasColumnType("decimal(15, 2)");

                    b.Property<int>("WorkOrderId")
                        .HasColumnType("int")
                        .HasColumnName("WorkOrderID");

                    b.HasKey("WorkOrderServiceId")
                        .HasName("PK__WorkOrde__EF7C24AA066AE7B2");

                    b.HasIndex("ServiceId");

                    b.HasIndex("TechnicianId");

                    b.HasIndex("WorkOrderId");

                    b.ToTable("WorkOrderServices");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.WorkOrderStatus", b =>
                {
                    b.Property<int>("StatusId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("StatusID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("StatusId"));

                    b.Property<bool?>("AllowEdit")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("Description")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<int?>("DisplayOrder")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<bool?>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<bool?>("RequireApproval")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<string>("StatusColor")
                        .HasMaxLength(10)
                        .HasColumnType("nvarchar(10)");

                    b.Property<string>("StatusName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.HasKey("StatusId")
                        .HasName("PK__WorkOrde__C8EE20434E20B889");

                    b.ToTable("WorkOrderStatus");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.WorkOrderTimeline", b =>
                {
                    b.Property<int>("TimelineId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("TimelineID");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("TimelineId"));

                    b.Property<string>("EventData")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("EventDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("(getdate())");

                    b.Property<string>("EventDescription")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("EventType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<bool?>("IsVisible")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<int?>("PerformedBy")
                        .HasColumnType("int");

                    b.Property<int>("WorkOrderId")
                        .HasColumnType("int")
                        .HasColumnName("WorkOrderID");

                    b.HasKey("TimelineId")
                        .HasName("PK__WorkOrde__1DE4F0E52CD568A0");

                    b.HasIndex("PerformedBy");

                    b.HasIndex("WorkOrderId");

                    b.ToTable("WorkOrderTimeline");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.AppointmentManagement.Entities.Appointment", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CompletedByNavigation")
                        .WithMany("AppointmentCompletedByNavigations")
                        .HasForeignKey("CompletedBy");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("AppointmentCreatedByNavigations")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__Appointme__Creat__56E8E7AB");

                    b.HasOne("EVServiceCenter.Core.Domains.Customers.Entities.Customer", "Customer")
                        .WithMany("Appointments")
                        .HasForeignKey("CustomerId")
                        .IsRequired()
                        .HasConstraintName("FK__Appointme__Custo__4E53A1AA");

                    b.HasOne("EVServiceCenter.Core.Domains.Payments.Entities.PaymentIntent", "LatestPaymentIntent")
                        .WithMany()
                        .HasForeignKey("LatestPaymentIntentId")
                        .HasConstraintName("FK_Appointments_LatestPaymentIntent");

                    b.HasOne("EVServiceCenter.Core.Entities.MaintenancePackage", "Package")
                        .WithMany("Appointments")
                        .HasForeignKey("PackageId")
                        .HasConstraintName("FK__Appointme__Packa__5224328E");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "PreferredTechnician")
                        .WithMany("AppointmentPreferredTechnicians")
                        .HasForeignKey("PreferredTechnicianId")
                        .HasConstraintName("FK__Appointme__Prefe__540C7B00");

                    b.HasOne("EVServiceCenter.Core.Entities.Promotion", "Promotion")
                        .WithMany("Appointments")
                        .HasForeignKey("PromotionId");

                    b.HasOne("EVServiceCenter.Core.Domains.AppointmentManagement.Entities.Appointment", "RescheduledFrom")
                        .WithMany("InverseRescheduledFrom")
                        .HasForeignKey("RescheduledFromId")
                        .HasConstraintName("FK__Appointme__Resch__55F4C372");

                    b.HasOne("EVServiceCenter.Core.Domains.ServiceCenters.Entities.ServiceCenter", "ServiceCenter")
                        .WithMany("Appointments")
                        .HasForeignKey("ServiceCenterId")
                        .IsRequired()
                        .HasConstraintName("FK__Appointme__Servi__503BEA1C");

                    b.HasOne("EVServiceCenter.Core.Domains.MaintenanceServices.Entities.MaintenanceService", "Service")
                        .WithMany("Appointments")
                        .HasForeignKey("ServiceId")
                        .HasConstraintName("FK__Appointme__Servi__51300E55");

                    b.HasOne("EVServiceCenter.Core.Domains.TimeSlots.Entities.TimeSlot", "Slot")
                        .WithMany("Appointments")
                        .HasForeignKey("SlotId")
                        .HasConstraintName("FK__Appointme__SlotI__531856C7");

                    b.HasOne("EVServiceCenter.Core.Domains.AppointmentManagement.Entities.AppointmentStatus", "Status")
                        .WithMany("Appointments")
                        .HasForeignKey("StatusId")
                        .IsRequired()
                        .HasConstraintName("FK__Appointme__Statu__55009F39");

                    b.HasOne("EVServiceCenter.Core.Entities.CustomerPackageSubscription", "Subscription")
                        .WithMany("Appointments")
                        .HasForeignKey("SubscriptionId");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "UpdatedByNavigation")
                        .WithMany("AppointmentUpdatedByNavigations")
                        .HasForeignKey("UpdatedBy")
                        .HasConstraintName("FK__Appointme__Updat__57DD0BE4");

                    b.HasOne("EVServiceCenter.Core.Domains.CustomerVehicles.Entities.CustomerVehicle", "Vehicle")
                        .WithMany("Appointments")
                        .HasForeignKey("VehicleId")
                        .IsRequired()
                        .HasConstraintName("FK__Appointme__Vehic__4F47C5E3");

                    b.Navigation("CompletedByNavigation");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("Customer");

                    b.Navigation("LatestPaymentIntent");

                    b.Navigation("Package");

                    b.Navigation("PreferredTechnician");

                    b.Navigation("Promotion");

                    b.Navigation("RescheduledFrom");

                    b.Navigation("Service");

                    b.Navigation("ServiceCenter");

                    b.Navigation("Slot");

                    b.Navigation("Status");

                    b.Navigation("Subscription");

                    b.Navigation("UpdatedByNavigation");

                    b.Navigation("Vehicle");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.AppointmentManagement.Entities.AppointmentService", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.AppointmentManagement.Entities.Appointment", "Appointment")
                        .WithMany("AppointmentServices")
                        .HasForeignKey("AppointmentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("FK__AppointmentServices__Appointment");

                    b.HasOne("EVServiceCenter.Core.Domains.MaintenanceServices.Entities.MaintenanceService", "Service")
                        .WithMany("AppointmentServices")
                        .HasForeignKey("ServiceId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("FK__AppointmentServices__Service");

                    b.Navigation("Appointment");

                    b.Navigation("Service");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.CarModels.Entities.CarModel", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.CarBrands.Entities.CarBrand", "Brand")
                        .WithMany("CarModels")
                        .HasForeignKey("BrandId")
                        .IsRequired()
                        .HasConstraintName("FK__CarModels__Brand__00200768");

                    b.Navigation("Brand");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.CustomerVehicles.Entities.CustomerVehicle", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Customers.Entities.Customer", "Customer")
                        .WithMany("CustomerVehicles")
                        .HasForeignKey("CustomerId")
                        .IsRequired()
                        .HasConstraintName("FK__CustomerV__Custo__0A9D95DB");

                    b.HasOne("EVServiceCenter.Core.Domains.CarModels.Entities.CarModel", "Model")
                        .WithMany("CustomerVehicles")
                        .HasForeignKey("ModelId")
                        .IsRequired()
                        .HasConstraintName("FK__CustomerV__Model__0B91BA14");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "UpdatedByNavigation")
                        .WithMany("CustomerVehicles")
                        .HasForeignKey("UpdatedBy")
                        .HasConstraintName("FK__CustomerV__Updat__0C85DE4D");

                    b.Navigation("Customer");

                    b.Navigation("Model");

                    b.Navigation("UpdatedByNavigation");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.Customers.Entities.Customer", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("CustomerCreatedByNavigations")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__Customers__Creat__6B24EA82");

                    b.HasOne("EVServiceCenter.Core.Domains.CustomerTypes.Entities.CustomerType", "Type")
                        .WithMany("Customers")
                        .HasForeignKey("TypeId")
                        .HasConstraintName("FK__Customers__TypeI__6A30C649");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "UpdatedByNavigation")
                        .WithMany("CustomerUpdatedByNavigations")
                        .HasForeignKey("UpdatedBy")
                        .HasConstraintName("FK__Customers__Updat__6C190EBB");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "User")
                        .WithOne("Customer")
                        .HasForeignKey("EVServiceCenter.Core.Domains.Customers.Entities.Customer", "UserId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .HasConstraintName("FK_Customers_Users");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("Type");

                    b.Navigation("UpdatedByNavigation");

                    b.Navigation("User");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.Identity.Entities.RefreshToken", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "User")
                        .WithMany("RefreshTokens")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("FK_RefreshTokens_Users");

                    b.Navigation("User");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.Identity.Entities.RevokedToken", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("FK__RevokedTokens__Users");

                    b.Navigation("User");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.Identity.Entities.User", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("InverseCreatedByNavigation")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__Users__CreatedBy__5441852A");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.UserRole", "Role")
                        .WithMany("Users")
                        .HasForeignKey("RoleId")
                        .IsRequired()
                        .HasConstraintName("FK__Users__RoleID__534D60F1");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("Role");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.Identity.Entities.UserSession", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "User")
                        .WithMany("UserSessions")
                        .HasForeignKey("UserId")
                        .IsRequired()
                        .HasConstraintName("FK__UserSessi__UserI__5AEE82B9");

                    b.Navigation("User");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.MaintenanceServices.Entities.MaintenanceService", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.ServiceCategories.Entities.ServiceCategory", "Category")
                        .WithMany("MaintenanceServices")
                        .HasForeignKey("CategoryId")
                        .IsRequired()
                        .HasConstraintName("FK__Maintenan__Categ__17036CC0");

                    b.Navigation("Category");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.Payments.Entities.PaymentIntent", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.AppointmentManagement.Entities.Appointment", "Appointment")
                        .WithMany("PaymentIntents")
                        .HasForeignKey("AppointmentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("FK__PaymentIn__Appoi__7CA47C3F");

                    b.Navigation("Appointment");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.Payments.Entities.Refund", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.AppointmentManagement.Entities.Appointment", "Appointment")
                        .WithMany()
                        .HasForeignKey("AppointmentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("FK_Refunds_Appointments_AppointmentID");

                    b.HasOne("EVServiceCenter.Core.Domains.Payments.Entities.PaymentIntent", "PaymentIntent")
                        .WithMany()
                        .HasForeignKey("PaymentIntentId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("FK_Refunds_PaymentIntents_PaymentIntentID");

                    b.Navigation("Appointment");

                    b.Navigation("PaymentIntent");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.ServiceCenters.Entities.ServiceCenter", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "Manager")
                        .WithMany("ServiceCenters")
                        .HasForeignKey("ManagerId")
                        .HasConstraintName("FK__ServiceCe__Manag__2FCF1A8A");

                    b.Navigation("Manager");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.TimeSlots.Entities.TimeSlot", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.ServiceCenters.Entities.ServiceCenter", "Center")
                        .WithMany("TimeSlots")
                        .HasForeignKey("CenterId")
                        .IsRequired()
                        .HasConstraintName("FK__TimeSlots__Cente__40058253");

                    b.Navigation("Center");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.ActivityLog", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.UserSession", "Session")
                        .WithMany("ActivityLogs")
                        .HasForeignKey("SessionId")
                        .HasConstraintName("FK__ActivityL__Sessi__4336F4B9");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "User")
                        .WithMany("ActivityLogs")
                        .HasForeignKey("UserId")
                        .IsRequired()
                        .HasConstraintName("FK__ActivityL__UserI__4242D080");

                    b.Navigation("Session");

                    b.Navigation("User");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Apikey", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("Apikeys")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__APIKeys__Created__0504B816");

                    b.Navigation("CreatedByNavigation");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.ApirequestLog", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Entities.Apikey", "Key")
                        .WithMany("ApirequestLogs")
                        .HasForeignKey("KeyId")
                        .HasConstraintName("FK__APIReques__KeyID__08D548FA");

                    b.Navigation("Key");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.AutoNotificationRule", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("AutoNotificationRules")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__AutoNotif__Creat__5C37ACAD");

                    b.HasOne("EVServiceCenter.Core.Entities.NotificationTemplate", "Template")
                        .WithMany("AutoNotificationRules")
                        .HasForeignKey("TemplateId")
                        .IsRequired()
                        .HasConstraintName("FK__AutoNotif__Templ__5B438874");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("Template");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.BusinessRule", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("BusinessRules")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__BusinessR__Creat__5EDF0F2E");

                    b.Navigation("CreatedByNavigation");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Certification", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("CertificationCreatedByNavigations")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__Certifica__Creat__3C89F72A");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "User")
                        .WithMany("CertificationUsers")
                        .HasForeignKey("UserId")
                        .IsRequired()
                        .HasConstraintName("FK__Certifica__UserI__3B95D2F1");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("User");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.ChatChannel", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "AssignedUser")
                        .WithMany("ChatChannelAssignedUsers")
                        .HasForeignKey("AssignedUserId")
                        .HasConstraintName("FK__ChatChann__Assig__00750D23");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "ClosedByNavigation")
                        .WithMany("ChatChannelClosedByNavigations")
                        .HasForeignKey("ClosedBy")
                        .HasConstraintName("FK__ChatChann__Close__0169315C");

                    b.HasOne("EVServiceCenter.Core.Domains.Customers.Entities.Customer", "Customer")
                        .WithMany("ChatChannels")
                        .HasForeignKey("CustomerId")
                        .HasConstraintName("FK__ChatChann__Custo__7F80E8EA");

                    b.Navigation("AssignedUser");

                    b.Navigation("ClosedByNavigation");

                    b.Navigation("Customer");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.ChatMessage", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Entities.ChatChannel", "Channel")
                        .WithMany("ChatMessages")
                        .HasForeignKey("ChannelId")
                        .IsRequired()
                        .HasConstraintName("FK__ChatMessa__Chann__090A5324");

                    b.HasOne("EVServiceCenter.Core.Domains.AppointmentManagement.Entities.Appointment", "RelatedAppointment")
                        .WithMany("ChatMessages")
                        .HasForeignKey("RelatedAppointmentId")
                        .HasConstraintName("FK__ChatMessa__Relat__0AF29B96");

                    b.HasOne("EVServiceCenter.Core.Entities.Invoice", "RelatedInvoice")
                        .WithMany("ChatMessages")
                        .HasForeignKey("RelatedInvoiceId")
                        .HasConstraintName("FK__ChatMessa__Relat__0CDAE408");

                    b.HasOne("EVServiceCenter.Core.Entities.WorkOrder", "RelatedWorkOrder")
                        .WithMany("ChatMessages")
                        .HasForeignKey("RelatedWorkOrderId")
                        .HasConstraintName("FK__ChatMessa__Relat__0BE6BFCF");

                    b.HasOne("EVServiceCenter.Core.Entities.ChatMessage", "ReplyToMessage")
                        .WithMany("InverseReplyToMessage")
                        .HasForeignKey("ReplyToMessageId")
                        .HasConstraintName("FK__ChatMessa__Reply__09FE775D");

                    b.Navigation("Channel");

                    b.Navigation("RelatedAppointment");

                    b.Navigation("RelatedInvoice");

                    b.Navigation("RelatedWorkOrder");

                    b.Navigation("ReplyToMessage");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.ChatQuickReply", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("ChatQuickReplies")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__ChatQuick__Creat__1293BD5E");

                    b.Navigation("CreatedByNavigation");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.ChecklistItem", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CompletedByNavigation")
                        .WithMany("ChecklistItems")
                        .HasForeignKey("CompletedBy")
                        .HasConstraintName("FK__Checklist__Compl__14E61A24");

                    b.HasOne("EVServiceCenter.Core.Entities.ChecklistTemplate", "Template")
                        .WithMany("ChecklistItems")
                        .HasForeignKey("TemplateId")
                        .HasConstraintName("FK__Checklist__Templ__13F1F5EB");

                    b.HasOne("EVServiceCenter.Core.Entities.WorkOrder", "WorkOrder")
                        .WithMany("ChecklistItems")
                        .HasForeignKey("WorkOrderId")
                        .IsRequired()
                        .HasConstraintName("FK__Checklist__WorkO__12FDD1B2");

                    b.Navigation("CompletedByNavigation");

                    b.Navigation("Template");

                    b.Navigation("WorkOrder");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.ChecklistTemplate", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.ServiceCategories.Entities.ServiceCategory", "Category")
                        .WithMany("ChecklistTemplates")
                        .HasForeignKey("CategoryId")
                        .HasConstraintName("FK__Checklist__Categ__0C50D423");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("ChecklistTemplates")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__Checklist__Creat__0D44F85C");

                    b.HasOne("EVServiceCenter.Core.Domains.MaintenanceServices.Entities.MaintenanceService", "Service")
                        .WithMany("ChecklistTemplates")
                        .HasForeignKey("ServiceId")
                        .HasConstraintName("FK__Checklist__Servi__0B5CAFEA");

                    b.Navigation("Category");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("Service");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.CustomerCommunicationPreference", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Customers.Entities.Customer", "Customer")
                        .WithMany("CustomerCommunicationPreferences")
                        .HasForeignKey("CustomerId")
                        .IsRequired()
                        .HasConstraintName("FK__CustomerC__Custo__75A278F5");

                    b.Navigation("Customer");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.CustomerPackageSubscription", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("CustomerPackageSubscriptions")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__CustomerP__Creat__6991A7CB");

                    b.HasOne("EVServiceCenter.Core.Domains.Customers.Entities.Customer", "Customer")
                        .WithMany("CustomerPackageSubscriptions")
                        .HasForeignKey("CustomerId")
                        .IsRequired()
                        .HasConstraintName("FK__CustomerP__Custo__65C116E7");

                    b.HasOne("EVServiceCenter.Core.Entities.Invoice", "Invoice")
                        .WithMany()
                        .HasForeignKey("InvoiceId")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("FK_CustomerPackageSubscriptions_Invoices");

                    b.HasOne("EVServiceCenter.Core.Entities.MaintenancePackage", "Package")
                        .WithMany("CustomerPackageSubscriptions")
                        .HasForeignKey("PackageId")
                        .IsRequired()
                        .HasConstraintName("FK__CustomerP__Packa__66B53B20");

                    b.HasOne("EVServiceCenter.Core.Entities.PaymentMethod", "PaymentMethod")
                        .WithMany("CustomerPackageSubscriptions")
                        .HasForeignKey("PaymentMethodId")
                        .HasConstraintName("FK__CustomerP__Payme__689D8392");

                    b.HasOne("EVServiceCenter.Core.Domains.CustomerVehicles.Entities.CustomerVehicle", "Vehicle")
                        .WithMany("CustomerPackageSubscriptions")
                        .HasForeignKey("VehicleId")
                        .HasConstraintName("FK__CustomerP__Vehic__67A95F59");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("Customer");

                    b.Navigation("Invoice");

                    b.Navigation("Package");

                    b.Navigation("PaymentMethod");

                    b.Navigation("Vehicle");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.DailyMetric", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.ServiceCenters.Entities.ServiceCenter", "Center")
                        .WithMany("DailyMetrics")
                        .HasForeignKey("CenterId")
                        .HasConstraintName("FK__DailyMetr__Cente__2F650636");

                    b.Navigation("Center");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.DataRetentionPolicy", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("DataRetentionPolicies")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__DataReten__Creat__7C6F7215");

                    b.Navigation("CreatedByNavigation");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Department", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.ServiceCenters.Entities.ServiceCenter", "Center")
                        .WithMany("Departments")
                        .HasForeignKey("CenterId")
                        .HasConstraintName("FK__Departmen__Cente__184C96B4");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "Manager")
                        .WithMany("Departments")
                        .HasForeignKey("ManagerId")
                        .HasConstraintName("FK__Departmen__Manag__1758727B");

                    b.Navigation("Center");

                    b.Navigation("Manager");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.EmployeeSkill", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "User")
                        .WithMany("EmployeeSkillUsers")
                        .HasForeignKey("UserId")
                        .IsRequired()
                        .HasConstraintName("FK__EmployeeS__UserI__1C1D2798");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "VerifiedByNavigation")
                        .WithMany("EmployeeSkillVerifiedByNavigations")
                        .HasForeignKey("VerifiedBy")
                        .HasConstraintName("FK__EmployeeS__Verif__1D114BD1");

                    b.Navigation("User");

                    b.Navigation("VerifiedByNavigation");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Invoice", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("InvoiceCreatedByNavigations")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__Invoices__Create__725BF7F6");

                    b.HasOne("EVServiceCenter.Core.Domains.Customers.Entities.Customer", "Customer")
                        .WithMany("Invoices")
                        .HasForeignKey("CustomerId")
                        .IsRequired()
                        .HasConstraintName("FK__Invoices__Custom__7167D3BD");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "UpdatedByNavigation")
                        .WithMany("InvoiceUpdatedByNavigations")
                        .HasForeignKey("UpdatedBy")
                        .HasConstraintName("FK__Invoices__Update__73501C2F");

                    b.HasOne("EVServiceCenter.Core.Entities.WorkOrder", "WorkOrder")
                        .WithMany("Invoices")
                        .HasForeignKey("WorkOrderId")
                        .HasConstraintName("FK__Invoices__WorkOr__7073AF84");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("Customer");

                    b.Navigation("UpdatedByNavigation");

                    b.Navigation("WorkOrder");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.LoyaltyProgram", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("LoyaltyPrograms")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__LoyaltyPr__Creat__6A50C1DA");

                    b.Navigation("CreatedByNavigation");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.LoyaltyTransaction", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("LoyaltyTransactions")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__LoyaltyTr__Creat__70099B30");

                    b.HasOne("EVServiceCenter.Core.Domains.Customers.Entities.Customer", "Customer")
                        .WithMany("LoyaltyTransactions")
                        .HasForeignKey("CustomerId")
                        .IsRequired()
                        .HasConstraintName("FK__LoyaltyTr__Custo__6E2152BE");

                    b.HasOne("EVServiceCenter.Core.Entities.LoyaltyProgram", "Program")
                        .WithMany("LoyaltyTransactions")
                        .HasForeignKey("ProgramId")
                        .IsRequired()
                        .HasConstraintName("FK__LoyaltyTr__Progr__6F1576F7");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("Customer");

                    b.Navigation("Program");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.MaintenanceHistory", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.CustomerVehicles.Entities.CustomerVehicle", "Vehicle")
                        .WithMany("MaintenanceHistories")
                        .HasForeignKey("VehicleId")
                        .IsRequired()
                        .HasConstraintName("FK__Maintenan__Vehic__15A53433");

                    b.HasOne("EVServiceCenter.Core.Entities.WorkOrder", "WorkOrder")
                        .WithMany("MaintenanceHistories")
                        .HasForeignKey("WorkOrderId")
                        .IsRequired()
                        .HasConstraintName("FK__Maintenan__WorkO__1699586C");

                    b.Navigation("Vehicle");

                    b.Navigation("WorkOrder");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.ModelServicePricing", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.CarModels.Entities.CarModel", "Model")
                        .WithMany("ModelServicePricings")
                        .HasForeignKey("ModelId")
                        .IsRequired()
                        .HasConstraintName("FK__ModelServ__Model__282DF8C2");

                    b.HasOne("EVServiceCenter.Core.Domains.MaintenanceServices.Entities.MaintenanceService", "Service")
                        .WithMany("ModelServicePricings")
                        .HasForeignKey("ServiceId")
                        .IsRequired()
                        .HasConstraintName("FK__ModelServ__Servi__29221CFB");

                    b.Navigation("Model");

                    b.Navigation("Service");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Notification", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("NotificationCreatedByNavigations")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__Notificat__Creat__740F363E");

                    b.HasOne("EVServiceCenter.Core.Domains.Customers.Entities.Customer", "Customer")
                        .WithMany("Notifications")
                        .HasForeignKey("CustomerId")
                        .HasConstraintName("FK__Notificat__Custo__731B1205");

                    b.HasOne("EVServiceCenter.Core.Entities.NotificationTemplate", "Template")
                        .WithMany("Notifications")
                        .HasForeignKey("TemplateId")
                        .HasConstraintName("FK__Notificat__Templ__7132C993");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "User")
                        .WithMany("NotificationUsers")
                        .HasForeignKey("UserId")
                        .HasConstraintName("FK__Notificat__UserI__7226EDCC");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("Customer");

                    b.Navigation("Template");

                    b.Navigation("User");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.NotificationDeliveryLog", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Entities.Notification", "Notification")
                        .WithMany("NotificationDeliveryLogs")
                        .HasForeignKey("NotificationId")
                        .IsRequired()
                        .HasConstraintName("FK__Notificat__Notif__78D3EB5B");

                    b.Navigation("Notification");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.NotificationTemplate", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("NotificationTemplates")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__Notificat__Creat__53A266AC");

                    b.HasOne("EVServiceCenter.Core.Entities.NotificationType", "Type")
                        .WithMany("NotificationTemplates")
                        .HasForeignKey("TypeId")
                        .IsRequired()
                        .HasConstraintName("FK__Notificat__TypeI__52AE4273");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("Type");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.OnlinePayment", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Entities.Payment", "Payment")
                        .WithMany("OnlinePayments")
                        .HasForeignKey("PaymentId")
                        .IsRequired()
                        .HasConstraintName("FK__OnlinePay__Payme__02925FBF");

                    b.Navigation("Payment");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.PackageService", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Entities.MaintenancePackage", "Package")
                        .WithMany("PackageServices")
                        .HasForeignKey("PackageId")
                        .IsRequired()
                        .HasConstraintName("FK__PackageSe__Packa__22751F6C");

                    b.HasOne("EVServiceCenter.Core.Domains.MaintenanceServices.Entities.MaintenanceService", "Service")
                        .WithMany("PackageServices")
                        .HasForeignKey("ServiceId")
                        .IsRequired()
                        .HasConstraintName("FK__PackageSe__Servi__236943A5");

                    b.Navigation("Package");

                    b.Navigation("Service");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.PackageServiceUsage", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.MaintenanceServices.Entities.MaintenanceService", "Service")
                        .WithMany("PackageServiceUsages")
                        .HasForeignKey("ServiceId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EVServiceCenter.Core.Entities.CustomerPackageSubscription", "Subscription")
                        .WithMany("PackageServiceUsages")
                        .HasForeignKey("SubscriptionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Service");

                    b.Navigation("Subscription");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Part", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.CarBrands.Entities.CarBrand", "Brand")
                        .WithMany("Parts")
                        .HasForeignKey("BrandId")
                        .HasConstraintName("FK__Parts__BrandID__2F9A1060");

                    b.HasOne("EVServiceCenter.Core.Entities.PartCategory", "Category")
                        .WithMany("Parts")
                        .HasForeignKey("CategoryId")
                        .IsRequired()
                        .HasConstraintName("FK__Parts__CategoryI__2EA5EC27");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("Parts")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__Parts__CreatedBy__318258D2");

                    b.HasOne("EVServiceCenter.Core.Entities.Supplier", "Supplier")
                        .WithMany("Parts")
                        .HasForeignKey("SupplierId")
                        .HasConstraintName("FK__Parts__SupplierI__308E3499");

                    b.Navigation("Brand");

                    b.Navigation("Category");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("Supplier");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.PartCategory", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Entities.PartCategory", "ParentCategory")
                        .WithMany("InverseParentCategory")
                        .HasForeignKey("ParentCategoryId")
                        .HasConstraintName("FK__PartCateg__Paren__18B6AB08");

                    b.Navigation("ParentCategory");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.PartInventory", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.ServiceCenters.Entities.ServiceCenter", "Center")
                        .WithMany("PartInventories")
                        .HasForeignKey("CenterId")
                        .IsRequired()
                        .HasConstraintName("FK__PartInven__Cente__382F5661");

                    b.HasOne("EVServiceCenter.Core.Entities.Part", "Part")
                        .WithMany("PartInventories")
                        .HasForeignKey("PartId")
                        .IsRequired()
                        .HasConstraintName("FK__PartInven__PartI__373B3228");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "UpdatedByNavigation")
                        .WithMany("PartInventories")
                        .HasForeignKey("UpdatedBy")
                        .HasConstraintName("FK__PartInven__Updat__39237A9A");

                    b.Navigation("Center");

                    b.Navigation("Part");

                    b.Navigation("UpdatedByNavigation");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Payment", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Entities.Invoice", "Invoice")
                        .WithMany("Payments")
                        .HasForeignKey("InvoiceId")
                        .IsRequired()
                        .HasConstraintName("FK__Payments__Invoic__7BE56230");

                    b.HasOne("EVServiceCenter.Core.Entities.PaymentMethod", "Method")
                        .WithMany("Payments")
                        .HasForeignKey("MethodId")
                        .IsRequired()
                        .HasConstraintName("FK__Payments__Method__7CD98669");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "ProcessedByNavigation")
                        .WithMany("Payments")
                        .HasForeignKey("ProcessedBy")
                        .HasConstraintName("FK__Payments__Proces__7DCDAAA2");

                    b.Navigation("Invoice");

                    b.Navigation("Method");

                    b.Navigation("ProcessedByNavigation");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.PaymentTransaction", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.AppointmentManagement.Entities.Appointment", "Appointment")
                        .WithMany("PaymentTransactions")
                        .HasForeignKey("AppointmentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EVServiceCenter.Core.Domains.Customers.Entities.Customer", "Customer")
                        .WithMany("PaymentTransactions")
                        .HasForeignKey("CustomerId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EVServiceCenter.Core.Domains.Payments.Entities.PaymentIntent", "PaymentIntent")
                        .WithMany("PaymentTransactions")
                        .HasForeignKey("PaymentIntentId")
                        .HasConstraintName("FK__PaymentTr__Payme__7D987078");

                    b.Navigation("Appointment");

                    b.Navigation("Customer");

                    b.Navigation("PaymentIntent");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.PerformanceMetric", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "User")
                        .WithMany("PerformanceMetrics")
                        .HasForeignKey("UserId")
                        .IsRequired()
                        .HasConstraintName("FK__Performan__UserI__33F4B129");

                    b.Navigation("User");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Promotion", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("Promotions")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__Promotion__Creat__76B698BF");

                    b.Navigation("CreatedByNavigation");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.PurchaseOrder", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "ApprovedByNavigation")
                        .WithMany("PurchaseOrderApprovedByNavigations")
                        .HasForeignKey("ApprovedBy")
                        .HasConstraintName("FK__PurchaseO__Appro__52E34C9D");

                    b.HasOne("EVServiceCenter.Core.Domains.ServiceCenters.Entities.ServiceCenter", "Center")
                        .WithMany("PurchaseOrders")
                        .HasForeignKey("CenterId")
                        .IsRequired()
                        .HasConstraintName("FK__PurchaseO__Cente__51EF2864");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("PurchaseOrderCreatedByNavigations")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__PurchaseO__Creat__53D770D6");

                    b.HasOne("EVServiceCenter.Core.Entities.Supplier", "Supplier")
                        .WithMany("PurchaseOrders")
                        .HasForeignKey("SupplierId")
                        .IsRequired()
                        .HasConstraintName("FK__PurchaseO__Suppl__50FB042B");

                    b.Navigation("ApprovedByNavigation");

                    b.Navigation("Center");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("Supplier");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.PurchaseOrderDetail", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Entities.Part", "Part")
                        .WithMany("PurchaseOrderDetails")
                        .HasForeignKey("PartId")
                        .IsRequired()
                        .HasConstraintName("FK__PurchaseO__PartI__589C25F3");

                    b.HasOne("EVServiceCenter.Core.Entities.PurchaseOrder", "PurchaseOrder")
                        .WithMany("PurchaseOrderDetails")
                        .HasForeignKey("PurchaseOrderId")
                        .IsRequired()
                        .HasConstraintName("FK__PurchaseO__Purch__57A801BA");

                    b.Navigation("Part");

                    b.Navigation("PurchaseOrder");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Report", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.ServiceCenters.Entities.ServiceCenter", "Center")
                        .WithMany("Reports")
                        .HasForeignKey("CenterId")
                        .HasConstraintName("FK__Reports__CenterI__45544755");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "GeneratedByNavigation")
                        .WithMany("Reports")
                        .HasForeignKey("GeneratedBy")
                        .HasConstraintName("FK__Reports__Generat__46486B8E");

                    b.Navigation("Center");

                    b.Navigation("GeneratedByNavigation");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.SecurityEvent", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "ResolvedByNavigation")
                        .WithMany("SecurityEventResolvedByNavigations")
                        .HasForeignKey("ResolvedBy")
                        .HasConstraintName("FK__SecurityE__Resol__49E3F248");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "User")
                        .WithMany("SecurityEventUsers")
                        .HasForeignKey("UserId")
                        .HasConstraintName("FK__SecurityE__UserI__48EFCE0F");

                    b.Navigation("ResolvedByNavigation");

                    b.Navigation("User");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.ServiceRating", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "Advisor")
                        .WithMany("ServiceRatingAdvisors")
                        .HasForeignKey("AdvisorId")
                        .HasConstraintName("FK__ServiceRa__Advis__3DB3258D");

                    b.HasOne("EVServiceCenter.Core.Domains.Customers.Entities.Customer", "Customer")
                        .WithMany("ServiceRatings")
                        .HasForeignKey("CustomerId")
                        .IsRequired()
                        .HasConstraintName("FK__ServiceRa__Custo__3BCADD1B");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "RespondedByNavigation")
                        .WithMany("ServiceRatingRespondedByNavigations")
                        .HasForeignKey("RespondedBy")
                        .HasConstraintName("FK__ServiceRa__Respo__3EA749C6");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "Technician")
                        .WithMany("ServiceRatingTechnicians")
                        .HasForeignKey("TechnicianId")
                        .HasConstraintName("FK__ServiceRa__Techn__3CBF0154");

                    b.HasOne("EVServiceCenter.Core.Entities.WorkOrder", "WorkOrder")
                        .WithMany("ServiceRatings")
                        .HasForeignKey("WorkOrderId")
                        .IsRequired()
                        .HasConstraintName("FK__ServiceRa__WorkO__3AD6B8E2");

                    b.Navigation("Advisor");

                    b.Navigation("Customer");

                    b.Navigation("RespondedByNavigation");

                    b.Navigation("Technician");

                    b.Navigation("WorkOrder");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.ServiceSourceAuditLog", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.AppointmentManagement.Entities.Appointment", "Appointment")
                        .WithMany("ServiceSourceAuditLogs")
                        .HasForeignKey("AppointmentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EVServiceCenter.Core.Domains.AppointmentManagement.Entities.AppointmentService", "AppointmentService")
                        .WithMany("ServiceSourceAuditLogs")
                        .HasForeignKey("AppointmentServiceId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "ChangedByUser")
                        .WithMany("ServiceSourceAuditLogs")
                        .HasForeignKey("ChangedBy");

                    b.HasOne("EVServiceCenter.Core.Domains.MaintenanceServices.Entities.MaintenanceService", "Service")
                        .WithMany("ServiceSourceAuditLogs")
                        .HasForeignKey("ServiceId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Appointment");

                    b.Navigation("AppointmentService");

                    b.Navigation("ChangedByUser");

                    b.Navigation("Service");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Shift", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "ApprovedByNavigation")
                        .WithMany("ShiftApprovedByNavigations")
                        .HasForeignKey("ApprovedBy")
                        .HasConstraintName("FK__Shifts__Approved__269AB60B");

                    b.HasOne("EVServiceCenter.Core.Domains.ServiceCenters.Entities.ServiceCenter", "Center")
                        .WithMany("Shifts")
                        .HasForeignKey("CenterId")
                        .IsRequired()
                        .HasConstraintName("FK__Shifts__CenterID__25A691D2");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("ShiftCreatedByNavigations")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__Shifts__CreatedB__278EDA44");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "User")
                        .WithMany("ShiftUsers")
                        .HasForeignKey("UserId")
                        .IsRequired()
                        .HasConstraintName("FK__Shifts__UserID__24B26D99");

                    b.Navigation("ApprovedByNavigation");

                    b.Navigation("Center");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("User");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.StockTransaction", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.ServiceCenters.Entities.ServiceCenter", "Center")
                        .WithMany("StockTransactions")
                        .HasForeignKey("CenterId")
                        .HasConstraintName("FK__StockTran__Cente__4589517F");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("StockTransactions")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__StockTran__Creat__477199F1");

                    b.HasOne("EVServiceCenter.Core.Entities.Part", "Part")
                        .WithMany("StockTransactions")
                        .HasForeignKey("PartId")
                        .IsRequired()
                        .HasConstraintName("FK__StockTran__PartI__44952D46");

                    b.HasOne("EVServiceCenter.Core.Entities.Supplier", "Supplier")
                        .WithMany("StockTransactions")
                        .HasForeignKey("SupplierId")
                        .HasConstraintName("FK__StockTran__Suppl__467D75B8");

                    b.Navigation("Center");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("Part");

                    b.Navigation("Supplier");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.SystemConfiguration", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "UpdatedByNavigation")
                        .WithMany("SystemConfigurations")
                        .HasForeignKey("UpdatedBy")
                        .HasConstraintName("FK__SystemCon__Updat__5832119F");

                    b.Navigation("UpdatedByNavigation");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.TechnicianSchedule", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.ServiceCenters.Entities.ServiceCenter", "Center")
                        .WithMany("TechnicianSchedules")
                        .HasForeignKey("CenterId")
                        .IsRequired()
                        .HasConstraintName("FK__Technicia__Cente__3864608B");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "Technician")
                        .WithMany("TechnicianSchedules")
                        .HasForeignKey("TechnicianId")
                        .IsRequired()
                        .HasConstraintName("FK__Technicia__Techn__37703C52");

                    b.Navigation("Center");

                    b.Navigation("Technician");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.VehicleCustomService", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("VehicleCustomServices")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__VehicleCu__Creat__5090EFD7");

                    b.HasOne("EVServiceCenter.Core.Domains.CustomerVehicles.Entities.CustomerVehicle", "Vehicle")
                        .WithMany("VehicleCustomServices")
                        .HasForeignKey("VehicleId")
                        .IsRequired()
                        .HasConstraintName("FK__VehicleCu__Vehic__4F9CCB9E");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("Vehicle");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.VehicleHealthMetric", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("VehicleHealthMetrics")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__VehicleHe__Creat__1C5231C2");

                    b.HasOne("EVServiceCenter.Core.Domains.CustomerVehicles.Entities.CustomerVehicle", "Vehicle")
                        .WithMany("VehicleHealthMetrics")
                        .HasForeignKey("VehicleId")
                        .IsRequired()
                        .HasConstraintName("FK__VehicleHe__Vehic__1A69E950");

                    b.HasOne("EVServiceCenter.Core.Entities.WorkOrder", "WorkOrder")
                        .WithMany("VehicleHealthMetrics")
                        .HasForeignKey("WorkOrderId")
                        .HasConstraintName("FK__VehicleHe__WorkO__1B5E0D89");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("Vehicle");

                    b.Navigation("WorkOrder");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Warranty", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Entities.WorkOrder", "ClaimedWorkOrder")
                        .WithMany("WarrantyClaimedWorkOrders")
                        .HasForeignKey("ClaimedWorkOrderId")
                        .HasConstraintName("FK__Warrantie__Claim__10E07F16");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("Warranties")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__Warrantie__Creat__11D4A34F");

                    b.HasOne("EVServiceCenter.Core.Entities.Part", "Part")
                        .WithMany("Warranties")
                        .HasForeignKey("PartId")
                        .HasConstraintName("FK__Warrantie__PartI__0EF836A4");

                    b.HasOne("EVServiceCenter.Core.Domains.MaintenanceServices.Entities.MaintenanceService", "Service")
                        .WithMany("Warranties")
                        .HasForeignKey("ServiceId")
                        .HasConstraintName("FK__Warrantie__Servi__0E04126B");

                    b.HasOne("EVServiceCenter.Core.Entities.WarrantyType", "WarrantyType")
                        .WithMany("Warranties")
                        .HasForeignKey("WarrantyTypeId")
                        .IsRequired()
                        .HasConstraintName("FK__Warrantie__Warra__0FEC5ADD");

                    b.HasOne("EVServiceCenter.Core.Entities.WorkOrder", "WorkOrder")
                        .WithMany("WarrantyWorkOrders")
                        .HasForeignKey("WorkOrderId")
                        .IsRequired()
                        .HasConstraintName("FK__Warrantie__WorkO__0D0FEE32");

                    b.Navigation("ClaimedWorkOrder");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("Part");

                    b.Navigation("Service");

                    b.Navigation("WarrantyType");

                    b.Navigation("WorkOrder");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.WorkOrder", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "Advisor")
                        .WithMany("WorkOrderAdvisors")
                        .HasForeignKey("AdvisorId")
                        .HasConstraintName("FK__WorkOrder__Advis__73852659");

                    b.HasOne("EVServiceCenter.Core.Domains.AppointmentManagement.Entities.Appointment", "Appointment")
                        .WithMany("WorkOrders")
                        .HasForeignKey("AppointmentId")
                        .HasConstraintName("FK__WorkOrder__Appoi__6DCC4D03");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "ApprovedByNavigation")
                        .WithMany("WorkOrderApprovedByNavigations")
                        .HasForeignKey("ApprovedBy")
                        .HasConstraintName("FK__WorkOrder__Appro__756D6ECB");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "CreatedByNavigation")
                        .WithMany("WorkOrderCreatedByNavigations")
                        .HasForeignKey("CreatedBy")
                        .HasConstraintName("FK__WorkOrder__Creat__7755B73D");

                    b.HasOne("EVServiceCenter.Core.Domains.Customers.Entities.Customer", "Customer")
                        .WithMany("WorkOrders")
                        .HasForeignKey("CustomerId")
                        .IsRequired()
                        .HasConstraintName("FK__WorkOrder__Custo__6EC0713C");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "QualityCheckedByNavigation")
                        .WithMany("WorkOrderQualityCheckedByNavigations")
                        .HasForeignKey("QualityCheckedBy")
                        .HasConstraintName("FK__WorkOrder__Quali__76619304");

                    b.HasOne("EVServiceCenter.Core.Domains.ServiceCenters.Entities.ServiceCenter", "ServiceCenter")
                        .WithMany("WorkOrders")
                        .HasForeignKey("ServiceCenterId")
                        .IsRequired()
                        .HasConstraintName("FK__WorkOrder__Servi__70A8B9AE");

                    b.HasOne("EVServiceCenter.Core.Entities.WorkOrderStatus", "Status")
                        .WithMany("WorkOrders")
                        .HasForeignKey("StatusId")
                        .IsRequired()
                        .HasConstraintName("FK__WorkOrder__Statu__719CDDE7");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "Supervisor")
                        .WithMany("WorkOrderSupervisors")
                        .HasForeignKey("SupervisorId")
                        .HasConstraintName("FK__WorkOrder__Super__74794A92");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "Technician")
                        .WithMany("WorkOrderTechnicians")
                        .HasForeignKey("TechnicianId")
                        .HasConstraintName("FK__WorkOrder__Techn__72910220");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "UpdatedByNavigation")
                        .WithMany("WorkOrderUpdatedByNavigations")
                        .HasForeignKey("UpdatedBy")
                        .HasConstraintName("FK__WorkOrder__Updat__7849DB76");

                    b.HasOne("EVServiceCenter.Core.Domains.CustomerVehicles.Entities.CustomerVehicle", "Vehicle")
                        .WithMany("WorkOrders")
                        .HasForeignKey("VehicleId")
                        .IsRequired()
                        .HasConstraintName("FK__WorkOrder__Vehic__6FB49575");

                    b.Navigation("Advisor");

                    b.Navigation("Appointment");

                    b.Navigation("ApprovedByNavigation");

                    b.Navigation("CreatedByNavigation");

                    b.Navigation("Customer");

                    b.Navigation("QualityCheckedByNavigation");

                    b.Navigation("ServiceCenter");

                    b.Navigation("Status");

                    b.Navigation("Supervisor");

                    b.Navigation("Technician");

                    b.Navigation("UpdatedByNavigation");

                    b.Navigation("Vehicle");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.WorkOrderPart", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "InstalledByNavigation")
                        .WithMany("WorkOrderParts")
                        .HasForeignKey("InstalledBy")
                        .HasConstraintName("FK__WorkOrder__Insta__40C49C62");

                    b.HasOne("EVServiceCenter.Core.Entities.Part", "Part")
                        .WithMany("WorkOrderParts")
                        .HasForeignKey("PartId")
                        .IsRequired()
                        .HasConstraintName("FK__WorkOrder__PartI__3FD07829");

                    b.HasOne("EVServiceCenter.Core.Entities.WorkOrder", "WorkOrder")
                        .WithMany("WorkOrderParts")
                        .HasForeignKey("WorkOrderId")
                        .IsRequired()
                        .HasConstraintName("FK__WorkOrder__WorkO__3EDC53F0");

                    b.Navigation("InstalledByNavigation");

                    b.Navigation("Part");

                    b.Navigation("WorkOrder");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.WorkOrderService", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.MaintenanceServices.Entities.MaintenanceService", "Service")
                        .WithMany("WorkOrderServices")
                        .HasForeignKey("ServiceId")
                        .IsRequired()
                        .HasConstraintName("FK__WorkOrder__Servi__7FEAFD3E");

                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "Technician")
                        .WithMany("WorkOrderServices")
                        .HasForeignKey("TechnicianId")
                        .HasConstraintName("FK__WorkOrder__Techn__00DF2177");

                    b.HasOne("EVServiceCenter.Core.Entities.WorkOrder", "WorkOrder")
                        .WithMany("WorkOrderServices")
                        .HasForeignKey("WorkOrderId")
                        .IsRequired()
                        .HasConstraintName("FK__WorkOrder__WorkO__7EF6D905");

                    b.Navigation("Service");

                    b.Navigation("Technician");

                    b.Navigation("WorkOrder");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.WorkOrderTimeline", b =>
                {
                    b.HasOne("EVServiceCenter.Core.Domains.Identity.Entities.User", "PerformedByNavigation")
                        .WithMany("WorkOrderTimelines")
                        .HasForeignKey("PerformedBy")
                        .HasConstraintName("FK__WorkOrder__Perfo__0697FACD");

                    b.HasOne("EVServiceCenter.Core.Entities.WorkOrder", "WorkOrder")
                        .WithMany("WorkOrderTimelines")
                        .HasForeignKey("WorkOrderId")
                        .IsRequired()
                        .HasConstraintName("FK__WorkOrder__WorkO__05A3D694");

                    b.Navigation("PerformedByNavigation");

                    b.Navigation("WorkOrder");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.AppointmentManagement.Entities.Appointment", b =>
                {
                    b.Navigation("AppointmentServices");

                    b.Navigation("ChatMessages");

                    b.Navigation("InverseRescheduledFrom");

                    b.Navigation("PaymentIntents");

                    b.Navigation("PaymentTransactions");

                    b.Navigation("ServiceSourceAuditLogs");

                    b.Navigation("WorkOrders");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.AppointmentManagement.Entities.AppointmentService", b =>
                {
                    b.Navigation("ServiceSourceAuditLogs");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.AppointmentManagement.Entities.AppointmentStatus", b =>
                {
                    b.Navigation("Appointments");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.CarBrands.Entities.CarBrand", b =>
                {
                    b.Navigation("CarModels");

                    b.Navigation("Parts");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.CarModels.Entities.CarModel", b =>
                {
                    b.Navigation("CustomerVehicles");

                    b.Navigation("ModelServicePricings");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.CustomerTypes.Entities.CustomerType", b =>
                {
                    b.Navigation("Customers");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.CustomerVehicles.Entities.CustomerVehicle", b =>
                {
                    b.Navigation("Appointments");

                    b.Navigation("CustomerPackageSubscriptions");

                    b.Navigation("MaintenanceHistories");

                    b.Navigation("VehicleCustomServices");

                    b.Navigation("VehicleHealthMetrics");

                    b.Navigation("WorkOrders");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.Customers.Entities.Customer", b =>
                {
                    b.Navigation("Appointments");

                    b.Navigation("ChatChannels");

                    b.Navigation("CustomerCommunicationPreferences");

                    b.Navigation("CustomerPackageSubscriptions");

                    b.Navigation("CustomerVehicles");

                    b.Navigation("Invoices");

                    b.Navigation("LoyaltyTransactions");

                    b.Navigation("Notifications");

                    b.Navigation("PaymentTransactions");

                    b.Navigation("ServiceRatings");

                    b.Navigation("WorkOrders");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.Identity.Entities.User", b =>
                {
                    b.Navigation("ActivityLogs");

                    b.Navigation("Apikeys");

                    b.Navigation("AppointmentCompletedByNavigations");

                    b.Navigation("AppointmentCreatedByNavigations");

                    b.Navigation("AppointmentPreferredTechnicians");

                    b.Navigation("AppointmentUpdatedByNavigations");

                    b.Navigation("AutoNotificationRules");

                    b.Navigation("BusinessRules");

                    b.Navigation("CertificationCreatedByNavigations");

                    b.Navigation("CertificationUsers");

                    b.Navigation("ChatChannelAssignedUsers");

                    b.Navigation("ChatChannelClosedByNavigations");

                    b.Navigation("ChatQuickReplies");

                    b.Navigation("ChecklistItems");

                    b.Navigation("ChecklistTemplates");

                    b.Navigation("Customer");

                    b.Navigation("CustomerCreatedByNavigations");

                    b.Navigation("CustomerPackageSubscriptions");

                    b.Navigation("CustomerUpdatedByNavigations");

                    b.Navigation("CustomerVehicles");

                    b.Navigation("DataRetentionPolicies");

                    b.Navigation("Departments");

                    b.Navigation("EmployeeSkillUsers");

                    b.Navigation("EmployeeSkillVerifiedByNavigations");

                    b.Navigation("InverseCreatedByNavigation");

                    b.Navigation("InvoiceCreatedByNavigations");

                    b.Navigation("InvoiceUpdatedByNavigations");

                    b.Navigation("LoyaltyPrograms");

                    b.Navigation("LoyaltyTransactions");

                    b.Navigation("NotificationCreatedByNavigations");

                    b.Navigation("NotificationTemplates");

                    b.Navigation("NotificationUsers");

                    b.Navigation("PartInventories");

                    b.Navigation("Parts");

                    b.Navigation("Payments");

                    b.Navigation("PerformanceMetrics");

                    b.Navigation("Promotions");

                    b.Navigation("PurchaseOrderApprovedByNavigations");

                    b.Navigation("PurchaseOrderCreatedByNavigations");

                    b.Navigation("RefreshTokens");

                    b.Navigation("Reports");

                    b.Navigation("SecurityEventResolvedByNavigations");

                    b.Navigation("SecurityEventUsers");

                    b.Navigation("ServiceCenters");

                    b.Navigation("ServiceRatingAdvisors");

                    b.Navigation("ServiceRatingRespondedByNavigations");

                    b.Navigation("ServiceRatingTechnicians");

                    b.Navigation("ServiceSourceAuditLogs");

                    b.Navigation("ShiftApprovedByNavigations");

                    b.Navigation("ShiftCreatedByNavigations");

                    b.Navigation("ShiftUsers");

                    b.Navigation("StockTransactions");

                    b.Navigation("SystemConfigurations");

                    b.Navigation("TechnicianSchedules");

                    b.Navigation("UserSessions");

                    b.Navigation("VehicleCustomServices");

                    b.Navigation("VehicleHealthMetrics");

                    b.Navigation("Warranties");

                    b.Navigation("WorkOrderAdvisors");

                    b.Navigation("WorkOrderApprovedByNavigations");

                    b.Navigation("WorkOrderCreatedByNavigations");

                    b.Navigation("WorkOrderParts");

                    b.Navigation("WorkOrderQualityCheckedByNavigations");

                    b.Navigation("WorkOrderServices");

                    b.Navigation("WorkOrderSupervisors");

                    b.Navigation("WorkOrderTechnicians");

                    b.Navigation("WorkOrderTimelines");

                    b.Navigation("WorkOrderUpdatedByNavigations");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.Identity.Entities.UserRole", b =>
                {
                    b.Navigation("Users");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.Identity.Entities.UserSession", b =>
                {
                    b.Navigation("ActivityLogs");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.MaintenanceServices.Entities.MaintenanceService", b =>
                {
                    b.Navigation("AppointmentServices");

                    b.Navigation("Appointments");

                    b.Navigation("ChecklistTemplates");

                    b.Navigation("ModelServicePricings");

                    b.Navigation("PackageServiceUsages");

                    b.Navigation("PackageServices");

                    b.Navigation("ServiceSourceAuditLogs");

                    b.Navigation("Warranties");

                    b.Navigation("WorkOrderServices");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.Payments.Entities.PaymentIntent", b =>
                {
                    b.Navigation("PaymentTransactions");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.ServiceCategories.Entities.ServiceCategory", b =>
                {
                    b.Navigation("ChecklistTemplates");

                    b.Navigation("MaintenanceServices");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.ServiceCenters.Entities.ServiceCenter", b =>
                {
                    b.Navigation("Appointments");

                    b.Navigation("DailyMetrics");

                    b.Navigation("Departments");

                    b.Navigation("PartInventories");

                    b.Navigation("PurchaseOrders");

                    b.Navigation("Reports");

                    b.Navigation("Shifts");

                    b.Navigation("StockTransactions");

                    b.Navigation("TechnicianSchedules");

                    b.Navigation("TimeSlots");

                    b.Navigation("WorkOrders");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Domains.TimeSlots.Entities.TimeSlot", b =>
                {
                    b.Navigation("Appointments");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Apikey", b =>
                {
                    b.Navigation("ApirequestLogs");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.ChatChannel", b =>
                {
                    b.Navigation("ChatMessages");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.ChatMessage", b =>
                {
                    b.Navigation("InverseReplyToMessage");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.ChecklistTemplate", b =>
                {
                    b.Navigation("ChecklistItems");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.CustomerPackageSubscription", b =>
                {
                    b.Navigation("Appointments");

                    b.Navigation("PackageServiceUsages");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Invoice", b =>
                {
                    b.Navigation("ChatMessages");

                    b.Navigation("Payments");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.LoyaltyProgram", b =>
                {
                    b.Navigation("LoyaltyTransactions");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.MaintenancePackage", b =>
                {
                    b.Navigation("Appointments");

                    b.Navigation("CustomerPackageSubscriptions");

                    b.Navigation("PackageServices");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Notification", b =>
                {
                    b.Navigation("NotificationDeliveryLogs");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.NotificationTemplate", b =>
                {
                    b.Navigation("AutoNotificationRules");

                    b.Navigation("Notifications");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.NotificationType", b =>
                {
                    b.Navigation("NotificationTemplates");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Part", b =>
                {
                    b.Navigation("PartInventories");

                    b.Navigation("PurchaseOrderDetails");

                    b.Navigation("StockTransactions");

                    b.Navigation("Warranties");

                    b.Navigation("WorkOrderParts");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.PartCategory", b =>
                {
                    b.Navigation("InverseParentCategory");

                    b.Navigation("Parts");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Payment", b =>
                {
                    b.Navigation("OnlinePayments");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.PaymentMethod", b =>
                {
                    b.Navigation("CustomerPackageSubscriptions");

                    b.Navigation("Payments");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Promotion", b =>
                {
                    b.Navigation("Appointments");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.PurchaseOrder", b =>
                {
                    b.Navigation("PurchaseOrderDetails");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.Supplier", b =>
                {
                    b.Navigation("Parts");

                    b.Navigation("PurchaseOrders");

                    b.Navigation("StockTransactions");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.WarrantyType", b =>
                {
                    b.Navigation("Warranties");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.WorkOrder", b =>
                {
                    b.Navigation("ChatMessages");

                    b.Navigation("ChecklistItems");

                    b.Navigation("Invoices");

                    b.Navigation("MaintenanceHistories");

                    b.Navigation("ServiceRatings");

                    b.Navigation("VehicleHealthMetrics");

                    b.Navigation("WarrantyClaimedWorkOrders");

                    b.Navigation("WarrantyWorkOrders");

                    b.Navigation("WorkOrderParts");

                    b.Navigation("WorkOrderServices");

                    b.Navigation("WorkOrderTimelines");
                });

            modelBuilder.Entity("EVServiceCenter.Core.Entities.WorkOrderStatus", b =>
                {
                    b.Navigation("WorkOrders");
                });
#pragma warning restore 612, 618
        }
    }
}
