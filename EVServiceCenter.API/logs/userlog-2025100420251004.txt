2025-10-04 08:01:18.863 +07:00 [INF] Now listening on: https://localhost:7077
2025-10-04 08:01:18.901 +07:00 [INF] Now listening on: http://localhost:5153
2025-10-04 08:01:18.953 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-04 08:01:18.961 +07:00 [INF] Hosting environment: Development
2025-10-04 08:01:18.965 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API
2025-10-04 08:01:19.651 +07:00 [INF] Request: GET /
2025-10-04 08:15:07.688 +07:00 [INF] Now listening on: https://localhost:7077
2025-10-04 08:15:07.731 +07:00 [INF] Now listening on: http://localhost:5153
2025-10-04 08:15:07.788 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-04 08:15:07.797 +07:00 [INF] Hosting environment: Development
2025-10-04 08:15:07.800 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API
2025-10-04 08:15:09.585 +07:00 [INF] Request: GET /
2025-10-04 08:50:00.634 +07:00 [INF] Now listening on: https://localhost:7077
2025-10-04 08:50:00.700 +07:00 [INF] Now listening on: http://localhost:5153
2025-10-04 08:50:00.771 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-04 08:50:00.781 +07:00 [INF] Hosting environment: Development
2025-10-04 08:50:00.793 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API
2025-10-04 08:50:01.149 +07:00 [INF] Request: GET /
2025-10-04 08:50:49.050 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 08:50:50.310 +07:00 [INF] User nghiadaucau1@gmail.com (ID: 2067, Role: "Customer") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0
2025-10-04 09:02:03.438 +07:00 [INF] Request: POST /api/appointments
2025-10-04 09:02:22.277 +07:00 [INF] Request: POST /api/appointments
2025-10-04 09:02:22.733 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 09:02:22.818 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 09:02:22.970 +07:00 [INF] Customer 1014 created appointment APT202510047755
2025-10-04 09:03:12.010 +07:00 [INF] Request: POST /api/appointments
2025-10-04 09:03:12.093 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 09:03:12.116 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 09:03:12.150 +07:00 [INF] Customer 1014 created appointment APT202510049649
2025-10-04 09:03:34.187 +07:00 [INF] Request: POST /api/appointments
2025-10-04 09:03:34.267 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 09:03:34.281 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 09:03:34.305 +07:00 [INF] Customer 1014 created appointment APT202510042463
2025-10-04 09:03:37.919 +07:00 [INF] Request: POST /api/appointments
2025-10-04 09:03:38.123 +07:00 [WRN] Invalid appointment creation attempt by customer 1014
System.InvalidOperationException: Slot đã đầy
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.CreateAsync(CreateAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 59
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.CreateAppointment(CreateAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 70
2025-10-04 09:04:04.649 +07:00 [INF] Request: POST /api/appointments
2025-10-04 09:04:04.754 +07:00 [WRN] Invalid appointment creation attempt by customer 1014
System.InvalidOperationException: Slot đã đầy
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.CreateAsync(CreateAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 59
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.CreateAppointment(CreateAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 70
2025-10-04 09:04:08.369 +07:00 [INF] Request: POST /api/appointments
2025-10-04 09:04:08.446 +07:00 [WRN] Invalid appointment creation attempt by customer 1014
System.InvalidOperationException: Slot đã đầy
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.CreateAsync(CreateAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 59
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.CreateAppointment(CreateAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 70
2025-10-04 09:04:31.480 +07:00 [INF] Request: POST /api/appointments
2025-10-04 09:04:31.528 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 09:04:31.553 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 09:04:31.597 +07:00 [INF] Customer 1014 created appointment APT202510044739
2025-10-04 09:04:35.443 +07:00 [INF] Request: POST /api/appointments
2025-10-04 09:04:35.469 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 09:04:35.490 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 09:04:35.510 +07:00 [INF] Customer 1014 created appointment APT202510041456
2025-10-04 09:04:42.829 +07:00 [INF] Request: POST /api/appointments
2025-10-04 09:04:42.913 +07:00 [WRN] Invalid appointment creation attempt by customer 1014
System.InvalidOperationException: Slot đã đầy
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.CreateAsync(CreateAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 59
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.CreateAppointment(CreateAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 70
2025-10-04 09:04:51.972 +07:00 [INF] Request: POST /api/appointments
2025-10-04 09:04:52.045 +07:00 [WRN] Invalid appointment creation attempt by customer 1014
System.InvalidOperationException: Slot đã đầy
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.CreateAsync(CreateAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 59
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.CreateAppointment(CreateAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 70
2025-10-04 09:04:55.063 +07:00 [INF] Request: POST /api/appointments
2025-10-04 09:04:55.164 +07:00 [WRN] Invalid appointment creation attempt by customer 1014
System.InvalidOperationException: Slot đã đầy
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.CreateAsync(CreateAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 59
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.CreateAppointment(CreateAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 70
2025-10-04 09:05:13.862 +07:00 [INF] Request: POST /api/appointments
2025-10-04 09:05:13.927 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 09:05:13.953 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 09:05:13.995 +07:00 [INF] Customer 1014 created appointment APT202510043275
2025-10-04 09:07:17.338 +07:00 [INF] Request: GET /api/appointments/my-appointments
2025-10-04 09:08:51.942 +07:00 [INF] Request: DELETE /api/appointments/7
2025-10-04 09:08:52.070 +07:00 [INF] Customer 1014 deleted appointment 7
2025-10-04 09:10:38.610 +07:00 [INF] Request: POST /api/appointments/4/cancel
2025-10-04 09:10:38.782 +07:00 [INF] Customer 1014 cancelled appointment 4. Reason: Anh không thích 
2025-10-04 09:12:29.868 +07:00 [INF] Request: POST /api/appointments/4/reschedule
2025-10-04 09:12:30.057 +07:00 [WRN] Invalid reschedule attempt for appointment 4
System.InvalidOperationException: Không thể dời lịch appointment đã kết thúc
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 193
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 09:12:56.381 +07:00 [INF] Request: POST /api/appointments/1/reschedule
2025-10-04 09:12:56.474 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 09:12:56.495 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 09:12:56.507 +07:00 [INF] Customer 1014 rescheduled appointment 1 to new appointment 8
2025-10-04 09:14:42.764 +07:00 [INF] Request: POST /api/appointments/1/reschedule
2025-10-04 09:14:42.999 +07:00 [WRN] Invalid reschedule attempt for appointment 1
System.InvalidOperationException: Không thể dời lịch appointment đã kết thúc
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 193
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 09:15:13.888 +07:00 [INF] Request: POST /api/appointments/1/reschedule
2025-10-04 09:15:13.990 +07:00 [WRN] Invalid reschedule attempt for appointment 1
System.InvalidOperationException: Không thể dời lịch appointment đã kết thúc
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 193
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 09:15:22.668 +07:00 [INF] Request: POST /api/appointments/1/reschedule
2025-10-04 09:15:22.741 +07:00 [WRN] Invalid reschedule attempt for appointment 1
System.InvalidOperationException: Không thể dời lịch appointment đã kết thúc
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 193
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 09:15:46.250 +07:00 [INF] Request: POST /api/appointments/3/reschedule
2025-10-04 09:15:46.324 +07:00 [WRN] Invalid reschedule attempt for appointment 3
System.InvalidOperationException: Slot mới đã đầy
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 203
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 09:15:59.333 +07:00 [INF] Request: POST /api/appointments/3/reschedule
2025-10-04 09:15:59.421 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 09:15:59.441 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 09:15:59.456 +07:00 [INF] Customer 1014 rescheduled appointment 3 to new appointment 9
2025-10-04 09:16:16.333 +07:00 [INF] Request: POST /api/appointments/3/reschedule
2025-10-04 09:16:16.410 +07:00 [WRN] Invalid reschedule attempt for appointment 3
System.InvalidOperationException: Không thể dời lịch appointment đã kết thúc
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 193
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 09:17:26.323 +07:00 [INF] Request: POST /api/appointments/1/cancel
2025-10-04 09:17:26.447 +07:00 [WRN] Invalid cancel attempt for appointment 1
System.InvalidOperationException: Không thể hủy appointment đã kết thúc
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.CancelAsync(CancelAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 260
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.CancelAppointment(Int32 id, CancelAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 465
2025-10-04 09:17:31.046 +07:00 [INF] Request: POST /api/appointments/1/cancel
2025-10-04 09:17:31.120 +07:00 [WRN] Invalid cancel attempt for appointment 1
System.InvalidOperationException: Không thể hủy appointment đã kết thúc
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.CancelAsync(CancelAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 260
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.CancelAppointment(Int32 id, CancelAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 465
2025-10-04 12:52:54.314 +07:00 [INF] Now listening on: https://localhost:7077
2025-10-04 12:52:54.352 +07:00 [INF] Now listening on: http://localhost:5153
2025-10-04 12:52:54.481 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-04 12:52:54.518 +07:00 [INF] Hosting environment: Development
2025-10-04 12:52:54.523 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API
2025-10-04 12:52:55.286 +07:00 [INF] Request: GET /
2025-10-04 13:03:20.063 +07:00 [INF] Request: GET /api/customer/profile/me
2025-10-04 13:46:15.618 +07:00 [INF] Now listening on: https://localhost:7077
2025-10-04 13:46:15.656 +07:00 [INF] Now listening on: http://localhost:5153
2025-10-04 13:46:15.705 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-04 13:46:15.713 +07:00 [INF] Hosting environment: Development
2025-10-04 13:46:15.716 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API
2025-10-04 13:46:16.209 +07:00 [INF] Request: GET /
2025-10-04 13:48:23.996 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 13:48:25.052 +07:00 [INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0
2025-10-04 13:48:29.996 +07:00 [INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập
2025-10-04 13:48:55.917 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 13:48:56.447 +07:00 [INF] User nghiadaucau1@gmail.com (ID: 2067, Role: "Customer") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0
2025-10-04 13:49:17.276 +07:00 [INF] Request: GET /api/users
2025-10-04 13:49:24.187 +07:00 [INF] Request: GET /api/customer/profile/me
2025-10-04 13:49:52.932 +07:00 [INF] Request: GET /api/auth/profile
2025-10-04 13:52:16.309 +07:00 [INF] Request: POST /api/appointments
2025-10-04 13:52:16.633 +07:00 [WRN] Invalid appointment creation attempt by customer 1014
System.InvalidOperationException: Không thể đặt lịch cho slot đã qua
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.CreateAsync(CreateAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 59
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.CreateAppointment(CreateAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 70
2025-10-04 13:53:46.944 +07:00 [INF] Request: POST /api/appointments
2025-10-04 13:53:47.070 +07:00 [WRN] Invalid appointment creation attempt by customer 1014
System.InvalidOperationException: Không thể đặt lịch cho slot đã qua
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.CreateAsync(CreateAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 59
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.CreateAppointment(CreateAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 70
2025-10-04 13:53:54.025 +07:00 [INF] Request: POST /api/appointments
2025-10-04 13:53:54.463 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 13:53:54.551 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 13:53:54.726 +07:00 [INF] Customer 1014 created appointment APT202510046316
2025-10-04 13:57:34.581 +07:00 [INF] Request: PUT /api/appointments/10
2025-10-04 13:57:34.765 +07:00 [WRN] Invalid appointment update attempt for 10
System.InvalidOperationException: Không thể chọn slot đã qua
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.UpdateAsync(UpdateAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 142
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.UpdateAppointment(Int32 id, UpdateAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 318
2025-10-04 13:57:41.039 +07:00 [INF] Request: PUT /api/appointments/10
2025-10-04 13:57:41.117 +07:00 [WRN] Invalid appointment update attempt for 10
System.InvalidOperationException: Không thể chọn slot đã qua
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.UpdateAsync(UpdateAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 142
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.UpdateAppointment(Int32 id, UpdateAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 318
2025-10-04 13:58:25.031 +07:00 [INF] Request: PUT /api/appointments/10
2025-10-04 13:58:25.130 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 13:58:25.182 +07:00 [INF] Customer 1014 updated appointment 10
2025-10-04 14:00:36.603 +07:00 [INF] Request: GET /api/appointments/my-appointments
2025-10-04 14:02:06.124 +07:00 [INF] Request: GET /api/appointments/my-appointments/upcoming
2025-10-04 14:03:05.963 +07:00 [INF] Request: GET /api/appointments/by-code/APT202510033765
2025-10-04 14:03:25.510 +07:00 [INF] Request: GET /api/appointments/1
2025-10-04 14:03:55.530 +07:00 [INF] Request: POST /api/appointments/10/reschedule
2025-10-04 14:03:55.718 +07:00 [WRN] Invalid reschedule attempt for appointment 10
System.InvalidOperationException: Không thể dời lịch sang khung giờ ở trong quá khứ
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 214
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 14:04:14.256 +07:00 [INF] Request: POST /api/appointments/10/reschedule
2025-10-04 14:04:14.340 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 14:04:14.359 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 14:04:14.381 +07:00 [INF] Customer 1014 rescheduled appointment 10 to new appointment 11
2025-10-04 14:04:22.761 +07:00 [INF] Request: POST /api/appointments/10/reschedule
2025-10-04 14:04:22.859 +07:00 [WRN] Invalid reschedule attempt for appointment 10
System.InvalidOperationException: Không thể dời lịch appointment đã kết thúc
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 206
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 14:17:34.837 +07:00 [INF] Request: GET /
2025-10-04 14:17:39.649 +07:00 [INF] Request: GET /
2025-10-04 14:18:05.437 +07:00 [INF] Request: GET /
2025-10-04 14:18:23.893 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 14:18:23.937 +07:00 [WRN] Login failed: Username xcvdsxv not found
2025-10-04 14:18:33.968 +07:00 [INF] Request: GET /
2025-10-04 14:18:40.185 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 14:18:40.332 +07:00 [WRN] Invalid password for user NghiaPham. Failed attempts: 1
2025-10-04 14:18:52.315 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 14:18:52.453 +07:00 [WRN] Invalid password for user NghiaPham. Failed attempts: 2
2025-10-04 14:19:00.160 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 14:19:00.326 +07:00 [INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 115.75.223.184, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 Edg/141.0.0.0
2025-10-04 14:19:04.643 +07:00 [INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập
2025-10-04 14:19:54.604 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 14:19:54.949 +07:00 [WRN] Invalid password for user nghiadaucau1@gmail.com. Failed attempts: 1
2025-10-04 14:20:05.697 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 14:20:06.205 +07:00 [INF] User nghiadaucau1@gmail.com (ID: 2067, Role: "Customer") logged in successfully from IP: 115.75.223.184, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 Edg/141.0.0.0
2025-10-04 14:20:19.403 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:21:23.130 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 14:21:23.503 +07:00 [INF] User nghiadaucau1@gmail.com (ID: 2067, Role: "Customer") logged in successfully from IP: 115.75.223.184, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 Edg/141.0.0.0
2025-10-04 14:21:30.753 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:23:03.849 +07:00 [INF] Request: GET /api/car-brands
2025-10-04 14:24:51.012 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:25:55.565 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:26:16.923 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:28:22.825 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:28:32.270 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:29:41.978 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:29:43.480 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:30:44.878 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:34:17.821 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:34:28.001 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:34:28.207 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:34:39.742 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:35:10.831 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:35:12.461 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:35:38.104 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:36:15.369 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:36:36.587 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:36:43.019 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:39:38.113 +07:00 [INF] Now listening on: https://localhost:7077
2025-10-04 14:39:38.150 +07:00 [INF] Now listening on: http://localhost:5153
2025-10-04 14:39:38.197 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-04 14:39:38.200 +07:00 [INF] Hosting environment: Development
2025-10-04 14:39:38.202 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API
2025-10-04 14:39:38.795 +07:00 [INF] Request: GET /
2025-10-04 14:40:25.925 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 14:40:27.196 +07:00 [INF] User nghiadaucau1@gmail.com (ID: 2067, Role: "Customer") logged in successfully from IP: 115.75.223.184, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 Edg/141.0.0.0
2025-10-04 14:40:32.327 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:46:56.391 +07:00 [INF] Request: GET /
2025-10-04 14:49:29.152 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:49:29.286 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:50:03.384 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 14:50:03.657 +07:00 [WRN] Invalid password for user NghiaPham. Failed attempts: 1
2025-10-04 14:50:09.461 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 14:50:09.589 +07:00 [INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 115.75.223.184, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 Edg/141.0.0.0
2025-10-04 14:50:13.789 +07:00 [INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập
2025-10-04 14:50:29.084 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 14:50:29.324 +07:00 [INF] User nghiadaucau1@gmail.com (ID: 2067, Role: "Customer") logged in successfully from IP: 115.75.223.184, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 Edg/141.0.0.0
2025-10-04 14:50:31.869 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:51:11.887 +07:00 [INF] Now listening on: https://localhost:7077
2025-10-04 14:51:11.932 +07:00 [INF] Now listening on: http://localhost:5153
2025-10-04 14:51:11.991 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-04 14:51:12.000 +07:00 [INF] Hosting environment: Development
2025-10-04 14:51:12.007 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API
2025-10-04 14:51:12.637 +07:00 [INF] Request: GET /
2025-10-04 14:51:30.192 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:51:42.267 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:51:47.143 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:54:14.738 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:56:22.783 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:56:47.659 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:56:51.448 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:57:26.812 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 14:57:38.512 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:02:56.619 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:02:56.768 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:03:00.274 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:10:39.496 +07:00 [INF] Now listening on: https://localhost:7077
2025-10-04 15:10:39.539 +07:00 [INF] Now listening on: http://localhost:5153
2025-10-04 15:10:39.594 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-04 15:10:39.612 +07:00 [INF] Hosting environment: Development
2025-10-04 15:10:39.616 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API
2025-10-04 15:10:40.135 +07:00 [INF] Request: GET /
2025-10-04 15:11:59.422 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 15:12:07.319 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 15:12:08.635 +07:00 [INF] User nghiadaucau1@gmail.com (ID: 2067, Role: "Customer") logged in successfully from IP: 115.75.223.184, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 Edg/141.0.0.0
2025-10-04 15:12:11.737 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:12:51.735 +07:00 [INF] Request: GET /api/car-models/by-brand/11
2025-10-04 15:12:55.265 +07:00 [INF] Request: GET /api/car-models/by-brand/4
2025-10-04 15:13:06.203 +07:00 [INF] Request: GET /api/car-models/by-brand/9
2025-10-04 15:13:23.511 +07:00 [INF] Request: POST /api/customer/profile/my-vehicles
2025-10-04 15:13:23.860 +07:00 [INF] Vehicle created: 51F-12321 for customer 1014
2025-10-04 15:13:23.873 +07:00 [INF] Customer 1014 registered new vehicle: 51F-12321
2025-10-04 15:15:49.399 +07:00 [INF] Request: GET /api/customer/profile/my-vehicles
2025-10-04 15:16:51.212 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 15:17:01.988 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 15:17:02.379 +07:00 [INF] User nghiadaucau1@gmail.com (ID: 2067, Role: "Customer") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0
2025-10-04 15:17:20.084 +07:00 [INF] Request: GET /api/customer/profile/me
2025-10-04 15:22:02.852 +07:00 [INF] Now listening on: https://localhost:7077
2025-10-04 15:22:02.886 +07:00 [INF] Now listening on: http://localhost:5153
2025-10-04 15:22:02.931 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-04 15:22:02.938 +07:00 [INF] Hosting environment: Development
2025-10-04 15:22:02.942 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API
2025-10-04 15:22:18.006 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:22:18.772 +07:00 [INF] Request: GET /
2025-10-04 15:22:26.778 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:22:38.642 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:23:15.078 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 15:23:16.236 +07:00 [INF] User nghiadaucau1@gmail.com (ID: 2067, Role: "Customer") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0
2025-10-04 15:24:49.949 +07:00 [INF] Request: POST /api/appointments/11/reschedule
2025-10-04 15:24:50.265 +07:00 [INF] Reschedule analysis: Appointment 11, Chain: [10 -> 11], RescheduleCount: 1, Customer: 1014
2025-10-04 15:24:50.289 +07:00 [WRN] Reschedule attempt for reschedule-result appointment 11 (RescheduledFrom: 10)
2025-10-04 15:24:50.485 +07:00 [WRN] Invalid reschedule attempt for appointment 11
System.InvalidOperationException: Không thể dời lịch một lịch hẹn đã là kết quả của việc dời lịch trước đó. Vui lòng liên hệ tổng đài 1900-xxxx để được hỗ trợ.
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 269
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 15:25:22.208 +07:00 [INF] Request: POST /api/appointments/11/reschedule
2025-10-04 15:25:22.289 +07:00 [INF] Reschedule analysis: Appointment 11, Chain: [10 -> 11], RescheduleCount: 1, Customer: 1014
2025-10-04 15:25:22.300 +07:00 [WRN] Reschedule attempt for reschedule-result appointment 11 (RescheduledFrom: 10)
2025-10-04 15:25:22.373 +07:00 [WRN] Invalid reschedule attempt for appointment 11
System.InvalidOperationException: Không thể dời lịch một lịch hẹn đã là kết quả của việc dời lịch trước đó. Vui lòng liên hệ tổng đài 1900-xxxx để được hỗ trợ.
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 269
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 15:25:25.642 +07:00 [INF] Request: POST /api/appointments/11/reschedule
2025-10-04 15:25:25.666 +07:00 [INF] Reschedule analysis: Appointment 11, Chain: [10 -> 11], RescheduleCount: 1, Customer: 1014
2025-10-04 15:25:25.677 +07:00 [WRN] Reschedule attempt for reschedule-result appointment 11 (RescheduledFrom: 10)
2025-10-04 15:25:25.742 +07:00 [WRN] Invalid reschedule attempt for appointment 11
System.InvalidOperationException: Không thể dời lịch một lịch hẹn đã là kết quả của việc dời lịch trước đó. Vui lòng liên hệ tổng đài 1900-xxxx để được hỗ trợ.
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 269
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 15:25:39.667 +07:00 [INF] Request: POST /api/appointments/11/reschedule
2025-10-04 15:25:39.692 +07:00 [INF] Reschedule analysis: Appointment 11, Chain: [10 -> 11], RescheduleCount: 1, Customer: 1014
2025-10-04 15:25:39.704 +07:00 [WRN] Reschedule attempt for reschedule-result appointment 11 (RescheduledFrom: 10)
2025-10-04 15:25:39.774 +07:00 [WRN] Invalid reschedule attempt for appointment 11
System.InvalidOperationException: Không thể dời lịch một lịch hẹn đã là kết quả của việc dời lịch trước đó. Vui lòng liên hệ tổng đài 1900-xxxx để được hỗ trợ.
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 269
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 15:26:09.342 +07:00 [INF] Request: POST /api/appointments/11/reschedule
2025-10-04 15:26:09.361 +07:00 [INF] Reschedule analysis: Appointment 11, Chain: [10 -> 11], RescheduleCount: 1, Customer: 1014
2025-10-04 15:26:09.370 +07:00 [WRN] Reschedule attempt for reschedule-result appointment 11 (RescheduledFrom: 10)
2025-10-04 15:26:09.431 +07:00 [WRN] Invalid reschedule attempt for appointment 11
System.InvalidOperationException: Không thể dời lịch một lịch hẹn đã là kết quả của việc dời lịch trước đó. Vui lòng liên hệ tổng đài 1900-xxxx để được hỗ trợ.
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 269
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 15:26:34.073 +07:00 [INF] Request: POST /api/appointments/11/reschedule
2025-10-04 15:26:34.143 +07:00 [INF] Reschedule analysis: Appointment 11, Chain: [10 -> 11], RescheduleCount: 1, Customer: 1014
2025-10-04 15:26:34.158 +07:00 [WRN] Reschedule attempt for reschedule-result appointment 11 (RescheduledFrom: 10)
2025-10-04 15:26:34.237 +07:00 [WRN] Invalid reschedule attempt for appointment 11
System.InvalidOperationException: Không thể dời lịch một lịch hẹn đã là kết quả của việc dời lịch trước đó. Vui lòng liên hệ tổng đài 1900-xxxx để được hỗ trợ.
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 269
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 15:33:59.220 +07:00 [INF] Now listening on: https://localhost:7077
2025-10-04 15:33:59.257 +07:00 [INF] Now listening on: http://localhost:5153
2025-10-04 15:33:59.307 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-04 15:33:59.315 +07:00 [INF] Hosting environment: Development
2025-10-04 15:33:59.321 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API
2025-10-04 15:34:04.580 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:34:04.980 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:34:18.748 +07:00 [INF] Request: GET /
2025-10-04 15:34:29.853 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:35:14.947 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:35:33.132 +07:00 [INF] Request: POST /api/appointments/1/reschedule
2025-10-04 15:35:33.414 +07:00 [WRN] Reschedule attempt for finalized appointment 1 (Status: 7) by user 2067
2025-10-04 15:35:33.585 +07:00 [WRN] Invalid reschedule attempt for appointment 1
System.InvalidOperationException: Không thể dời lịch appointment đã kết thúc
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 227
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 15:36:09.600 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:36:09.973 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:36:14.109 +07:00 [INF] Request: POST /api/appointments/2/reschedule
2025-10-04 15:36:14.415 +07:00 [INF] Reschedule analysis: Appointment 2, Chain: [2], RescheduleCount: 0, Customer: 1014
2025-10-04 15:36:14.439 +07:00 [INF] First-time reschedule for appointment 2 by customer 1014
2025-10-04 15:36:14.449 +07:00 [WRN] Reschedule rejected due to insufficient notice: Appointment 2, Required: 24h, Actual: -0.6h, Customer: 1014
2025-10-04 15:36:14.532 +07:00 [WRN] Invalid reschedule attempt for appointment 2
System.InvalidOperationException: Để dời lịch, bạn cần thông báo trước ít nhất 24 giờ. Lịch hẹn của bạn chỉ còn -0.6 giờ nữa. Vui lòng liên hệ tổng đài 1900-xxxx để được hỗ trợ khẩn cấp.
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.ValidateFirstTimeReschedule(Appointment appointment) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 544
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 284
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 15:36:19.430 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:36:20.039 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:36:28.269 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:36:28.480 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:36:36.026 +07:00 [INF] Request: POST /api/appointments/2/reschedule
2025-10-04 15:36:36.095 +07:00 [INF] Reschedule analysis: Appointment 2, Chain: [2], RescheduleCount: 0, Customer: 1014
2025-10-04 15:36:36.105 +07:00 [INF] First-time reschedule for appointment 2 by customer 1014
2025-10-04 15:36:36.111 +07:00 [WRN] Reschedule rejected due to insufficient notice: Appointment 2, Required: 24h, Actual: -0.6h, Customer: 1014
2025-10-04 15:36:36.186 +07:00 [WRN] Invalid reschedule attempt for appointment 2
System.InvalidOperationException: Để dời lịch, bạn cần thông báo trước ít nhất 24 giờ. Lịch hẹn của bạn chỉ còn -0.6 giờ nữa. Vui lòng liên hệ tổng đài 1900-xxxx để được hỗ trợ khẩn cấp.
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.ValidateFirstTimeReschedule(Appointment appointment) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 544
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 284
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 15:36:45.195 +07:00 [INF] Request: POST /api/appointments/2/reschedule
2025-10-04 15:36:45.214 +07:00 [INF] Reschedule analysis: Appointment 2, Chain: [2], RescheduleCount: 0, Customer: 1014
2025-10-04 15:36:45.227 +07:00 [INF] First-time reschedule for appointment 2 by customer 1014
2025-10-04 15:36:45.235 +07:00 [WRN] Reschedule rejected due to insufficient notice: Appointment 2, Required: 24h, Actual: -0.6h, Customer: 1014
2025-10-04 15:36:45.301 +07:00 [WRN] Invalid reschedule attempt for appointment 2
System.InvalidOperationException: Để dời lịch, bạn cần thông báo trước ít nhất 24 giờ. Lịch hẹn của bạn chỉ còn -0.6 giờ nữa. Vui lòng liên hệ tổng đài 1900-xxxx để được hỗ trợ khẩn cấp.
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.ValidateFirstTimeReschedule(Appointment appointment) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 544
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 284
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 15:37:07.432 +07:00 [INF] Request: POST /api/appointments/8/reschedule
2025-10-04 15:37:12.999 +07:00 [INF] Request: POST /api/appointments/8/reschedule
2025-10-04 15:37:13.032 +07:00 [INF] Reschedule analysis: Appointment 8, Chain: [1 -> 8], RescheduleCount: 1, Customer: 1014
2025-10-04 15:37:13.043 +07:00 [WRN] Reschedule attempt for reschedule-result appointment 8 (RescheduledFrom: 1)
2025-10-04 15:37:13.127 +07:00 [WRN] Invalid reschedule attempt for appointment 8
System.InvalidOperationException: Không thể dời lịch một lịch hẹn đã là kết quả của việc dời lịch trước đó. Vui lòng liên hệ tổng đài 1900-xxxx để được hỗ trợ.
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 269
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 15:37:56.765 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:37:56.978 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:38:30.713 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:38:41.361 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:39:09.192 +07:00 [INF] Request: POST /api/appointments
2025-10-04 15:39:09.558 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 15:39:09.626 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 15:39:09.666 +07:00 [INF] Customer 1014 created appointment APT202510044867
2025-10-04 15:39:36.036 +07:00 [INF] Request: POST /api/appointments/12/reschedule
2025-10-04 15:39:43.240 +07:00 [INF] Request: POST /api/appointments/12/reschedule
2025-10-04 15:39:43.296 +07:00 [INF] Reschedule analysis: Appointment 12, Chain: [12], RescheduleCount: 0, Customer: 1014
2025-10-04 15:39:43.308 +07:00 [INF] First-time reschedule for appointment 12 by customer 1014
2025-10-04 15:39:43.314 +07:00 [WRN] Reschedule rejected due to insufficient notice: Appointment 12, Required: 24h, Actual: 8.3h, Customer: 1014
2025-10-04 15:39:43.402 +07:00 [WRN] Invalid reschedule attempt for appointment 12
System.InvalidOperationException: Để dời lịch, bạn cần thông báo trước ít nhất 24 giờ. Lịch hẹn của bạn chỉ còn 8.3 giờ nữa. Vui lòng liên hệ tổng đài 1900-xxxx để được hỗ trợ khẩn cấp.
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.ValidateFirstTimeReschedule(Appointment appointment) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 544
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 284
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 15:40:16.230 +07:00 [INF] Request: POST /api/appointments
2025-10-04 15:40:16.289 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 15:40:16.312 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 15:40:16.339 +07:00 [INF] Customer 1014 created appointment APT202510041763
2025-10-04 15:40:36.787 +07:00 [INF] Request: POST /api/appointments/13/reschedule
2025-10-04 15:40:36.845 +07:00 [INF] Reschedule analysis: Appointment 13, Chain: [13], RescheduleCount: 0, Customer: 1014
2025-10-04 15:40:36.855 +07:00 [INF] First-time reschedule for appointment 13 by customer 1014
2025-10-04 15:40:36.863 +07:00 [INF] First-time reschedule validation passed: Appointment 13, Notice: 32.3h
2025-10-04 15:40:36.921 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 15:40:36.937 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 15:40:36.954 +07:00 [INF] Reschedule successful: Old appointment 13 -> New appointment 14 (APT202510044432). Customer: 1014, Old slot: 40, New slot: 37, Old date: "2025-10-05T17:00:00.0000000", New date: "2025-10-05T14:00:00.0000000", Reason: Anh bận quá 
2025-10-04 15:40:36.970 +07:00 [INF] Customer 1014 rescheduled appointment 13 to new appointment 14
2025-10-04 15:41:21.852 +07:00 [INF] Request: POST /api/appointments/13/reschedule
2025-10-04 15:41:21.891 +07:00 [WRN] Reschedule attempt for finalized appointment 13 (Status: 7) by user 2067
2025-10-04 15:41:21.973 +07:00 [WRN] Invalid reschedule attempt for appointment 13
System.InvalidOperationException: Không thể dời lịch appointment đã kết thúc
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 227
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 15:41:32.223 +07:00 [INF] Request: POST /api/appointments/13/reschedule
2025-10-04 15:41:32.251 +07:00 [WRN] Reschedule attempt for finalized appointment 13 (Status: 7) by user 2067
2025-10-04 15:41:32.325 +07:00 [WRN] Invalid reschedule attempt for appointment 13
System.InvalidOperationException: Không thể dời lịch appointment đã kết thúc
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 227
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 15:41:34.981 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:41:35.384 +07:00 [INF] Request: GET /api/car-brands/active
2025-10-04 15:42:37.458 +07:00 [INF] Request: GET /api/car-models/by-brand/14
2025-10-04 15:42:43.584 +07:00 [INF] Request: GET /api/car-models/by-brand/2
2025-10-04 15:56:51.906 +07:00 [INF] Now listening on: https://localhost:7077
2025-10-04 15:56:51.948 +07:00 [INF] Now listening on: http://localhost:5153
2025-10-04 15:56:52.003 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-04 15:56:52.009 +07:00 [INF] Hosting environment: Development
2025-10-04 15:56:52.014 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API
2025-10-04 15:56:52.549 +07:00 [INF] Request: GET /
2025-10-04 15:57:06.439 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 15:57:07.501 +07:00 [INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0
2025-10-04 15:57:12.332 +07:00 [INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập
2025-10-04 15:57:19.263 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 15:57:19.856 +07:00 [INF] User nghiadaucau1@gmail.com (ID: 2067, Role: "Customer") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0
2025-10-04 15:57:43.320 +07:00 [INF] Request: GET /api/customer/profile/me
2025-10-04 15:58:21.983 +07:00 [INF] Request: POST /api/appointments/14/reschedule
2025-10-04 15:58:22.333 +07:00 [INF] Reschedule analysis: Appointment 14, Chain: [13 -> 14], RescheduleCount: 1, Customer: 1014
2025-10-04 15:58:22.361 +07:00 [WRN] Second reschedule attempt for appointment 14, customer 1014. Applying stricter conditions (48h notice + mandatory reason). Reason: Mình bận 
2025-10-04 15:58:22.370 +07:00 [WRN] Second reschedule rejected due to insufficient notice: Appointment 14, Required: 48h, Actual: 29h, Customer: 1014
2025-10-04 15:58:22.535 +07:00 [WRN] Invalid reschedule attempt for appointment 14
System.InvalidOperationException: Đây là lần dời lịch thứ 2. Để bảo vệ lịch trình kỹ thuật viên và khách hàng khác, bạn cần thông báo trước ít nhất 48 giờ. Lịch hẹn của bạn chỉ còn 29 giờ nữa. Vui lòng liên hệ tổng đài 1900-xxxx để được hỗ trợ.
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.ValidateSecondTimeReschedule(Appointment appointment, String reason) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 574
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 291
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 15:59:49.973 +07:00 [INF] Request: POST /api/appointments
2025-10-04 15:59:50.452 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 15:59:50.539 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 15:59:50.602 +07:00 [INF] Customer 1014 created appointment APT202510043353
2025-10-04 16:00:20.701 +07:00 [INF] Request: POST /api/appointments/15/reschedule
2025-10-04 16:00:20.764 +07:00 [INF] Reschedule analysis: Appointment 15, Chain: [15], RescheduleCount: 0, Customer: 1014
2025-10-04 16:00:20.780 +07:00 [INF] First-time reschedule for appointment 15 by customer 1014
2025-10-04 16:00:20.791 +07:00 [INF] First-time reschedule validation passed: Appointment 15, Notice: 72h (Required: 24h)
2025-10-04 16:00:20.866 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 16:00:20.885 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 16:00:20.904 +07:00 [INF] Reschedule successful: Old appointment 15 -> New appointment 16 (APT202510043300). Customer: 1014, Old slot: 52, New slot: 53, Old date: "2025-10-07T09:00:00.0000000", New date: "2025-10-07T10:00:00.0000000", Reason: Mình bận 
2025-10-04 16:00:20.919 +07:00 [INF] Customer 1014 rescheduled appointment 15 to new appointment 16
2025-10-04 16:00:52.201 +07:00 [INF] Request: POST /api/appointments/15/reschedule
2025-10-04 16:00:52.242 +07:00 [WRN] Reschedule attempt for finalized appointment 15 (Status: 7) by user 2067
2025-10-04 16:00:52.344 +07:00 [WRN] Invalid reschedule attempt for appointment 15
System.InvalidOperationException: Không thể dời lịch appointment đã kết thúc
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 227
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 16:01:32.653 +07:00 [INF] Request: POST /api/appointments/15/reschedule
2025-10-04 16:01:32.711 +07:00 [WRN] Reschedule attempt for finalized appointment 15 (Status: 7) by user 2067
2025-10-04 16:01:32.779 +07:00 [WRN] Invalid reschedule attempt for appointment 15
System.InvalidOperationException: Không thể dời lịch appointment đã kết thúc
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 227
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 16:06:59.034 +07:00 [INF] Request: POST /api/appointments/16/reschedule
2025-10-04 16:06:59.164 +07:00 [INF] Reschedule analysis: Appointment 16, Chain: [15 -> 16], RescheduleCount: 1, Customer: 1014
2025-10-04 16:06:59.177 +07:00 [WRN] Second reschedule attempt for appointment 16, customer 1014. Applying stricter conditions (48h notice + mandatory reason). Reason: Mình bận 
2025-10-04 16:06:59.185 +07:00 [WRN] Second reschedule rejected due to missing/invalid reason: Appointment 16, Customer: 1014, Reason length: 9
2025-10-04 16:06:59.269 +07:00 [WRN] Invalid reschedule attempt for appointment 16
System.InvalidOperationException: Đây là lần dời lịch thứ 2. Vui lòng cung cấp lý do dời lịch (tối thiểu 10 ký tự) để chúng tôi có thể cải thiện dịch vụ và hỗ trợ bạn tốt hơn.
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.ValidateSecondTimeReschedule(Appointment appointment, String reason) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 590
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 291
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 16:07:11.825 +07:00 [INF] Request: POST /api/appointments/15/reschedule
2025-10-04 16:07:11.876 +07:00 [WRN] Reschedule attempt for finalized appointment 15 (Status: 7) by user 2067
2025-10-04 16:07:11.953 +07:00 [WRN] Invalid reschedule attempt for appointment 15
System.InvalidOperationException: Không thể dời lịch appointment đã kết thúc
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 227
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 16:07:19.744 +07:00 [INF] Request: POST /api/appointments/16/reschedule
2025-10-04 16:07:19.761 +07:00 [INF] Reschedule analysis: Appointment 16, Chain: [15 -> 16], RescheduleCount: 1, Customer: 1014
2025-10-04 16:07:19.773 +07:00 [WRN] Second reschedule attempt for appointment 16, customer 1014. Applying stricter conditions (48h notice + mandatory reason). Reason: Mình bận 
2025-10-04 16:07:19.781 +07:00 [WRN] Second reschedule rejected due to missing/invalid reason: Appointment 16, Customer: 1014, Reason length: 9
2025-10-04 16:07:19.857 +07:00 [WRN] Invalid reschedule attempt for appointment 16
System.InvalidOperationException: Đây là lần dời lịch thứ 2. Vui lòng cung cấp lý do dời lịch (tối thiểu 10 ký tự) để chúng tôi có thể cải thiện dịch vụ và hỗ trợ bạn tốt hơn.
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.ValidateSecondTimeReschedule(Appointment appointment, String reason) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 590
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 291
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 16:07:35.972 +07:00 [INF] Request: POST /api/appointments/16/reschedule
2025-10-04 16:07:35.997 +07:00 [INF] Reschedule analysis: Appointment 16, Chain: [15 -> 16], RescheduleCount: 1, Customer: 1014
2025-10-04 16:07:36.007 +07:00 [WRN] Second reschedule attempt for appointment 16, customer 1014. Applying stricter conditions (48h notice + mandatory reason). Reason: Mình bận và có công chuyện đột xuất
2025-10-04 16:07:36.014 +07:00 [INF] Second-time reschedule validation passed: Appointment 16, Notice: 72.9h (Required: 48h), Reason: Mình bận và có công chuyện đột xuất, Customer: 1014
2025-10-04 16:07:36.023 +07:00 [INF] Second reschedule APPROVED with conditions: Appointment 16, Customer 1014, Reason: Mình bận và có công chuyện đột xuất
2025-10-04 16:07:36.065 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 16:07:36.085 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 16:07:36.109 +07:00 [INF] Reschedule successful: Old appointment 16 -> New appointment 17 (APT202510048832). Customer: 1014, Old slot: 53, New slot: 54, Old date: "2025-10-07T10:00:00.0000000", New date: "2025-10-07T11:00:00.0000000", Reason: Mình bận và có công chuyện đột xuất
2025-10-04 16:07:36.123 +07:00 [INF] Customer 1014 rescheduled appointment 16 to new appointment 17
2025-10-04 16:08:21.376 +07:00 [INF] Request: POST /api/appointments/17/reschedule
2025-10-04 16:08:26.890 +07:00 [INF] Request: POST /api/appointments/17/reschedule
2025-10-04 16:08:26.959 +07:00 [INF] Reschedule analysis: Appointment 17, Chain: [15 -> 16 -> 17], RescheduleCount: 2, Customer: 1014
2025-10-04 16:08:26.968 +07:00 [WRN] Excessive reschedule attempt (2 times) blocked for appointment 17, customer 1014. Staff approval required.
2025-10-04 16:08:27.035 +07:00 [WRN] Invalid reschedule attempt for appointment 17
System.InvalidOperationException: Lịch hẹn gốc đã được dời 2 lần. Để bảo vệ chất lượng dịch vụ và công suất vận hành, lịch hẹn này cần được xem xét bởi nhân viên. Vui lòng liên hệ tổng đài 1900-xxxx để được hỗ trợ. Hoặc bạn có thể HỦY lịch hẹn hiện tại và TẠO LỊCH MỚI.
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 304
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 16:09:02.596 +07:00 [INF] Request: POST /api/appointments
2025-10-04 16:09:02.639 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 16:09:02.662 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 16:09:02.686 +07:00 [INF] Customer 1014 created appointment APT202510047934
2025-10-04 16:09:43.532 +07:00 [INF] Request: POST /api/appointments/18/reschedule
2025-10-04 16:09:43.606 +07:00 [INF] Reschedule analysis: Appointment 18, Chain: [18], RescheduleCount: 0, Customer: 1014
2025-10-04 16:09:43.617 +07:00 [INF] First-time reschedule for appointment 18 by customer 1014
2025-10-04 16:09:43.623 +07:00 [INF] First-time reschedule validation passed: Appointment 18, Notice: 71.8h (Required: 24h)
2025-10-04 16:09:43.709 +07:00 [WRN] Invalid reschedule attempt for appointment 18
System.InvalidOperationException: Không thể dời lịch sang khung giờ ở trong quá khứ
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 322
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 16:09:54.903 +07:00 [INF] Request: POST /api/appointments/18/reschedule
2025-10-04 16:09:54.925 +07:00 [INF] Reschedule analysis: Appointment 18, Chain: [18], RescheduleCount: 0, Customer: 1014
2025-10-04 16:09:54.940 +07:00 [INF] First-time reschedule for appointment 18 by customer 1014
2025-10-04 16:09:54.948 +07:00 [INF] First-time reschedule validation passed: Appointment 18, Notice: 71.8h (Required: 24h)
2025-10-04 16:09:54.980 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 16:09:54.999 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 16:09:55.021 +07:00 [INF] Reschedule successful: Old appointment 18 -> New appointment 19 (APT202510049393). Customer: 1014, Old slot: 52, New slot: 70, Old date: "2025-10-07T09:00:00.0000000", New date: "2025-10-08T17:00:00.0000000", Reason: Mình bận và có công chuyện đột xuất
2025-10-04 16:09:55.034 +07:00 [INF] Customer 1014 rescheduled appointment 18 to new appointment 19
2025-10-04 16:09:58.207 +07:00 [INF] Request: POST /api/appointments/18/reschedule
2025-10-04 16:09:58.216 +07:00 [WRN] Reschedule attempt for finalized appointment 18 (Status: 7) by user 2067
2025-10-04 16:09:58.288 +07:00 [WRN] Invalid reschedule attempt for appointment 18
System.InvalidOperationException: Không thể dời lịch appointment đã kết thúc
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 227
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 16:10:07.760 +07:00 [INF] Request: POST /api/appointments/19/reschedule
2025-10-04 16:10:07.778 +07:00 [INF] Reschedule analysis: Appointment 19, Chain: [18 -> 19], RescheduleCount: 1, Customer: 1014
2025-10-04 16:10:07.787 +07:00 [WRN] Second reschedule attempt for appointment 19, customer 1014. Applying stricter conditions (48h notice + mandatory reason). Reason: Mình bận và có công chuyện đột xuất
2025-10-04 16:10:07.795 +07:00 [INF] Second-time reschedule validation passed: Appointment 19, Notice: 103.8h (Required: 48h), Reason: Mình bận và có công chuyện đột xuất, Customer: 1014
2025-10-04 16:10:07.803 +07:00 [INF] Second reschedule APPROVED with conditions: Appointment 19, Customer 1014, Reason: Mình bận và có công chuyện đột xuất
2025-10-04 16:10:07.885 +07:00 [WRN] Invalid reschedule attempt for appointment 19
System.InvalidOperationException: Slot mới trùng với slot hiện tại. Vui lòng chọn khung giờ khác.
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 327
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 16:10:15.104 +07:00 [INF] Request: POST /api/appointments/19/reschedule
2025-10-04 16:10:15.115 +07:00 [INF] Reschedule analysis: Appointment 19, Chain: [18 -> 19], RescheduleCount: 1, Customer: 1014
2025-10-04 16:10:15.124 +07:00 [WRN] Second reschedule attempt for appointment 19, customer 1014. Applying stricter conditions (48h notice + mandatory reason). Reason: Mình bận và có công chuyện đột xuất
2025-10-04 16:10:15.130 +07:00 [INF] Second-time reschedule validation passed: Appointment 19, Notice: 103.8h (Required: 48h), Reason: Mình bận và có công chuyện đột xuất, Customer: 1014
2025-10-04 16:10:15.138 +07:00 [INF] Second reschedule APPROVED with conditions: Appointment 19, Customer 1014, Reason: Mình bận và có công chuyện đột xuất
2025-10-04 16:10:15.150 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 16:10:15.159 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 16:10:15.168 +07:00 [INF] Reschedule successful: Old appointment 19 -> New appointment 20 (APT202510047771). Customer: 1014, Old slot: 70, New slot: 71, Old date: "2025-10-08T17:00:00.0000000", New date: "2025-10-09T08:00:00.0000000", Reason: Mình bận và có công chuyện đột xuất
2025-10-04 16:10:15.179 +07:00 [INF] Customer 1014 rescheduled appointment 19 to new appointment 20
2025-10-04 16:10:21.047 +07:00 [INF] Request: POST /api/appointments/19/reschedule
2025-10-04 16:10:21.117 +07:00 [WRN] Reschedule attempt for finalized appointment 19 (Status: 7) by user 2067
2025-10-04 16:10:21.191 +07:00 [WRN] Invalid reschedule attempt for appointment 19
System.InvalidOperationException: Không thể dời lịch appointment đã kết thúc
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 227
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 16:10:28.776 +07:00 [INF] Request: POST /api/appointments/20/reschedule
2025-10-04 16:10:28.834 +07:00 [INF] Reschedule analysis: Appointment 20, Chain: [18 -> 19 -> 20], RescheduleCount: 2, Customer: 1014
2025-10-04 16:10:28.845 +07:00 [WRN] Excessive reschedule attempt (2 times) blocked for appointment 20, customer 1014. Staff approval required.
2025-10-04 16:10:28.922 +07:00 [WRN] Invalid reschedule attempt for appointment 20
System.InvalidOperationException: Lịch hẹn gốc đã được dời 2 lần. Để bảo vệ chất lượng dịch vụ và công suất vận hành, lịch hẹn này cần được xem xét bởi nhân viên. Vui lòng liên hệ tổng đài 1900-xxxx để được hỗ trợ. Hoặc bạn có thể HỦY lịch hẹn hiện tại và TẠO LỊCH MỚI.
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.RescheduleAsync(RescheduleAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 304
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.RescheduleAppointment(Int32 id, RescheduleAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 391
2025-10-04 16:11:25.825 +07:00 [INF] Request: POST /api/appointments
2025-10-04 16:11:25.870 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 16:11:25.888 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 16:11:25.907 +07:00 [INF] Customer 1014 created appointment APT202510043369
2025-10-04 16:11:28.558 +07:00 [INF] Request: POST /api/appointments
2025-10-04 16:11:28.626 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 16:11:28.705 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 16:11:28.765 +07:00 [INF] Customer 1014 created appointment APT202510044906
2025-10-04 16:11:33.007 +07:00 [INF] Request: POST /api/appointments
2025-10-04 16:11:33.124 +07:00 [WRN] Invalid appointment creation attempt by customer 1014
System.InvalidOperationException: Slot đã đầy
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.CreateAsync(CreateAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 74
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.CreateAppointment(CreateAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 70
2025-10-04 17:21:41.525 +07:00 [INF] Now listening on: https://localhost:7077
2025-10-04 17:21:41.580 +07:00 [INF] Now listening on: http://localhost:5153
2025-10-04 17:21:41.632 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-04 17:21:41.648 +07:00 [INF] Hosting environment: Development
2025-10-04 17:21:41.653 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API
2025-10-04 17:21:44.953 +07:00 [INF] Request: GET /
2025-10-04 17:28:16.380 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 17:28:29.037 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 17:28:38.194 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 17:28:38.787 +07:00 [WRN] Invalid password for user nghiadaucau1@gmail.com. Failed attempts: 1
2025-10-04 17:28:41.201 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 17:28:41.542 +07:00 [INF] User nghiadaucau1@gmail.com (ID: 2067, Role: "Customer") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0
2025-10-04 17:29:13.815 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 17:29:18.413 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 17:29:20.085 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 17:29:23.800 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 17:29:24.046 +07:00 [WRN] Invalid password for user nghiadaucau1@gmail.com. Failed attempts: 1
2025-10-04 17:29:40.191 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 17:29:40.451 +07:00 [WRN] Invalid password for user nghiadaucau1@gmail.com. Failed attempts: 2
2025-10-04 17:29:45.292 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 17:29:50.059 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 17:29:50.307 +07:00 [WRN] Invalid password for user nghiadaucau1@gmail.com. Failed attempts: 3
2025-10-04 17:30:06.974 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 17:30:07.223 +07:00 [INF] User nghiadaucau1@gmail.com (ID: 2067, Role: "Customer") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0
2025-10-04 17:30:19.264 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 17:30:19.520 +07:00 [WRN] Invalid password for user nghiadaucau1@gmail.com. Failed attempts: 1
2025-10-04 17:30:41.703 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 17:30:41.726 +07:00 [WRN] Login failed: Username nghiadaucau@gmail.com not found
2025-10-04 17:30:43.955 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 17:30:43.965 +07:00 [WRN] Login failed: Username nghiadaucau@gmail.com not found
2025-10-04 17:30:53.139 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 17:30:53.399 +07:00 [INF] User nghiadaucau1@gmail.com (ID: 2067, Role: "Customer") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0
2025-10-04 17:32:47.148 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 17:32:47.171 +07:00 [WRN] Login failed: Username sasdas not found
2025-10-04 17:32:48.853 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 17:32:48.874 +07:00 [WRN] Login failed: Username sasdasawsdasd not found
2025-10-04 17:32:50.511 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 17:32:50.534 +07:00 [WRN] Login failed: Username sasdasawsdasd not found
2025-10-04 17:32:52.209 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 17:32:52.233 +07:00 [WRN] Login failed: Username sasdasawsdasdsad not found
2025-10-04 17:41:41.719 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 17:41:41.900 +07:00 [INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0
2025-10-04 17:41:49.095 +07:00 [INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập
2025-10-04 17:45:38.110 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 17:45:38.236 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 17:48:15.887 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 17:48:16.030 +07:00 [WRN] Invalid password for user NghiaPham. Failed attempts: 1
2025-10-04 17:48:20.728 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 17:48:20.866 +07:00 [INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0
2025-10-04 17:48:20.937 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 17:48:20.952 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 17:48:25.677 +07:00 [INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập
2025-10-04 17:48:26.004 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:48:26.139 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:48:26.919 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:48:26.959 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:48:28.815 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:48:28.850 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:50:43.900 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:50:43.935 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:50:44.635 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 17:50:44.649 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 17:50:45.959 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:50:45.974 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:57:12.997 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:57:13.085 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:57:14.318 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 17:57:14.347 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 17:57:19.581 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:57:19.613 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:57:23.091 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 17:57:23.102 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 17:58:18.125 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:58:18.137 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:58:19.158 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:58:19.191 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:58:20.632 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:58:21.557 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:58:22.354 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:58:23.131 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:58:25.213 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:58:31.778 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:58:32.329 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:58:32.797 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 17:58:36.476 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 17:58:36.487 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:01:25.864 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:01:25.872 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:02:04.865 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 18:02:05.031 +07:00 [INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0
2025-10-04 18:02:05.092 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:02:05.100 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:02:09.931 +07:00 [INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập
2025-10-04 18:02:14.737 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 18:02:14.761 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 18:02:17.519 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:02:17.534 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:04:49.004 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:04:49.017 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:06:38.976 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:06:38.985 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:12:17.822 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:12:17.905 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:12:25.664 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 18:12:25.684 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 18:12:29.208 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:12:29.221 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:12:43.640 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 18:12:43.650 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 18:14:00.494 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 18:14:00.657 +07:00 [INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0
2025-10-04 18:14:00.711 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:14:00.721 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:14:04.382 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 18:14:04.407 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 18:14:04.868 +07:00 [INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập
2025-10-04 18:14:08.645 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 18:14:08.657 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 18:14:08.917 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:14:08.931 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:18:23.851 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:18:23.864 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:18:33.377 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:18:33.387 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:20:56.940 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:20:56.948 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:21:02.954 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 18:21:02.999 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 18:26:54.542 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 18:26:54.594 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 18:27:10.166 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:27:10.198 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:27:11.290 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 18:27:11.313 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 18:27:15.597 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:27:15.611 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:27:26.033 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 18:27:26.046 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 18:27:26.670 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:27:26.684 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:28:45.786 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 18:28:45.796 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:04:50.437 +07:00 [INF] Now listening on: https://localhost:7077
2025-10-04 20:04:50.479 +07:00 [INF] Now listening on: http://localhost:5153
2025-10-04 20:04:50.532 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-04 20:04:50.538 +07:00 [INF] Hosting environment: Development
2025-10-04 20:04:50.544 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API
2025-10-04 20:04:51.653 +07:00 [INF] Request: GET /
2025-10-04 20:05:15.434 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 20:05:16.656 +07:00 [INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0
2025-10-04 20:05:22.144 +07:00 [INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập
2025-10-04 20:05:32.175 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 20:05:32.694 +07:00 [INF] User nghiadaucau1@gmail.com (ID: 2067, Role: "Customer") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0
2025-10-04 20:06:38.198 +07:00 [INF] Request: POST /api/appointments
2025-10-04 20:06:38.712 +07:00 [INF] Vehicle conflict check (DYNAMIC): VehicleId=7, NewSlot=57, StartTime="2025-10-07T14:00:00.0000000", Duration=405min, Actual EndTime="2025-10-07T20:45:00.0000000"
2025-10-04 20:06:38.765 +07:00 [INF] Found 3 active appointments for vehicle 7 on "2025-10-07"
2025-10-04 20:06:38.779 +07:00 [WRN] Vehicle daily appointment LIMIT exceeded: VehicleId=7, Date="2025-10-07", Current: 3, Max: 3
2025-10-04 20:06:39.089 +07:00 [WRN] Invalid appointment creation attempt by customer 1014
System.InvalidOperationException: Xe này đã có 3 lịch hẹn trong ngày 07/10/2025. Hệ thống chỉ cho phép tối đa 3 lịch/ngày để đảm bảo chất lượng dịch vụ. Vui lòng chọn ngày khác hoặc liên hệ tổng đài 1900-xxxx.
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.ValidateVehicleTimeConflict(Int32 vehicleId, Int32 newSlotId, Int32 newEstimatedDuration, Nullable`1 excludeAppointmentId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 748
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.CreateAsync(CreateAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 85
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.CreateAppointment(CreateAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 70
2025-10-04 20:07:06.374 +07:00 [INF] Request: POST /api/appointments
2025-10-04 20:07:06.571 +07:00 [INF] Vehicle conflict check (DYNAMIC): VehicleId=7, NewSlot=70, StartTime="2025-10-08T17:00:00.0000000", Duration=405min, Actual EndTime="2025-10-08T23:45:00.0000000"
2025-10-04 20:07:06.605 +07:00 [INF] Found 0 active appointments for vehicle 7 on "2025-10-08"
2025-10-04 20:07:06.620 +07:00 [INF] Vehicle time conflict validation PASSED: VehicleId=7, Time=[17:00-23:45], Appointments in day: 0/3
2025-10-04 20:07:06.635 +07:00 [INF] No technician assigned, skip technician conflict check
2025-10-04 20:07:06.646 +07:00 [INF] Service center capacity check: CenterId=2, Time=[17:00-23:45], Duration=405min
2025-10-04 20:07:06.686 +07:00 [INF] Found 0 active appointments for service center 2 on "2025-10-08"
2025-10-04 20:07:06.697 +07:00 [INF] Service center capacity: 1/5 concurrent appointments during [17:00-23:45]
2025-10-04 20:07:06.706 +07:00 [INF] Service center capacity validation PASSED: CenterId=2, Time=[17:00-23:45], Concurrent=1/5
2025-10-04 20:07:06.925 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 20:07:07.029 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 20:07:07.222 +07:00 [INF] Customer 1014 created appointment APT202510047559
2025-10-04 20:07:30.815 +07:00 [INF] Request: POST /api/appointments
2025-10-04 20:07:30.875 +07:00 [INF] Vehicle conflict check (DYNAMIC): VehicleId=7, NewSlot=71, StartTime="2025-10-09T08:00:00.0000000", Duration=405min, Actual EndTime="2025-10-09T14:45:00.0000000"
2025-10-04 20:07:30.991 +07:00 [INF] Found 1 active appointments for vehicle 7 on "2025-10-09"
2025-10-04 20:07:31.007 +07:00 [WRN] Vehicle TIME OVERLAP detected: VehicleId=7, New: [08:00 - 14:45], Existing Appt #APT202510047771: [08:00 - 10:30]
2025-10-04 20:07:31.158 +07:00 [WRN] Invalid appointment creation attempt by customer 1014
System.InvalidOperationException: Xe này đã có lịch hẹn từ 08:00 đến 10:30 (Appointment #APT202510047771). Thời gian bạn chọn (08:00-14:45) bị xung đột. Vui lòng chọn khung giờ khác.
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.ValidateVehicleTimeConflict(Int32 vehicleId, Int32 newSlotId, Int32 newEstimatedDuration, Nullable`1 excludeAppointmentId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 730
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.CreateAsync(CreateAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 85
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.CreateAppointment(CreateAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 70
2025-10-04 20:08:02.908 +07:00 [INF] Request: POST /api/appointments
2025-10-04 20:08:02.973 +07:00 [INF] Vehicle conflict check (DYNAMIC): VehicleId=7, NewSlot=90, StartTime="2025-10-10T17:00:00.0000000", Duration=405min, Actual EndTime="2025-10-10T23:45:00.0000000"
2025-10-04 20:08:03.019 +07:00 [INF] Found 0 active appointments for vehicle 7 on "2025-10-10"
2025-10-04 20:08:03.031 +07:00 [INF] Vehicle time conflict validation PASSED: VehicleId=7, Time=[17:00-23:45], Appointments in day: 0/3
2025-10-04 20:08:03.042 +07:00 [INF] No technician assigned, skip technician conflict check
2025-10-04 20:08:03.050 +07:00 [INF] Service center capacity check: CenterId=2, Time=[17:00-23:45], Duration=405min
2025-10-04 20:08:03.069 +07:00 [INF] Found 0 active appointments for service center 2 on "2025-10-10"
2025-10-04 20:08:03.078 +07:00 [INF] Service center capacity: 1/5 concurrent appointments during [17:00-23:45]
2025-10-04 20:08:03.093 +07:00 [INF] Service center capacity validation PASSED: CenterId=2, Time=[17:00-23:45], Concurrent=1/5
2025-10-04 20:08:03.116 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 20:08:03.143 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 20:08:03.196 +07:00 [INF] Customer 1014 created appointment APT202510043793
2025-10-04 20:08:41.748 +07:00 [INF] Request: POST /api/appointments
2025-10-04 20:08:41.930 +07:00 [INF] Vehicle conflict check (DYNAMIC): VehicleId=7, NewSlot=91, StartTime="2025-10-11T08:00:00.0000000", Duration=405min, Actual EndTime="2025-10-11T14:45:00.0000000"
2025-10-04 20:08:41.950 +07:00 [INF] Found 0 active appointments for vehicle 7 on "2025-10-11"
2025-10-04 20:08:41.960 +07:00 [INF] Vehicle time conflict validation PASSED: VehicleId=7, Time=[08:00-14:45], Appointments in day: 0/3
2025-10-04 20:08:41.970 +07:00 [INF] No technician assigned, skip technician conflict check
2025-10-04 20:08:41.977 +07:00 [INF] Service center capacity check: CenterId=2, Time=[08:00-14:45], Duration=405min
2025-10-04 20:08:41.998 +07:00 [INF] Found 0 active appointments for service center 2 on "2025-10-11"
2025-10-04 20:08:42.007 +07:00 [INF] Service center capacity: 1/5 concurrent appointments during [08:00-14:45]
2025-10-04 20:08:42.018 +07:00 [INF] Service center capacity validation PASSED: CenterId=2, Time=[08:00-14:45], Concurrent=1/5
2025-10-04 20:08:42.038 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 20:08:42.068 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 20:08:42.169 +07:00 [INF] Customer 1014 created appointment APT202510043832
2025-10-04 20:08:49.959 +07:00 [INF] Request: POST /api/appointments
2025-10-04 20:08:50.015 +07:00 [INF] Vehicle conflict check (DYNAMIC): VehicleId=7, NewSlot=91, StartTime="2025-10-11T08:00:00.0000000", Duration=405min, Actual EndTime="2025-10-11T14:45:00.0000000"
2025-10-04 20:08:50.039 +07:00 [INF] Found 1 active appointments for vehicle 7 on "2025-10-11"
2025-10-04 20:08:50.051 +07:00 [WRN] Vehicle TIME OVERLAP detected: VehicleId=7, New: [08:00 - 14:45], Existing Appt #APT202510043832: [08:00 - 14:45]
2025-10-04 20:08:50.171 +07:00 [WRN] Invalid appointment creation attempt by customer 1014
System.InvalidOperationException: Xe này đã có lịch hẹn từ 08:00 đến 14:45 (Appointment #APT202510043832). Thời gian bạn chọn (08:00-14:45) bị xung đột. Vui lòng chọn khung giờ khác.
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.ValidateVehicleTimeConflict(Int32 vehicleId, Int32 newSlotId, Int32 newEstimatedDuration, Nullable`1 excludeAppointmentId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 730
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.CreateAsync(CreateAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 85
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.CreateAppointment(CreateAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 70
2025-10-04 20:09:10.362 +07:00 [INF] Request: POST /api/appointments
2025-10-04 20:09:10.381 +07:00 [INF] Vehicle conflict check (DYNAMIC): VehicleId=7, NewSlot=120, StartTime="2025-10-13T17:00:00.0000000", Duration=405min, Actual EndTime="2025-10-13T23:45:00.0000000"
2025-10-04 20:09:10.391 +07:00 [INF] Found 0 active appointments for vehicle 7 on "2025-10-13"
2025-10-04 20:09:10.400 +07:00 [INF] Vehicle time conflict validation PASSED: VehicleId=7, Time=[17:00-23:45], Appointments in day: 0/3
2025-10-04 20:09:10.410 +07:00 [INF] No technician assigned, skip technician conflict check
2025-10-04 20:09:10.416 +07:00 [INF] Service center capacity check: CenterId=2, Time=[17:00-23:45], Duration=405min
2025-10-04 20:09:10.432 +07:00 [INF] Found 0 active appointments for service center 2 on "2025-10-13"
2025-10-04 20:09:10.441 +07:00 [INF] Service center capacity: 1/5 concurrent appointments during [17:00-23:45]
2025-10-04 20:09:10.452 +07:00 [INF] Service center capacity validation PASSED: CenterId=2, Time=[17:00-23:45], Concurrent=1/5
2025-10-04 20:09:10.465 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 20:09:10.485 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 20:09:10.527 +07:00 [INF] Customer 1014 created appointment APT202510046728
2025-10-04 20:09:52.209 +07:00 [INF] Request: POST /api/appointments
2025-10-04 20:09:52.256 +07:00 [INF] Vehicle conflict check (DYNAMIC): VehicleId=7, NewSlot=121, StartTime="2025-10-14T08:00:00.0000000", Duration=405min, Actual EndTime="2025-10-14T14:45:00.0000000"
2025-10-04 20:09:52.273 +07:00 [INF] Found 0 active appointments for vehicle 7 on "2025-10-14"
2025-10-04 20:09:52.282 +07:00 [INF] Vehicle time conflict validation PASSED: VehicleId=7, Time=[08:00-14:45], Appointments in day: 0/3
2025-10-04 20:09:52.293 +07:00 [INF] No technician assigned, skip technician conflict check
2025-10-04 20:09:52.300 +07:00 [INF] Service center capacity check: CenterId=2, Time=[08:00-14:45], Duration=405min
2025-10-04 20:09:52.318 +07:00 [INF] Found 0 active appointments for service center 2 on "2025-10-14"
2025-10-04 20:09:52.325 +07:00 [INF] Service center capacity: 1/5 concurrent appointments during [08:00-14:45]
2025-10-04 20:09:52.334 +07:00 [INF] Service center capacity validation PASSED: CenterId=2, Time=[08:00-14:45], Concurrent=1/5
2025-10-04 20:09:52.348 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 20:09:52.367 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 20:09:52.414 +07:00 [INF] Customer 1014 created appointment APT202510044371
2025-10-04 20:13:24.785 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 20:13:24.955 +07:00 [WRN] Invalid password for user NghiaPham. Failed attempts: 1
2025-10-04 20:13:29.609 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 20:13:29.765 +07:00 [INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0
2025-10-04 20:13:29.893 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:13:29.989 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:13:33.669 +07:00 [INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập
2025-10-04 20:13:59.540 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:13:59.651 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:14:04.229 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:14:06.533 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:14:07.735 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:14:12.696 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:14:12.717 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:25:12.490 +07:00 [INF] Request: POST /api/appointments
2025-10-04 20:25:12.638 +07:00 [INF] Vehicle conflict check (DYNAMIC): VehicleId=7, NewSlot=122, StartTime="2025-10-14T09:00:00.0000000", Duration=405min, Actual EndTime="2025-10-14T15:45:00.0000000"
2025-10-04 20:25:12.662 +07:00 [INF] Found 1 active appointments for vehicle 7 on "2025-10-14"
2025-10-04 20:25:12.670 +07:00 [WRN] Vehicle TIME OVERLAP detected: VehicleId=7, New: [09:00 - 15:45], Existing Appt #APT202510044371: [08:00 - 14:45]
2025-10-04 20:25:12.789 +07:00 [WRN] Invalid appointment creation attempt by customer 1014
System.InvalidOperationException: Xe này đã có lịch hẹn từ 08:00 đến 14:45 (Appointment #APT202510044371). Thời gian bạn chọn (09:00-15:45) bị xung đột. Vui lòng chọn khung giờ khác.
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.ValidateVehicleTimeConflict(Int32 vehicleId, Int32 newSlotId, Int32 newEstimatedDuration, Nullable`1 excludeAppointmentId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 730
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.CreateAsync(CreateAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 85
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.CreateAppointment(CreateAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 70
2025-10-04 20:26:30.144 +07:00 [INF] Request: POST /api/appointments
2025-10-04 20:26:30.193 +07:00 [INF] Vehicle conflict check (DYNAMIC): VehicleId=7, NewSlot=127, StartTime="2025-10-14T14:00:00.0000000", Duration=405min, Actual EndTime="2025-10-14T20:45:00.0000000"
2025-10-04 20:26:30.215 +07:00 [INF] Found 1 active appointments for vehicle 7 on "2025-10-14"
2025-10-04 20:26:30.224 +07:00 [WRN] Vehicle TIME OVERLAP detected: VehicleId=7, New: [14:00 - 20:45], Existing Appt #APT202510044371: [08:00 - 14:45]
2025-10-04 20:26:30.363 +07:00 [WRN] Invalid appointment creation attempt by customer 1014
System.InvalidOperationException: Xe này đã có lịch hẹn từ 08:00 đến 14:45 (Appointment #APT202510044371). Thời gian bạn chọn (14:00-20:45) bị xung đột. Vui lòng chọn khung giờ khác.
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.ValidateVehicleTimeConflict(Int32 vehicleId, Int32 newSlotId, Int32 newEstimatedDuration, Nullable`1 excludeAppointmentId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 730
   at EVServiceCenter.Infrastructure.Domains.AppointmentManagement.Services.AppointmentCommandService.CreateAsync(CreateAppointmentRequestDto request, Int32 currentUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\AppointmentManagement\Services\AppointmentCommandService.cs:line 85
   at EVServiceCenter.API.Controllers.Appointments.AppointmentController.CreateAppointment(CreateAppointmentRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Appointments\AppointmentController.cs:line 70
2025-10-04 20:27:00.094 +07:00 [INF] Request: POST /api/appointments
2025-10-04 20:27:00.159 +07:00 [INF] Vehicle conflict check (DYNAMIC): VehicleId=7, NewSlot=128, StartTime="2025-10-14T15:00:00.0000000", Duration=405min, Actual EndTime="2025-10-14T21:45:00.0000000"
2025-10-04 20:27:00.179 +07:00 [INF] Found 1 active appointments for vehicle 7 on "2025-10-14"
2025-10-04 20:27:00.187 +07:00 [INF] Vehicle time conflict validation PASSED: VehicleId=7, Time=[15:00-21:45], Appointments in day: 1/3
2025-10-04 20:27:00.196 +07:00 [INF] No technician assigned, skip technician conflict check
2025-10-04 20:27:00.203 +07:00 [INF] Service center capacity check: CenterId=2, Time=[15:00-21:45], Duration=405min
2025-10-04 20:27:00.220 +07:00 [INF] Found 1 active appointments for service center 2 on "2025-10-14"
2025-10-04 20:27:00.228 +07:00 [INF] Service center capacity: 1/5 concurrent appointments during [15:00-21:45]
2025-10-04 20:27:00.242 +07:00 [INF] Service center capacity validation PASSED: CenterId=2, Time=[15:00-21:45], Concurrent=1/5
2025-10-04 20:27:00.259 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 20:27:00.282 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 20:27:00.327 +07:00 [INF] Customer 1014 created appointment APT202510044264
2025-10-04 20:29:48.826 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:29:48.863 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:34:27.469 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:34:27.469 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 20:34:27.469 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:34:27.483 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 20:34:27.483 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 20:34:27.577 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:34:27.663 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 20:34:27.737 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 20:34:27.741 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:34:27.781 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 20:34:43.381 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 20:34:43.381 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:34:43.381 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 20:34:43.381 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:34:43.381 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 20:35:00.388 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:35:00.388 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 20:35:00.388 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:35:00.388 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 20:35:00.388 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 20:35:11.376 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:35:11.376 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 20:35:11.377 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:35:11.378 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 20:35:11.378 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 20:35:31.391 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 20:35:31.391 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:35:31.391 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:35:31.391 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 20:35:31.391 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 20:36:13.436 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 20:36:13.439 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:36:13.443 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:36:13.460 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 20:36:13.460 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 20:36:36.417 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:36:36.449 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:36:36.448 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 20:36:36.449 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 20:36:36.455 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 20:36:36.543 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:36:36.563 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 20:36:36.583 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:37:54.519 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 20:37:54.520 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:37:54.519 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:37:54.519 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 20:37:54.526 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 20:37:54.615 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:37:54.643 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 20:37:54.657 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:38:06.486 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 20:38:06.505 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 20:40:26.726 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:40:26.743 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:40:46.143 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:40:48.803 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:40:52.354 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:40:54.979 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:40:58.142 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:41:01.568 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:41:02.541 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:41:03.365 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:41:11.713 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 20:41:11.713 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 20:41:11.713 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:41:11.713 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:41:11.744 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 20:41:11.839 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:41:11.840 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:41:11.845 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 20:41:35.494 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 20:41:35.526 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 20:41:35.494 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:41:35.526 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:41:35.526 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 20:41:35.567 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:41:35.571 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:41:35.575 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 20:41:35.589 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 20:41:35.599 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 20:42:19.608 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:42:19.628 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:42:36.978 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 20:42:36.985 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:42:36.985 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 20:42:36.986 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 20:42:36.993 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:42:37.137 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:42:37.143 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 20:42:37.162 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:42:37.183 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 20:42:37.189 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 20:43:52.478 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 20:43:52.486 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 20:43:52.485 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:43:52.485 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:43:52.492 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 20:43:52.630 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:43:52.646 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 20:43:52.664 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 20:43:52.667 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:43:52.710 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 20:47:08.537 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:47:08.562 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:48:20.401 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:48:20.425 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:49:41.165 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:49:41.188 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:51:15.914 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:51:16.724 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:51:17.460 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:51:18.361 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:51:18.882 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:51:19.370 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:51:19.872 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:51:21.008 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:51:28.051 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:51:28.075 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:51:31.530 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:51:31.546 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:51:43.833 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:51:46.631 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:51:47.991 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:51:51.543 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:51:53.097 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:51:56.333 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:52:02.805 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:52:05.544 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 20:52:10.320 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 20:52:10.325 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:52:10.351 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:52:10.351 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 20:52:10.351 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 20:52:10.489 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:52:10.489 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:52:10.545 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 20:52:10.548 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 20:52:10.550 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 20:55:24.466 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 20:55:24.466 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:55:24.466 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 20:55:24.472 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 20:55:24.477 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 20:56:11.689 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 20:56:11.689 +07:00 [INF] Request: GET /api/customers
2025-10-04 20:56:11.730 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 20:56:11.730 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:56:11.845 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 20:56:11.853 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 20:56:11.878 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 20:56:11.920 +07:00 [INF] Request: GET /api/customers
2025-10-04 20:56:35.891 +07:00 [INF] Request: GET /api/customers
2025-10-04 20:56:39.617 +07:00 [INF] Request: GET /api/customers
2025-10-04 20:56:41.813 +07:00 [INF] Request: GET /api/customers
2025-10-04 20:56:46.738 +07:00 [INF] Request: GET /api/customers
2025-10-04 20:56:49.836 +07:00 [INF] Request: GET /api/customers
2025-10-04 20:56:52.357 +07:00 [INF] Request: GET /api/customers
2025-10-04 20:56:55.299 +07:00 [INF] Request: GET /api/customers
2025-10-04 20:56:59.117 +07:00 [INF] Request: GET /api/customers
2025-10-04 20:57:04.431 +07:00 [INF] Request: GET /api/customers
2025-10-04 20:57:19.488 +07:00 [INF] Request: GET /api/customers
2025-10-04 20:57:19.790 +07:00 [INF] Request: GET /api/customers
2025-10-04 20:57:19.912 +07:00 [INF] Request: GET /api/customers
2025-10-04 20:57:20.023 +07:00 [INF] Request: GET /api/customers
2025-10-04 20:57:20.249 +07:00 [INF] Request: GET /api/customers
2025-10-04 20:57:20.252 +07:00 [INF] Request: GET /api/customers
2025-10-04 20:57:20.333 +07:00 [INF] Request: GET /api/customers
2025-10-04 20:57:20.322 +07:00 [INF] Request: GET /api/customers
2025-10-04 20:57:20.337 +07:00 [INF] Request: GET /api/customers
2025-10-04 20:57:20.253 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:00:53.132 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:00:53.157 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:01:02.228 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:01:02.228 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:01:02.228 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:01:02.228 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:01:02.263 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:01:02.266 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:01:02.300 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:01:02.310 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:01:06.607 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:01:09.110 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:01:38.129 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:02:28.817 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:02:28.841 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:02:29.623 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:02:29.623 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:02:29.623 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:02:29.626 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:02:29.660 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:02:29.660 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:02:29.686 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:02:29.695 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:02:34.993 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:02:35.009 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:02:44.718 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:02:44.732 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:02:45.232 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:02:45.232 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:02:45.232 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:02:45.232 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:02:45.263 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:02:45.265 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:02:45.271 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:02:45.274 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:02:45.546 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:02:45.549 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:02:45.550 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 21:02:45.550 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 21:02:45.550 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 21:02:45.587 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:02:45.592 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 21:02:45.592 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:02:45.598 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 21:02:45.642 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 21:05:02.912 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:05:02.936 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:05:03.558 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:05:03.558 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:05:03.558 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:05:03.558 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:05:03.639 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:05:03.688 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:05:03.713 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:05:03.719 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:05:05.501 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:05:05.519 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:05:10.366 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:05:11.656 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:05:12.499 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:05:13.546 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:06:51.080 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:06:51.080 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 21:06:51.080 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:06:51.092 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 21:06:51.099 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 21:06:51.184 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 21:06:51.192 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:06:51.200 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 21:06:51.224 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:06:51.244 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 21:06:55.403 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:06:55.403 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:06:55.404 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:06:55.404 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:06:55.433 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:06:55.436 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:06:55.439 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:06:55.457 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:09:22.320 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:09:22.351 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:10:54.696 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:10:55.142 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:10:57.568 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:10:57.592 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:10:59.848 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:10:59.848 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:10:59.848 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:10:59.848 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:10:59.879 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:10:59.879 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:10:59.903 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:10:59.910 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:11:10.926 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:11:11.640 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:11:17.211 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:11:18.040 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:11:21.177 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:11:25.071 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:11:25.085 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:12:57.046 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:12:59.411 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:13:00.175 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:13:17.695 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:13:24.709 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:13:25.318 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:13:32.396 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:13:32.396 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:13:32.396 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:13:32.396 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:13:32.447 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:13:32.447 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:13:32.449 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:13:32.453 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:14:17.513 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 21:14:17.514 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:14:17.513 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:14:17.523 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 21:14:17.529 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 21:14:17.578 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 21:14:17.581 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:14:17.582 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:14:17.598 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 21:14:17.585 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 21:14:19.339 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:14:19.372 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:14:20.460 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 21:14:20.460 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:14:20.460 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:14:20.461 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 21:14:20.460 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 21:14:20.503 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 21:14:20.504 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:14:20.506 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:14:20.510 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 21:14:20.536 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 21:15:11.620 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 21:15:11.642 +07:00 [WRN] Login failed: Username nghidaucau1@gmai.com not found
2025-10-04 21:15:21.430 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 21:15:21.454 +07:00 [WRN] Login failed: Username nghidaucau1@gmail.com not found
2025-10-04 21:15:30.194 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 21:15:30.206 +07:00 [WRN] Login failed: Username nghidaucau1@gmail.com not found
2025-10-04 21:15:34.394 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 21:15:34.405 +07:00 [WRN] Login failed: Username nghidaucau1@gmail.com not found
2025-10-04 21:15:43.786 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 21:15:43.796 +07:00 [WRN] Login failed: Username nghidaucau1@gmail.com not found
2025-10-04 21:16:22.596 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 21:16:22.897 +07:00 [INF] User nghiadaucau1@gmail.com (ID: 2067, Role: "Customer") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0
2025-10-04 21:18:20.913 +07:00 [INF] Request: POST /api/User/forgot-password
2025-10-04 21:19:16.136 +07:00 [INF] Request: POST /api/auth/login
2025-10-04 21:19:16.303 +07:00 [INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0
2025-10-04 21:19:16.402 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 21:19:16.402 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 21:19:16.402 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 21:19:16.402 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:19:16.448 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:19:16.470 +07:00 [INF] Request: GET /api/appointment-management/statistics/by-status
2025-10-04 21:19:16.489 +07:00 [INF] Request: GET /api/customer-vehicles/statistics
2025-10-04 21:19:16.504 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:19:16.534 +07:00 [INF] Request: GET /api/appointment-management
2025-10-04 21:19:16.555 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:19:20.865 +07:00 [INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập
2025-10-04 21:19:24.541 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:19:24.541 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:19:24.541 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:19:24.541 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:19:24.556 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:19:24.566 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:19:24.577 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:19:24.596 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:20:27.602 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:20:27.629 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:20:31.700 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:20:32.567 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:20:33.273 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:20:37.039 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:20:37.039 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:20:37.039 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:20:37.039 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:20:37.095 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:20:37.113 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:20:37.124 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:20:37.136 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:22:01.306 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:22:01.330 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:23:11.415 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:23:15.357 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:24:29.924 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:24:29.924 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:24:29.924 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:24:29.929 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:24:30.048 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:24:30.057 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:24:30.068 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:24:30.088 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:24:48.355 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:24:48.355 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:24:48.356 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:24:48.356 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:25:03.618 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:25:03.619 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:25:03.619 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:25:03.619 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:25:03.645 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:25:03.650 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:25:03.652 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:25:03.654 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:25:36.404 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:25:36.405 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:25:36.438 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:25:36.439 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:25:44.362 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:25:44.363 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:25:44.363 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:25:44.362 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:29:39.398 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:29:39.398 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:29:39.398 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:29:39.403 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:30:24.392 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:30:24.392 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:30:24.393 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:30:24.409 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:30:28.793 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:30:28.794 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:30:28.794 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:30:28.794 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:30:28.851 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:30:28.853 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:30:28.868 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:30:28.870 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:30:31.899 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:30:31.921 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:32:52.503 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:32:53.279 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:32:53.781 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:32:54.254 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:32:54.655 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:32:55.037 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:32:57.897 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:32:58.336 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:32:58.799 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:32:59.236 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:32:59.620 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:33:00.146 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:33:00.483 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:33:00.995 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:33:01.362 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:33:01.815 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:33:02.172 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:35:43.957 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:35:44.576 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:35:45.044 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:35:45.371 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:35:45.842 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:35:46.152 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:38:02.526 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:38:02.526 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:38:02.526 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:38:02.534 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:38:02.636 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:38:02.664 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:38:02.670 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:38:02.682 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:38:49.377 +07:00 [INF] Request: PUT /api/customers/1014
2025-10-04 21:38:56.325 +07:00 [INF] Request: PUT /api/customers/1014
2025-10-04 21:39:15.552 +07:00 [INF] Request: PUT /api/customers/1014
2025-10-04 21:39:15.760 +07:00 [INF] Request: PUT /api/customers/1014
2025-10-04 21:39:16.388 +07:00 [INF] Request: PUT /api/customers/1014
2025-10-04 21:39:32.591 +07:00 [INF] Request: PUT /api/customers/1014
2025-10-04 21:40:43.673 +07:00 [INF] Request: PUT /api/customers/1014
2025-10-04 21:41:17.020 +07:00 [INF] Request: POST /api/customers
2025-10-04 21:41:17.235 +07:00 [ERR] Error creating customer: NghiaPham
System.InvalidOperationException: Số điện thoại '0848022439' đã được sử dụng
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.CreateAsync(CreateCustomerRequestDto request, Nullable`1 userId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 740
2025-10-04 21:41:17.342 +07:00 [ERR] Error creating walk-in customer: NghiaPham
System.InvalidOperationException: Số điện thoại '0848022439' đã được sử dụng
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.CreateAsync(CreateCustomerRequestDto request, Nullable`1 userId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 740
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.CreateAsync(CreateCustomerRequestDto request, Nullable`1 userId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 785
   at EVServiceCenter.Infrastructure.Domains.Customers.Services.CustomerService.CreateWalkInCustomerAsync(CreateWalkInCustomerDto request, Int32 createdByUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Services\CustomerService.cs:line 319
2025-10-04 21:41:22.540 +07:00 [INF] Request: POST /api/customers
2025-10-04 21:41:22.584 +07:00 [ERR] Error creating customer: NghiaPham
System.InvalidOperationException: Email 'nghiadaucau1@gmail.com' đã được sử dụng
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.CreateAsync(CreateCustomerRequestDto request, Nullable`1 userId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 745
2025-10-04 21:41:22.650 +07:00 [ERR] Error creating walk-in customer: NghiaPham
System.InvalidOperationException: Email 'nghiadaucau1@gmail.com' đã được sử dụng
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.CreateAsync(CreateCustomerRequestDto request, Nullable`1 userId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 745
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.CreateAsync(CreateCustomerRequestDto request, Nullable`1 userId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 785
   at EVServiceCenter.Infrastructure.Domains.Customers.Services.CustomerService.CreateWalkInCustomerAsync(CreateWalkInCustomerDto request, Int32 createdByUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Services\CustomerService.cs:line 319
2025-10-04 21:41:27.988 +07:00 [INF] Request: POST /api/customers
2025-10-04 21:41:28.091 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 21:41:28.135 +07:00 [INF] Created customer: KH2510005 - NghiaPham
2025-10-04 21:41:28.160 +07:00 [INF] Walk-in customer created: KH2510005 - NghiaPham by user 8
2025-10-04 21:41:28.169 +07:00 [INF] Walk-in customer created by user 8: KH2510005 - NghiaPham
2025-10-04 21:41:28.183 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:41:28.208 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:41:28.227 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:41:44.777 +07:00 [INF] Request: PUT /api/customers/1015
2025-10-04 21:41:50.575 +07:00 [INF] Request: PUT /api/customers/1015
2025-10-04 21:42:36.531 +07:00 [INF] Request: POST /api/customers
2025-10-04 21:42:36.581 +07:00 [ERR] Error creating customer: Quế
System.InvalidOperationException: Số điện thoại '0848022438' đã được sử dụng
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.CreateAsync(CreateCustomerRequestDto request, Nullable`1 userId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 740
2025-10-04 21:42:36.646 +07:00 [ERR] Error creating walk-in customer: Quế
System.InvalidOperationException: Số điện thoại '0848022438' đã được sử dụng
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.CreateAsync(CreateCustomerRequestDto request, Nullable`1 userId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 740
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.CreateAsync(CreateCustomerRequestDto request, Nullable`1 userId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 785
   at EVServiceCenter.Infrastructure.Domains.Customers.Services.CustomerService.CreateWalkInCustomerAsync(CreateWalkInCustomerDto request, Int32 createdByUserId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Services\CustomerService.cs:line 319
2025-10-04 21:42:45.920 +07:00 [INF] Request: POST /api/customers
2025-10-04 21:42:45.940 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 21:42:45.956 +07:00 [INF] Created customer: KH2510006 - Quế
2025-10-04 21:42:45.969 +07:00 [INF] Walk-in customer created: KH2510006 - Quế by user 8
2025-10-04 21:42:45.975 +07:00 [INF] Walk-in customer created by user 8: KH2510006 - Quế
2025-10-04 21:42:45.987 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:42:46.009 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:42:46.033 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:43:29.457 +07:00 [INF] Request: PUT /api/customers/1016
2025-10-04 21:44:06.091 +07:00 [INF] Request: PUT /api/customers/1011
2025-10-04 21:44:06.141 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 21:44:06.156 +07:00 [INF] Updated customer: KH2509003 - Nguyễn Văn A
2025-10-04 21:44:06.169 +07:00 [INF] Successfully updated customer: KH2509003 - Nguyễn Văn A
2025-10-04 21:44:06.175 +07:00 [INF] Customer updated successfully by user 8: KH2509003 - Nguyễn Văn A
2025-10-04 21:44:06.190 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:44:06.216 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:44:06.238 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:44:13.634 +07:00 [INF] Request: PUT /api/customers/1016
2025-10-04 21:44:17.272 +07:00 [INF] Request: PUT /api/customers/1016
2025-10-04 21:44:17.863 +07:00 [INF] Request: PUT /api/customers/1016
2025-10-04 21:44:20.188 +07:00 [INF] Request: PUT /api/customers/1016
2025-10-04 21:44:24.391 +07:00 [INF] Request: PUT /api/customers/1016
2025-10-04 21:44:26.231 +07:00 [INF] Request: PUT /api/customers/1016
2025-10-04 21:44:27.759 +07:00 [INF] Request: PUT /api/customers/1016
2025-10-04 21:44:29.175 +07:00 [INF] Request: PUT /api/customers/1016
2025-10-04 21:44:32.084 +07:00 [INF] Request: PUT /api/customers/1016
2025-10-04 21:45:07.925 +07:00 [INF] Request: DELETE /api/customers/1016
2025-10-04 21:45:07.971 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 21:45:08.020 +07:00 [INF] Deleted customer: KH2510006 - Quế
2025-10-04 21:45:08.029 +07:00 [INF] Successfully deleted customer: 1016
2025-10-04 21:45:08.036 +07:00 [INF] Customer deleted successfully by user 8: 1016
2025-10-04 21:45:08.044 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:45:08.069 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:45:08.086 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:45:25.512 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:45:25.538 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 21:45:53.072 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:45:53.072 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:45:53.072 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:45:53.079 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:45:53.174 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 21:45:53.232 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:45:53.234 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:45:53.240 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:45:56.030 +07:00 [INF] Request: PUT /api/customers/1005
2025-10-04 21:45:56.048 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 21:45:56.062 +07:00 [INF] Updated customer: CUS000001 - Nguyễn Thị B
2025-10-04 21:45:56.074 +07:00 [INF] Successfully updated customer: CUS000001 - Nguyễn Thị B
2025-10-04 21:45:56.080 +07:00 [INF] Customer updated successfully by user 8: CUS000001 - Nguyễn Thị B
2025-10-04 21:45:56.088 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:45:56.101 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:45:56.114 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:45:59.541 +07:00 [INF] Request: PUT /api/customers/2
2025-10-04 21:45:59.555 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 21:45:59.563 +07:00 [INF] Updated customer: KH2509001 - Nguyễn Văn An
2025-10-04 21:45:59.572 +07:00 [INF] Successfully updated customer: KH2509001 - Nguyễn Văn An
2025-10-04 21:45:59.578 +07:00 [INF] Customer updated successfully by user 8: KH2509001 - Nguyễn Văn An
2025-10-04 21:45:59.587 +07:00 [INF] Request: GET /api/customers
2025-10-04 21:45:59.604 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 21:45:59.619 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 21:46:07.305 +07:00 [INF] Request: PUT /api/customers/2
2025-10-04 21:46:07.395 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 21:46:07.441 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'EVServiceCenter.Core.Entities.EVDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'EVServiceCenterV2.dbo.Customers', column 'IdentityNumber'. Truncated value: ''.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:95fbbf33-c461-4bba-8946-76b7f7b56485
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'EVServiceCenterV2.dbo.Customers', column 'IdentityNumber'. Truncated value: ''.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:95fbbf33-c461-4bba-8946-76b7f7b56485
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-10-04 21:46:07.567 +07:00 [ERR] Error updating customer: 2
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'EVServiceCenterV2.dbo.Customers', column 'IdentityNumber'. Truncated value: ''.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:95fbbf33-c461-4bba-8946-76b7f7b56485
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.UpdateAsync(UpdateCustomerRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 455
2025-10-04 21:46:07.706 +07:00 [ERR] Error in service layer updating customer: 2
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'EVServiceCenterV2.dbo.Customers', column 'IdentityNumber'. Truncated value: ''.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:95fbbf33-c461-4bba-8946-76b7f7b56485
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.UpdateAsync(UpdateCustomerRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 455
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.UpdateAsync(UpdateCustomerRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 467
   at EVServiceCenter.Infrastructure.Domains.Customers.Services.CustomerService.UpdateAsync(UpdateCustomerRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Services\CustomerService.cs:line 124
2025-10-04 21:46:07.830 +07:00 [ERR] Error updating customer: 2
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'EVServiceCenterV2.dbo.Customers', column 'IdentityNumber'. Truncated value: ''.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:95fbbf33-c461-4bba-8946-76b7f7b56485
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.UpdateAsync(UpdateCustomerRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 455
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.UpdateAsync(UpdateCustomerRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 467
   at EVServiceCenter.Infrastructure.Domains.Customers.Services.CustomerService.UpdateAsync(UpdateCustomerRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Services\CustomerService.cs:line 124
   at EVServiceCenter.API.Controllers.Customers.CustomersController.UpdateCustomer(Int32 id, UpdateCustomerRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Customers\CustomersController.cs:line 478
2025-10-04 21:47:46.754 +07:00 [INF] Request: PUT /api/customers/2
2025-10-04 21:48:16.784 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 21:48:16.798 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'EVServiceCenter.Core.Entities.EVDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'EVServiceCenterV2.dbo.Customers', column 'IdentityNumber'. Truncated value: ''.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:95fbbf33-c461-4bba-8946-76b7f7b56485
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'EVServiceCenterV2.dbo.Customers', column 'IdentityNumber'. Truncated value: ''.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:95fbbf33-c461-4bba-8946-76b7f7b56485
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-10-04 21:48:16.881 +07:00 [ERR] Error updating customer: 2
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'EVServiceCenterV2.dbo.Customers', column 'IdentityNumber'. Truncated value: ''.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:95fbbf33-c461-4bba-8946-76b7f7b56485
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.UpdateAsync(UpdateCustomerRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 455
2025-10-04 21:48:16.970 +07:00 [ERR] Error in service layer updating customer: 2
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'EVServiceCenterV2.dbo.Customers', column 'IdentityNumber'. Truncated value: ''.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:95fbbf33-c461-4bba-8946-76b7f7b56485
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.UpdateAsync(UpdateCustomerRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 455
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.UpdateAsync(UpdateCustomerRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 467
   at EVServiceCenter.Infrastructure.Domains.Customers.Services.CustomerService.UpdateAsync(UpdateCustomerRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Services\CustomerService.cs:line 124
2025-10-04 21:48:23.901 +07:00 [ERR] Error updating customer: 2
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'EVServiceCenterV2.dbo.Customers', column 'IdentityNumber'. Truncated value: ''.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:95fbbf33-c461-4bba-8946-76b7f7b56485
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.UpdateAsync(UpdateCustomerRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 455
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.UpdateAsync(UpdateCustomerRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 467
   at EVServiceCenter.Infrastructure.Domains.Customers.Services.CustomerService.UpdateAsync(UpdateCustomerRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Services\CustomerService.cs:line 124
   at EVServiceCenter.API.Controllers.Customers.CustomersController.UpdateCustomer(Int32 id, UpdateCustomerRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Customers\CustomersController.cs:line 478
2025-10-04 21:49:22.290 +07:00 [INF] Request: PUT /api/customers/2
2025-10-04 21:49:26.185 +07:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-10-04 21:49:26.203 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'EVServiceCenter.Core.Entities.EVDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'EVServiceCenterV2.dbo.Customers', column 'IdentityNumber'. Truncated value: ''.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:95fbbf33-c461-4bba-8946-76b7f7b56485
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'EVServiceCenterV2.dbo.Customers', column 'IdentityNumber'. Truncated value: ''.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:95fbbf33-c461-4bba-8946-76b7f7b56485
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-10-04 21:49:26.262 +07:00 [ERR] Error updating customer: 2
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'EVServiceCenterV2.dbo.Customers', column 'IdentityNumber'. Truncated value: ''.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:95fbbf33-c461-4bba-8946-76b7f7b56485
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.UpdateAsync(UpdateCustomerRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 455
2025-10-04 21:49:26.346 +07:00 [ERR] Error in service layer updating customer: 2
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'EVServiceCenterV2.dbo.Customers', column 'IdentityNumber'. Truncated value: ''.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:95fbbf33-c461-4bba-8946-76b7f7b56485
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.UpdateAsync(UpdateCustomerRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 455
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.UpdateAsync(UpdateCustomerRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 467
   at EVServiceCenter.Infrastructure.Domains.Customers.Services.CustomerService.UpdateAsync(UpdateCustomerRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Services\CustomerService.cs:line 124
2025-10-04 21:49:34.615 +07:00 [ERR] Error updating customer: 2
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'EVServiceCenterV2.dbo.Customers', column 'IdentityNumber'. Truncated value: ''.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:95fbbf33-c461-4bba-8946-76b7f7b56485
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.UpdateAsync(UpdateCustomerRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 455
   at EVServiceCenter.Infrastructure.Domains.Customers.Repositories.CustomerRepository.UpdateAsync(UpdateCustomerRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Repositories\CustomerRepository.cs:line 467
   at EVServiceCenter.Infrastructure.Domains.Customers.Services.CustomerService.UpdateAsync(UpdateCustomerRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\Customers\Services\CustomerService.cs:line 124
   at EVServiceCenter.API.Controllers.Customers.CustomersController.UpdateCustomer(Int32 id, UpdateCustomerRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Customers\CustomersController.cs:line 478
2025-10-04 21:53:03.084 +07:00 [INF] Request: PUT /api/customers/1015
2025-10-04 21:53:24.451 +07:00 [INF] Request: PUT /api/customers/1014
2025-10-04 21:53:36.938 +07:00 [INF] Request: PUT /api/customers/1015
2025-10-04 22:05:49.060 +07:00 [INF] Request: GET /api/customers
2025-10-04 22:05:49.060 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 22:05:49.060 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 22:05:49.060 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 22:05:49.349 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 22:05:49.349 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 22:05:49.375 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 22:05:49.377 +07:00 [INF] Request: GET /api/customers
2025-10-04 22:05:51.605 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 22:05:51.605 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 22:05:51.605 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 22:05:51.605 +07:00 [INF] Request: GET /api/customers
2025-10-04 22:05:51.630 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 22:05:51.632 +07:00 [INF] Request: GET /api/customers
2025-10-04 22:05:51.633 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 22:05:51.636 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 22:06:04.904 +07:00 [INF] Request: PUT /api/customers/1015
2025-10-04 22:06:07.807 +07:00 [INF] Request: PUT /api/customers/1015
2025-10-04 22:06:08.579 +07:00 [INF] Request: PUT /api/customers/1015
2025-10-04 22:06:08.749 +07:00 [INF] Request: PUT /api/customers/1015
2025-10-04 22:06:08.926 +07:00 [INF] Request: PUT /api/customers/1015
2025-10-04 22:06:15.269 +07:00 [INF] Request: PUT /api/customers/1015
2025-10-04 22:08:27.230 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 22:08:27.268 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 22:08:27.617 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 22:08:27.617 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 22:08:27.617 +07:00 [INF] Request: GET /api/customers
2025-10-04 22:08:27.617 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 22:08:27.712 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 22:08:27.743 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 22:08:27.743 +07:00 [INF] Request: GET /api/customers
2025-10-04 22:08:27.745 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 22:08:27.956 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 22:08:27.969 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 22:08:28.402 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 22:08:28.402 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 22:08:28.402 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 22:08:28.402 +07:00 [INF] Request: GET /api/customers
2025-10-04 22:08:28.433 +07:00 [INF] Request: GET /api/customers/statistics
2025-10-04 22:08:28.437 +07:00 [INF] Request: GET /api/customer-types/active
2025-10-04 22:08:28.443 +07:00 [INF] Request: GET /api/customers/maintenance-due
2025-10-04 22:08:28.456 +07:00 [INF] Request: GET /api/customers
2025-10-04 22:08:28.746 +07:00 [INF] Request: GET /api/customer-vehicles
2025-10-04 22:08:28.756 +07:00 [INF] Request: GET /api/customer-vehicles
