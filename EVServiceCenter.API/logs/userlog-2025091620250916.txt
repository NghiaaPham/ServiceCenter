2025-09-16 00:12:48.744 +07:00 [INF] Now listening on: https://localhost:7077
2025-09-16 00:12:48.830 +07:00 [INF] Now listening on: http://localhost:5153
2025-09-16 00:12:48.891 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-16 00:12:49.109 +07:00 [INF] Hosting environment: Development
2025-09-16 00:12:49.178 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API
2025-09-16 00:12:49.447 +07:00 [INF] Request: GET /
2025-09-16 00:13:44.384 +07:00 [INF] Request: POST /api/User/register
2025-09-16 00:14:04.665 +07:00 [INF] Request: POST /api/User/register
2025-09-16 00:14:12.970 +07:00 [INF] Email sent successfully to nghiapnse181815@fpt.edu.vn with subject: Xác thực tài khoản EV Service Center
2025-09-16 00:14:13.006 +07:00 [INF] User registered: nghia, verification email sent
2025-09-16 00:17:43.951 +07:00 [INF] Now listening on: https://localhost:7077
2025-09-16 00:17:44.010 +07:00 [INF] Now listening on: http://localhost:5153
2025-09-16 00:17:44.078 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-16 00:17:44.146 +07:00 [INF] Hosting environment: Development
2025-09-16 00:17:44.165 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API
2025-09-16 00:17:44.577 +07:00 [INF] Request: GET /
2025-09-16 00:18:23.485 +07:00 [INF] Request: POST /api/User/register
2025-09-16 00:18:55.214 +07:00 [INF] Request: POST /api/User/login
2025-09-16 00:18:56.467 +07:00 [INF] User logged in: NghiaPham
2025-09-16 00:20:10.060 +07:00 [INF] Request: DELETE /api/User/13
2025-09-16 00:20:42.651 +07:00 [ERR] Failed executing DbCommand (32,103ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedBy], [u].[CreatedDate], [u].[Department], [u].[Email], [u].[EmailVerificationExpiry], [u].[EmailVerificationToken], [u].[EmailVerified], [u].[EmployeeCode], [u].[FailedLoginAttempts], [u].[FullName], [u].[HireDate], [u].[IsActive], [u].[LastLoginDate], [u].[PasswordExpiryDate], [u].[PasswordHash], [u].[PasswordSalt], [u].[PhoneNumber], [u].[ProfilePicture], [u].[ResetToken], [u].[ResetTokenExpiry], [u].[RoleID], [u].[Salary], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__p_0
2025-09-16 00:20:42.863 +07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'EVServiceCenter.Core.Entities.EVDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:a93a503d-896c-4daf-b9be-84c4820c1b45
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:a93a503d-896c-4daf-b9be-84c4820c1b45
Error Number:-2,State:0,Class:11
2025-09-16 00:21:04.527 +07:00 [INF] Request: GET /api/user/4
2025-09-16 00:21:19.680 +07:00 [INF] Request: GET /api/user/8
2025-09-16 00:21:31.057 +07:00 [INF] Request: DELETE /api/User/13
2025-09-16 00:21:33.310 +07:00 [INF] User deleted: 13
2025-09-16 00:21:50.120 +07:00 [INF] Request: DELETE /api/User/14
2025-09-16 00:22:02.934 +07:00 [INF] User deleted: 14
2025-09-16 00:22:29.404 +07:00 [INF] Request: DELETE /api/User/16
2025-09-16 00:22:43.412 +07:00 [INF] User deleted: 16
2025-09-16 00:23:03.022 +07:00 [INF] Request: DELETE /api/User/15
2025-09-16 00:23:03.178 +07:00 [INF] User deleted: 15
2025-09-16 00:23:32.102 +07:00 [INF] Request: POST /api/User/register
2025-09-16 00:23:37.303 +07:00 [INF] Email sent successfully to nghiadaucau1@gmail.com with subject: Xác thực tài khoản EV Service Center
2025-09-16 00:23:37.363 +07:00 [INF] User registered: Phamss, verification email sent
2025-09-16 00:26:45.010 +07:00 [INF] Now listening on: https://localhost:7077
2025-09-16 00:26:45.148 +07:00 [INF] Now listening on: http://localhost:5153
2025-09-16 00:26:45.227 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-16 00:26:45.245 +07:00 [INF] Hosting environment: Development
2025-09-16 00:26:45.254 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API
2025-09-16 00:26:45.649 +07:00 [INF] Request: GET /
2025-09-16 00:27:18.079 +07:00 [INF] Request: POST /api/User/forgot-password
2025-09-16 00:27:28.817 +07:00 [INF] Email sent successfully to nghiadaucau1@gmail.com with subject: Đặt lại mật khẩu EV Service Center
2025-09-16 00:27:28.827 +07:00 [INF] Password reset token generated for user: nghiadaucau1@gmail.com
2025-09-16 00:27:39.015 +07:00 [INF] Request: GET /api/User/reset-password
2025-09-16 00:27:39.102 +07:00 [INF] Processing password reset for nghiadaucau1@gmail.com
2025-09-16 00:27:40.426 +07:00 [INF] Request: GET /favicon.ico
2025-09-16 00:27:53.420 +07:00 [INF] Request: POST /api/User/reset-password-submit
2025-09-16 00:27:54.074 +07:00 [INF] Password reset successful for user: nghiadaucau1@gmail.com
2025-09-16 00:29:03.669 +07:00 [INF] Request: POST /api/User/login
2025-09-16 00:29:04.155 +07:00 [INF] User logged in: Phamss
2025-09-16 11:01:59.672 +07:00 [INF] Now listening on: https://localhost:7077
2025-09-16 11:01:59.735 +07:00 [INF] Now listening on: http://localhost:5153
2025-09-16 11:01:59.967 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-16 11:02:00.088 +07:00 [INF] Hosting environment: Development
2025-09-16 11:02:00.090 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API
2025-09-16 11:02:00.722 +07:00 [INF] Request: GET /
2025-09-16 11:02:39.876 +07:00 [INF] Request: POST /api/User/login
2025-09-16 11:02:48.942 +07:00 [INF] User logged in: NghiaPham
2025-09-16 11:03:49.756 +07:00 [INF] Request: POST /api/User/logout
2025-09-16 11:04:01.413 +07:00 [INF] Request: POST /api/User/logout
2025-09-16 11:04:41.946 +07:00 [INF] Request: POST /api/User/logout
2025-09-16 11:05:08.700 +07:00 [INF] Request: DELETE /api/User/1
2025-09-16 11:05:17.518 +07:00 [INF] Request: DELETE /api/User/5
2025-09-16 11:05:17.952 +07:00 [INF] User deleted: 5
2025-09-16 11:05:44.736 +07:00 [INF] Request: GET /api/User
2025-09-16 11:06:47.392 +07:00 [INF] Request: POST /api/User/forgot-password
2025-09-16 11:06:52.167 +07:00 [INF] Email sent successfully to nghiadaucau1@gmail.com with subject: Đặt lại mật khẩu EV Service Center
2025-09-16 11:06:52.213 +07:00 [INF] Password reset token generated for user: nghiadaucau1@gmail.com
2025-09-16 11:07:51.798 +07:00 [INF] Request: PUT /api/User/change-password
2025-09-16 11:07:52.468 +07:00 [INF] Password updated for UserId 8
2025-09-16 11:08:29.604 +07:00 [INF] Request: POST /api/User/login
2025-09-16 11:08:30.339 +07:00 [WRN] Login failed: Invalid password for NghiaPham
2025-09-16 11:08:45.947 +07:00 [INF] Request: POST /api/User/login
2025-09-16 11:08:46.388 +07:00 [INF] User logged in: NghiaPham
2025-09-16 11:09:03.138 +07:00 [INF] Request: PUT /api/User/change-password
2025-09-16 11:09:26.577 +07:00 [INF] Request: PUT /api/User/change-password
2025-09-16 11:09:38.149 +07:00 [INF] Request: PUT /api/User/change-password
2025-09-16 11:09:38.560 +07:00 [INF] Password updated for UserId 8
2025-09-16 11:11:01.513 +07:00 [INF] Request: POST /api/User/resend-verification
2025-09-16 11:11:06.527 +07:00 [INF] Email sent successfully to nghiadaucau1@gmail.com with subject: Xác thực tài khoản EV Service Center
2025-09-16 11:11:06.544 +07:00 [INF] Verification email resent for user: nghiadaucau1@gmail.com
2025-09-16 11:31:23.977 +07:00 [INF] Now listening on: https://localhost:7077
2025-09-16 11:31:24.033 +07:00 [INF] Now listening on: http://localhost:5153
2025-09-16 11:31:24.087 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-16 11:31:24.096 +07:00 [INF] Hosting environment: Development
2025-09-16 11:31:24.102 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API
2025-09-16 11:31:24.906 +07:00 [INF] Request: GET /
2025-09-16 11:33:02.645 +07:00 [INF] Request: POST /api/user/register
2025-09-16 11:33:17.778 +07:00 [INF] Request: POST /api/user/register
2025-09-16 11:33:41.386 +07:00 [ERR] Failed to send email to test001@example.com
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.Net.Sockets.SocketException (10060): A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToAsyncResult.End(IAsyncResult asyncResult)
   at System.Net.Sockets.TcpClient.EndConnect(IAsyncResult asyncResult)
   at System.Net.Mail.SmtpConnection.ConnectAndHandshakeAsyncResult.InitializeConnectionCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at EVServiceCenter.Infrastructure.Domains.Identity.Services.EmailService.SendEmailAsync(String toEmail, String subject, String htmlBody) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.Infrastructure\Domains\Identity\Services\EmailService.cs:line 278
2025-09-16 11:38:04.727 +07:00 [INF] Now listening on: https://localhost:7077
2025-09-16 11:38:04.775 +07:00 [INF] Now listening on: http://localhost:5153
2025-09-16 11:38:04.833 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-16 11:38:04.838 +07:00 [INF] Hosting environment: Development
2025-09-16 11:38:04.841 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API
2025-09-16 11:38:05.609 +07:00 [INF] Request: GET /
2025-09-16 11:38:33.928 +07:00 [INF] Request: POST /api/user/register
2025-09-16 11:39:06.571 +07:00 [INF] Request: POST /api/user/register
2025-09-16 11:39:14.317 +07:00 [INF] Request: POST /api/user/register
2025-09-16 11:39:18.250 +07:00 [INF] Request: POST /api/user/register
2025-09-16 11:39:21.895 +07:00 [INF] Email sent successfully to test001@example2.com with subject: Xác thực tài khoản EV Service Center
2025-09-16 11:39:21.913 +07:00 [INF] User registered: testuser0012, verification email sent
2025-09-16 11:40:26.224 +07:00 [INF] Request: GET /api/User/verify-email
2025-09-16 11:40:26.272 +07:00 [INF] Processing email verification for test001@example2.com with token pjDQcJXt...
2025-09-16 11:40:26.843 +07:00 [INF] Email sent successfully to test001@example2.com with subject: Chào mừng đến với EV Service Center
2025-09-16 11:40:26.908 +07:00 [INF] Email verified successfully for user: test001@example2.com
2025-09-16 11:40:26.926 +07:00 [INF] Email verification successful for test001@example2.com
2025-09-16 11:40:27.645 +07:00 [INF] Request: GET /favicon.ico
2025-09-16 11:47:04.134 +07:00 [INF] Now listening on: https://localhost:7077
2025-09-16 11:47:04.252 +07:00 [INF] Now listening on: http://localhost:5153
2025-09-16 11:47:04.338 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-16 11:47:04.381 +07:00 [INF] Hosting environment: Development
2025-09-16 11:47:04.390 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API
2025-09-16 11:47:04.751 +07:00 [INF] Request: GET /
2025-09-16 11:48:21.771 +07:00 [INF] Request: POST /api/User/forgot-password
2025-09-16 11:48:26.299 +07:00 [INF] Email sent successfully to test001@example.com with subject: Đặt lại mật khẩu EV Service Center
2025-09-16 11:48:26.331 +07:00 [INF] Password reset token generated for user: test001@example.com
2025-09-16 11:50:39.911 +07:00 [INF] Request: GET /api/User/reset-password
2025-09-16 11:50:40.034 +07:00 [INF] Processing password reset for test001@example.com
2025-09-16 11:50:49.011 +07:00 [INF] Request: POST /api/User/reset-password-submit
2025-09-16 11:50:49.474 +07:00 [INF] Password reset successful for user: test001@example.com
2025-09-16 11:51:38.981 +07:00 [INF] Request: POST /api/User/login
2025-09-16 11:51:39.412 +07:00 [WRN] Login failed: Invalid password for testuser001
2025-09-16 11:51:48.199 +07:00 [INF] Request: POST /api/User/login
2025-09-16 11:51:48.527 +07:00 [INF] User logged in: testuser001
2025-09-16 11:59:25.287 +07:00 [INF] Request: GET /api/User/verify-email
2025-09-16 11:59:25.380 +07:00 [INF] Processing email verification for test001@example2.com with token pjDQcJXt...
2025-09-16 11:59:25.453 +07:00 [WRN] Invalid email verification attempt for: test001@example2.com
2025-09-16 11:59:25.469 +07:00 [WRN] Email verification failed for test001@example2.com
2025-09-16 11:59:25.770 +07:00 [INF] Request: GET /favicon.ico
2025-09-16 12:42:45.728 +07:00 [INF] Request: GET /api/User/reset-password
2025-09-16 12:42:45.753 +07:00 [INF] Processing password reset for test001@example.com
2025-09-16 12:43:39.905 +07:00 [INF] Request: GET /api/User/reset-password
2025-09-16 12:43:39.916 +07:00 [INF] Processing password reset for test001@example.com
2025-09-16 12:43:54.061 +07:00 [INF] Request: POST /api/User/reset-password-submit
2025-09-16 13:35:21.223 +07:00 [INF] Now listening on: https://localhost:7077
2025-09-16 13:35:21.277 +07:00 [INF] Now listening on: http://localhost:5153
2025-09-16 13:35:21.330 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-16 13:35:21.337 +07:00 [INF] Hosting environment: Development
2025-09-16 13:35:21.343 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API
2025-09-16 13:35:22.178 +07:00 [INF] Request: GET /
2025-09-16 13:36:15.197 +07:00 [INF] Request: POST /api/User/forgot-password
2025-09-16 13:36:21.773 +07:00 [INF] Email sent successfully to test001@example.com with subject: Đặt lại mật khẩu EV Service Center
2025-09-16 13:36:21.792 +07:00 [INF] Password reset token generated for user: test001@example.com
2025-09-16 13:36:46.264 +07:00 [INF] Request: POST /api/User/forgot-password
2025-09-16 13:36:46.406 +07:00 [WRN] Password reset requested for non-existent email: test0019@example.com
2025-09-16 13:48:03.985 +07:00 [INF] Now listening on: https://localhost:7077
2025-09-16 13:48:04.040 +07:00 [INF] Now listening on: http://localhost:5153
2025-09-16 13:48:04.096 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-16 13:48:04.105 +07:00 [INF] Hosting environment: Development
2025-09-16 13:48:04.115 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API
2025-09-16 13:48:04.730 +07:00 [INF] Request: GET /
2025-09-16 13:48:52.989 +07:00 [INF] Request: POST /api/User/registor
2025-09-16 13:49:03.191 +07:00 [INF] Request: POST /api/User/register
2025-09-16 13:49:06.658 +07:00 [INF] Email sent successfully to test0019@example.com with subject: Xác thực tài khoản EV Service Center
2025-09-16 13:49:06.696 +07:00 [INF] User registered: testuser0010, verification email sent
2025-09-16 13:50:02.687 +07:00 [INF] Request: POST /api/User/login
2025-09-16 13:50:02.948 +07:00 [WRN] Login failed: Email not verified for testuser0010
2025-09-16 13:50:03.374 +07:00 [ERR] Error during login for user testuser0010
System.Exception: Please verify your email before logging in
   at EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService.LoginAsync(String username, String plainPassword) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.Infrastructure\Domains\Identity\Services\UserService.cs:line 181
   at EVServiceCenter.API.Controllers.UserController.Login(LoginRequestDto loginRequest) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API\Controllers\UserController.cs:line 311
2025-09-16 13:50:45.174 +07:00 [INF] Request: POST /api/User/login
2025-09-16 13:50:45.284 +07:00 [WRN] Login failed: Email not verified for testuser0010
2025-09-16 13:50:45.390 +07:00 [ERR] Error during login for user testuser0010
System.Exception: Please verify your email before logging in
   at EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService.LoginAsync(String username, String plainPassword) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.Infrastructure\Domains\Identity\Services\UserService.cs:line 181
   at EVServiceCenter.API.Controllers.UserController.Login(LoginRequestDto loginRequest) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API\Controllers\UserController.cs:line 311
2025-09-16 13:51:00.998 +07:00 [INF] Request: POST /api/User/login
2025-09-16 13:51:01.014 +07:00 [WRN] Login failed: Email not verified for NghiaPham
2025-09-16 13:51:01.210 +07:00 [ERR] Error during login for user NghiaPham
System.Exception: Please verify your email before logging in
   at EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService.LoginAsync(String username, String plainPassword) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.Infrastructure\Domains\Identity\Services\UserService.cs:line 181
   at EVServiceCenter.API.Controllers.UserController.Login(LoginRequestDto loginRequest) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API\Controllers\UserController.cs:line 311
2025-09-16 13:51:03.780 +07:00 [INF] Request: POST /api/User/login
2025-09-16 13:51:03.795 +07:00 [WRN] Login failed: Email not verified for NghiaPham
2025-09-16 13:51:03.884 +07:00 [ERR] Error during login for user NghiaPham
System.Exception: Please verify your email before logging in
   at EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService.LoginAsync(String username, String plainPassword) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.Infrastructure\Domains\Identity\Services\UserService.cs:line 181
   at EVServiceCenter.API.Controllers.UserController.Login(LoginRequestDto loginRequest) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API\Controllers\UserController.cs:line 311
2025-09-16 13:51:04.587 +07:00 [INF] Request: POST /api/User/login
2025-09-16 13:51:04.619 +07:00 [WRN] Login failed: Email not verified for NghiaPham
2025-09-16 13:51:04.815 +07:00 [ERR] Error during login for user NghiaPham
System.Exception: Please verify your email before logging in
   at EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService.LoginAsync(String username, String plainPassword) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.Infrastructure\Domains\Identity\Services\UserService.cs:line 181
   at EVServiceCenter.API.Controllers.UserController.Login(LoginRequestDto loginRequest) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API\Controllers\UserController.cs:line 311
2025-09-16 13:51:13.890 +07:00 [INF] Request: POST /api/User/login
2025-09-16 13:51:19.598 +07:00 [INF] Request: POST /api/User/login
2025-09-16 13:51:24.383 +07:00 [INF] Request: POST /api/User/login
2025-09-16 13:51:24.398 +07:00 [WRN] Login failed: Username 123 not found
2025-09-16 13:51:42.516 +07:00 [INF] Request: POST /api/User/login
2025-09-16 13:51:42.565 +07:00 [WRN] Login failed: Email not verified for NghiaPham
2025-09-16 13:51:42.784 +07:00 [ERR] Error during login for user NghiaPham
System.Exception: Please verify your email before logging in
   at EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService.LoginAsync(String username, String plainPassword) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.Infrastructure\Domains\Identity\Services\UserService.cs:line 181
   at EVServiceCenter.API.Controllers.UserController.Login(LoginRequestDto loginRequest) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API\Controllers\UserController.cs:line 311
2025-09-16 13:53:47.783 +07:00 [INF] Now listening on: https://localhost:7077
2025-09-16 13:53:47.846 +07:00 [INF] Now listening on: http://localhost:5153
2025-09-16 13:53:47.904 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-16 13:53:47.912 +07:00 [INF] Hosting environment: Development
2025-09-16 13:53:47.918 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API
2025-09-16 13:53:48.321 +07:00 [INF] Request: GET /
2025-09-16 13:53:56.366 +07:00 [INF] Request: POST /api/user/login
2025-09-16 13:53:59.066 +07:00 [WRN] Login failed: Username wrong_user not found
2025-09-16 13:54:11.128 +07:00 [INF] Request: POST /api/user/login
2025-09-16 13:54:11.839 +07:00 [INF] User logged in: NghiaPham
2025-09-16 14:54:57.153 +07:00 [INF] Now listening on: https://localhost:7077
2025-09-16 14:54:57.212 +07:00 [INF] Now listening on: http://localhost:5153
2025-09-16 14:54:57.266 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-16 14:54:57.275 +07:00 [INF] Hosting environment: Development
2025-09-16 14:54:57.280 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API
2025-09-16 14:54:58.109 +07:00 [INF] Request: GET /
2025-09-16 14:56:16.563 +07:00 [INF] Request: POST /api/auth/login
2025-09-16 14:56:23.343 +07:00 [INF] User logged in: NghiaPham
2025-09-16 14:57:23.271 +07:00 [INF] Request: GET /api/auth/profile
2025-09-16 14:57:54.020 +07:00 [INF] Request: PUT /api/auth/change-password
2025-09-16 14:57:54.945 +07:00 [ERR] Error changing password for user 8
System.Exception: Current password is incorrect
   at EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService.UpdateUserPasswordAsync(Int32 userId, String currentPassword, String newPlainPassword) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.Infrastructure\Domains\Identity\Services\UserService.cs:line 212
   at EVServiceCenter.API.Controllers.AuthController.ChangePassword(ChangePasswordRequestDto request) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API\Controllers\AuthController.cs:line 249
2025-09-16 14:58:01.690 +07:00 [INF] Request: PUT /api/auth/change-password
2025-09-16 14:58:02.307 +07:00 [INF] Password updated for UserId 8
2025-09-16 14:58:17.238 +07:00 [INF] Request: GET /api/auth/profile
2025-09-16 14:58:25.700 +07:00 [INF] Request: GET /api/users
2025-09-16 14:58:38.240 +07:00 [INF] Request: GET /api/users
2025-09-16 14:58:54.650 +07:00 [INF] Request: GET /api/users
2025-09-16 14:59:09.317 +07:00 [INF] Request: GET /api/users/1
2025-09-16 14:59:13.204 +07:00 [INF] Request: GET /api/users/2
2025-09-16 15:00:59.698 +07:00 [INF] Request: PUT /api/users/2
2025-09-16 15:01:36.197 +07:00 [INF] Request: DELETE /api/users/2
2025-09-16 15:01:36.617 +07:00 [INF] User deleted: 2
2025-09-16 15:01:45.963 +07:00 [INF] Request: DELETE /api/users/3
2025-09-16 15:02:03.349 +07:00 [INF] Request: GET /api/users
2025-09-16 15:03:17.558 +07:00 [INF] Request: POST /api/account/forgot-password
2025-09-16 15:03:17.962 +07:00 [INF] Email sent successfully to nghiadaucau1@gmail.com with subject: Đặt lại mật khẩu EV Service Center
2025-09-16 15:03:18.013 +07:00 [INF] Password reset token generated for user: nghiadaucau1@gmail.com
2025-09-16 16:02:06.358 +07:00 [INF] Now listening on: https://0.0.0.0:7077
2025-09-16 16:02:06.417 +07:00 [INF] Now listening on: http://0.0.0.0:5153
2025-09-16 16:02:06.616 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-16 16:02:06.624 +07:00 [INF] Hosting environment: Development
2025-09-16 16:02:06.631 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API
2025-09-16 16:02:07.792 +07:00 [INF] Request: GET /
2025-09-16 16:03:42.042 +07:00 [INF] Request: POST /api/user/register
2025-09-16 16:04:52.775 +07:00 [INF] Request: POST /api/user/register
2025-09-16 16:07:05.705 +07:00 [INF] Request: POST /api/user/register
2025-09-16 16:10:37.070 +07:00 [INF] Request: POST /api/auth/register
2025-09-16 16:10:56.397 +07:00 [INF] Request: POST /api/auth/register
2025-09-16 16:10:59.394 +07:00 [INF] Email sent successfully to test@example.com with subject: Xác thực tài khoản EV Service Center
2025-09-16 16:10:59.434 +07:00 [INF] User registered: test_user, verification email sent
2025-09-16 16:15:00.543 +07:00 [INF] Request: POST /api/user/login
2025-09-16 16:18:30.783 +07:00 [INF] Now listening on: https://localhost:7077
2025-09-16 16:18:30.829 +07:00 [INF] Now listening on: http://localhost:5153
2025-09-16 16:18:30.911 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-16 16:18:30.922 +07:00 [INF] Hosting environment: Development
2025-09-16 16:18:30.927 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API
2025-09-16 16:18:31.819 +07:00 [INF] Request: GET /
2025-09-16 16:19:12.054 +07:00 [INF] Request: POST /api/user/login
2025-09-16 16:19:34.872 +07:00 [INF] Request: POST /api/auth/login
2025-09-16 16:19:43.480 +07:00 [WRN] Login failed: Invalid password for NghiaPham
2025-09-16 16:19:43.936 +07:00 [ERR] Error during login for user NghiaPham
System.Exception: Tên đăng nhập hoặc mật khẩu không đúng
   at EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService.LoginAsync(String username, String plainPassword) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.Infrastructure\Domains\Identity\Services\UserService.cs:line 189
   at EVServiceCenter.API.Controllers.AuthController.Login(LoginRequestDto loginRequest) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API\Controllers\AuthController.cs:line 117
2025-09-16 16:20:07.904 +07:00 [INF] Request: POST /api/auth/login
2025-09-16 16:20:08.054 +07:00 [WRN] Login failed: Username PhamNghia not found
2025-09-16 16:20:22.537 +07:00 [INF] Request: POST /api/auth/login
2025-09-16 16:20:23.075 +07:00 [INF] User logged in: NghiaPham
2025-09-16 16:20:34.278 +07:00 [INF] Request: POST /api/auth/login
2025-09-16 16:20:34.619 +07:00 [WRN] Login failed: Invalid password for NghiaPham
2025-09-16 16:20:34.819 +07:00 [ERR] Error during login for user NghiaPham
System.Exception: Tên đăng nhập hoặc mật khẩu không đúng
   at EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService.LoginAsync(String username, String plainPassword) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.Infrastructure\Domains\Identity\Services\UserService.cs:line 189
   at EVServiceCenter.API.Controllers.AuthController.Login(LoginRequestDto loginRequest) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API\Controllers\AuthController.cs:line 117
2025-09-16 16:21:59.768 +07:00 [INF] Now listening on: https://localhost:7077
2025-09-16 16:21:59.815 +07:00 [INF] Now listening on: http://localhost:5153
2025-09-16 16:21:59.866 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-16 16:21:59.871 +07:00 [INF] Hosting environment: Development
2025-09-16 16:21:59.876 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API
2025-09-16 16:22:00.587 +07:00 [INF] Request: GET /
2025-09-16 16:22:02.715 +07:00 [INF] Request: POST /api/auth/login
2025-09-16 16:22:12.344 +07:00 [WRN] Login failed: Invalid password for NghiaPham
2025-09-16 16:22:12.848 +07:00 [ERR] Error during login for user NghiaPham
System.Exception: Tên đăng nhập hoặc mật khẩu không đúng
   at EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService.LoginAsync(String username, String plainPassword) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.Infrastructure\Domains\Identity\Services\UserService.cs:line 189
   at EVServiceCenter.API.Controllers.AuthController.Login(LoginRequestDto loginRequest) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API\Controllers\AuthController.cs:line 117
2025-09-16 16:22:42.139 +07:00 [INF] Request: POST /api/auth/login
2025-09-16 16:22:42.281 +07:00 [WRN] Login failed: Username PhamNghia not found
2025-09-16 16:22:51.506 +07:00 [INF] Request: POST /api/auth/login
2025-09-16 16:22:52.217 +07:00 [INF] User logged in: NghiaPham
2025-09-16 16:24:26.295 +07:00 [INF] Request: POST /api/auth/login
2025-09-16 16:24:26.637 +07:00 [INF] User logged in: NghiaPham
2025-09-16 16:25:41.587 +07:00 [INF] Request: POST /api/auth/login
2025-09-16 16:25:41.946 +07:00 [WRN] Login failed: Invalid password for NghiaPham
2025-09-16 16:25:42.199 +07:00 [ERR] Error during login for user NghiaPham
System.Exception: Tên đăng nhập hoặc mật khẩu không đúng
   at EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService.LoginAsync(String username, String plainPassword) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.Infrastructure\Domains\Identity\Services\UserService.cs:line 189
   at EVServiceCenter.API.Controllers.AuthController.Login(LoginRequestDto loginRequest) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API\Controllers\AuthController.cs:line 117
2025-09-16 16:25:48.636 +07:00 [INF] Request: POST /api/auth/login
2025-09-16 16:25:48.889 +07:00 [WRN] Login failed: Invalid password for NghiaPham
2025-09-16 16:25:49.046 +07:00 [ERR] Error during login for user NghiaPham
System.Exception: Tên đăng nhập hoặc mật khẩu không đúng
   at EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService.LoginAsync(String username, String plainPassword) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.Infrastructure\Domains\Identity\Services\UserService.cs:line 189
   at EVServiceCenter.API.Controllers.AuthController.Login(LoginRequestDto loginRequest) in C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API\Controllers\AuthController.cs:line 117
2025-09-16 16:32:00.741 +07:00 [INF] Now listening on: https://localhost:7077
2025-09-16 16:32:00.826 +07:00 [INF] Now listening on: http://localhost:5153
2025-09-16 16:32:00.880 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-16 16:32:00.886 +07:00 [INF] Hosting environment: Development
2025-09-16 16:32:00.892 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API
2025-09-16 16:32:01.344 +07:00 [INF] Request: GET /
2025-09-16 16:32:09.802 +07:00 [INF] Request: POST /api/auth/login
2025-09-16 16:32:13.289 +07:00 [WRN] Login failed: Invalid password for NghiaPham
2025-09-16 16:32:26.268 +07:00 [INF] Request: POST /api/auth/login
2025-09-16 16:32:26.347 +07:00 [WRN] Login failed: Username string not found
2025-09-16 16:32:46.522 +07:00 [INF] Request: POST /api/auth/login
2025-09-16 16:32:46.865 +07:00 [INF] User logged in: NghiaPham
2025-09-16 16:54:06.243 +07:00 [INF] Now listening on: https://localhost:7077
2025-09-16 16:54:06.336 +07:00 [INF] Now listening on: http://localhost:5153
2025-09-16 16:54:06.393 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-16 16:54:06.401 +07:00 [INF] Hosting environment: Development
2025-09-16 16:54:06.408 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API
2025-09-16 16:54:06.810 +07:00 [INF] Request: GET /
2025-09-16 16:54:11.338 +07:00 [INF] Request: POST /api/auth/login
2025-09-16 16:54:15.852 +07:00 [WRN] Login failed: Invalid password for NghiaPham
2025-09-16 16:54:24.205 +07:00 [INF] Request: POST /api/auth/login
2025-09-16 16:54:24.561 +07:00 [INF] User logged in: NghiaPham
2025-09-16 17:04:12.979 +07:00 [INF] Now listening on: https://localhost:7077
2025-09-16 17:04:13.029 +07:00 [INF] Now listening on: http://localhost:5153
2025-09-16 17:04:13.089 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-16 17:04:13.096 +07:00 [INF] Hosting environment: Development
2025-09-16 17:04:13.100 +07:00 [INF] Content root path: C:\Users\ADMIN\Desktop\SWP\BackEnd\EVServiceCenter\EVServiceCenter.API
2025-09-16 17:04:13.830 +07:00 [INF] Request: GET /
2025-09-16 17:04:31.901 +07:00 [INF] Request: POST /api/auth/login
2025-09-16 17:04:35.946 +07:00 [WRN] Login failed: Username string not found
2025-09-16 17:14:54.376 +07:00 [ERR] Failed executing DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] ADD [FailedLoginAttempts] int NULL;
