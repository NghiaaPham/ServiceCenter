[2025-09-30 13:49:16.627 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 13:49:16.684 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 13:49:16.759 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 13:49:16.766 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 13:49:16.769 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 13:49:17.494 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNFVTLSNKAFI:00000001","RequestPath":"/","ConnectionId":"0HNFVTLSNKAFI"}
[2025-09-30 13:54:37.434 +07:00 ERR] Failed executing DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[ServiceCenters]') AND [c].[name] = N'City');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [ServiceCenters] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [ServiceCenters] DROP COLUMN [City]; {"EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
[2025-09-30 15:31:43.848 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 15:31:43.900 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 15:31:43.971 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 15:31:44.013 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 15:31:44.029 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 15:31:44.790 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNFVVF4RPC8I:00000001","RequestPath":"/","ConnectionId":"0HNFVVF4RPC8I"}
[2025-09-30 15:37:22.503 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 15:37:22.567 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 15:37:22.660 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 15:37:22.679 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 15:37:22.699 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 15:37:23.277 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNFVVI9O655D:00000001","RequestPath":"/","ConnectionId":"0HNFVVI9O655D"}
[2025-09-30 15:40:13.224 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 15:40:13.316 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 15:40:13.379 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 15:40:13.386 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 15:40:13.392 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 15:40:13.702 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNFVVJSHJO9S:00000001","RequestPath":"/","ConnectionId":"0HNFVVJSHJO9S"}
[2025-09-30 16:00:24.641 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:00:24.687 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:00:24.740 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:00:24.743 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:00:24.784 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:00:25.558 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNFVVV5MJ93O:00000001","RequestPath":"/","ConnectionId":"0HNFVVV5MJ93O"}
[2025-09-30 16:01:57.010 +07:00 INF] Request: POST /api/auth/login {"SourceContext":"Program","RequestId":"0HNFVVV5MJ93O:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNFVVV5MJ93O"}
[2025-09-30 16:01:59.437 +07:00 INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService","ActionId":"3644a184-3b1e-43db-8707-ee68dc70ed7c","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNFVVV5MJ93O:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNFVVV5MJ93O"}
[2025-09-30 16:02:03.571 +07:00 INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.EmailService","ActionId":"3644a184-3b1e-43db-8707-ee68dc70ed7c","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNFVVV5MJ93O:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNFVVV5MJ93O"}
[2025-09-30 16:03:18.897 +07:00 INF] Request: GET /api/service-centers {"SourceContext":"Program","RequestId":"0HNFVVV5MJ93O:0000000B","RequestPath":"/api/service-centers","ConnectionId":"0HNFVVV5MJ93O"}
[2025-09-30 16:08:50.394 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:08:50.458 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:08:50.521 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:08:50.542 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:08:50.549 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:08:51.374 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNG003SE3FIN:00000001","RequestPath":"/","ConnectionId":"0HNG003SE3FIN"}
[2025-09-30 16:09:34.582 +07:00 INF] Request: GET /api/service-centers {"SourceContext":"Program","RequestId":"0HNG003SE3FIN:00000009","RequestPath":"/api/service-centers","ConnectionId":"0HNG003SE3FIN"}
[2025-09-30 16:10:56.286 +07:00 INF] Request: GET /api/service-centers {"SourceContext":"Program","RequestId":"0HNG003SE3FIN:0000000B","RequestPath":"/api/service-centers","ConnectionId":"0HNG003SE3FIN"}
[2025-09-30 16:10:56.711 +07:00 ERR] An exception occurred while iterating over the results of a query for context type 'EVServiceCenter.Core.Entities.EVDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"756ae57e-559b-416b-9d0f-14ba0932ded5","ActionName":"EVServiceCenter.API.Controllers.ServiceCenters.ServiceCenterQueryController.GetAll (EVServiceCenter.API)","RequestId":"0HNG003SE3FIN:0000000B","RequestPath":"/api/service-centers","ConnectionId":"0HNG003SE3FIN"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-09-30 16:12:59.664 +07:00 ERR] An unhandled exception has occurred while executing the request. {"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HNG003SE3FIN:0000000B","RequestPath":"/api/service-centers","ConnectionId":"0HNG003SE3FIN"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToDictionaryAsync[TSource,TKey,TElement](IQueryable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToDictionaryAsync[TSource,TKey,TElement](IQueryable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.ServiceCenters.Repositories.ServiceCenterStatisticsRepository.GetWorkOrderCountsAsync(IEnumerable`1 centerIds, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\ServiceCenters\Repositories\ServiceCenterStatisticsRepository.cs:line 39
   at EVServiceCenter.Infrastructure.Domains.ServiceCenters.Services.ServiceCenterQueryService.GetBatchStatsAsync(List`1 centerIds, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\ServiceCenters\Services\ServiceCenterQueryService.cs:line 151
   at EVServiceCenter.Infrastructure.Domains.ServiceCenters.Services.ServiceCenterQueryService.MapToDtosAsync(List`1 centers, Boolean includeStats, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\ServiceCenters\Services\ServiceCenterQueryService.cs:line 128
   at EVServiceCenter.Infrastructure.Domains.ServiceCenters.Services.ServiceCenterQueryService.GetAllAsync(ServiceCenterQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\ServiceCenters\Services\ServiceCenterQueryService.cs:line 55
   at EVServiceCenter.API.Controllers.ServiceCenters.ServiceCenterQueryController.GetAll(ServiceCenterQueryDto query, CancellationToken ct) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\ServiceCenters\ServiceCenterQueryController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at EVServiceCenter.API.Middleware.PasswordResetRateLimitMiddleware.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\PasswordResetRateLimitMiddleware.cs:line 31
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_10>d.MoveNext() in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Program.cs:line 202
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-09-30 16:15:23.737 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:15:23.835 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:15:23.899 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:15:23.904 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:15:23.909 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:15:24.262 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNG007HGU1DF:00000001","RequestPath":"/","ConnectionId":"0HNG007HGU1DF"}
[2025-09-30 16:18:27.236 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:18:27.291 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:18:27.374 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:18:27.386 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:18:27.390 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:18:28.115 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNG0098A763H:00000001","RequestPath":"/","ConnectionId":"0HNG0098A763H"}
[2025-09-30 16:19:33.817 +07:00 INF] Request: GET /api/service-centers {"SourceContext":"Program","RequestId":"0HNG0098A763H:00000009","RequestPath":"/api/service-centers","ConnectionId":"0HNG0098A763H"}
[2025-09-30 16:19:39.489 +07:00 ERR] An exception occurred while iterating over the results of a query for context type 'EVServiceCenter.Core.Entities.EVDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"cde82f9d-6419-472d-9408-8e76f09d0d44","ActionName":"EVServiceCenter.API.Controllers.ServiceCenters.ServiceCenterQueryController.GetAll (EVServiceCenter.API)","RequestId":"0HNG0098A763H:00000009","RequestPath":"/api/service-centers","ConnectionId":"0HNG0098A763H"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-09-30 16:22:13.201 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:22:13.257 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:22:13.328 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:22:13.336 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:22:13.344 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:22:13.666 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNG00BBHUK1F:00000001","RequestPath":"/","ConnectionId":"0HNG00BBHUK1F"}
[2025-09-30 16:22:41.346 +07:00 INF] Request: POST /api/auth/login {"SourceContext":"Program","RequestId":"0HNG00BBHUK1F:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNG00BBHUK1F"}
[2025-09-30 16:22:43.270 +07:00 INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService","ActionId":"e99163b2-654f-4aa3-97dd-fed235c08ec4","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNG00BBHUK1F:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNG00BBHUK1F"}
[2025-09-30 16:22:47.444 +07:00 INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.EmailService","ActionId":"e99163b2-654f-4aa3-97dd-fed235c08ec4","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNG00BBHUK1F:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNG00BBHUK1F"}
[2025-09-30 16:23:53.061 +07:00 INF] Request: GET /api/service-centers {"SourceContext":"Program","RequestId":"0HNG00BBHUK1F:0000000B","RequestPath":"/api/service-centers","ConnectionId":"0HNG00BBHUK1F"}
[2025-09-30 16:24:24.378 +07:00 INF] Request: GET /api/service-centers {"SourceContext":"Program","RequestId":"0HNG00BBHUK1F:0000000D","RequestPath":"/api/service-centers","ConnectionId":"0HNG00BBHUK1F"}
[2025-09-30 16:24:40.319 +07:00 INF] Request: GET /api/service-centers {"SourceContext":"Program","RequestId":"0HNG00BBHUK1F:0000000F","RequestPath":"/api/service-centers","ConnectionId":"0HNG00BBHUK1F"}
[2025-09-30 16:24:52.554 +07:00 INF] Request: GET /api/service-centers {"SourceContext":"Program","RequestId":"0HNG00BBHUK1F:00000011","RequestPath":"/api/service-centers","ConnectionId":"0HNG00BBHUK1F"}
[2025-09-30 16:25:23.428 +07:00 INF] Request: GET /api/service-centers/1 {"SourceContext":"Program","RequestId":"0HNG00BBHUK1F:00000013","RequestPath":"/api/service-centers/1","ConnectionId":"0HNG00BBHUK1F"}
[2025-09-30 16:26:40.849 +07:00 INF] Request: POST /api/service-centers {"SourceContext":"Program","RequestId":"0HNG00BBHUK1F:00000015","RequestPath":"/api/service-centers","ConnectionId":"0HNG00BBHUK1F"}
[2025-09-30 16:26:57.734 +07:00 INF] Request: POST /api/service-centers {"SourceContext":"Program","RequestId":"0HNG00BBHUK1F:00000017","RequestPath":"/api/service-centers","ConnectionId":"0HNG00BBHUK1F"}
[2025-09-30 16:32:09.535 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:32:09.583 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:32:09.647 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:32:09.652 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:32:09.654 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:32:10.312 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNG00GTBFQ5O:00000001","RequestPath":"/","ConnectionId":"0HNG00GTBFQ5O"}
[2025-09-30 16:33:09.458 +07:00 INF] Request: POST /api/service-centers {"SourceContext":"Program","RequestId":"0HNG00GTBFQ5O:00000009","RequestPath":"/api/service-centers","ConnectionId":"0HNG00GTBFQ5O"}
[2025-09-30 16:34:08.045 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:34:08.093 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:34:08.176 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:34:08.194 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:34:08.202 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:34:08.915 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNG00I0MTK79:00000001","RequestPath":"/","ConnectionId":"0HNG00I0MTK79"}
[2025-09-30 16:34:41.543 +07:00 INF] Request: POST /api/service-centers {"SourceContext":"Program","RequestId":"0HNG00I0MTK79:00000009","RequestPath":"/api/service-centers","ConnectionId":"0HNG00I0MTK79"}
[2025-09-30 16:35:42.951 +07:00 INF] Request: POST /api/service-centers {"SourceContext":"Program","RequestId":"0HNG00I0MTK79:0000000B","RequestPath":"/api/service-centers","ConnectionId":"0HNG00I0MTK79"}
[2025-09-30 16:36:26.490 +07:00 ERR] An unhandled exception has occurred while executing the request. {"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HNG00I0MTK79:0000000B","RequestPath":"/api/service-centers","ConnectionId":"0HNG00I0MTK79"}
System.InvalidOperationException: Mã trung tâm 'EVSC-HCM-BT' đã tồn tại
   at EVServiceCenter.Infrastructure.Domains.ServiceCenters.Services.ServiceCenterService.CreateAsync(CreateServiceCenterRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\ServiceCenters\Services\ServiceCenterService.cs:line 61
   at EVServiceCenter.API.Controllers.ServiceCenters.ServiceCenterController.Create(CreateServiceCenterRequestDto request, CancellationToken ct) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\ServiceCenters\ServiceCenterController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at EVServiceCenter.API.Middleware.PasswordResetRateLimitMiddleware.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\PasswordResetRateLimitMiddleware.cs:line 31
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_11>d.MoveNext() in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Program.cs:line 206
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-09-30 16:36:33.660 +07:00 INF] Request: POST /api/service-centers {"SourceContext":"Program","RequestId":"0HNG00I0MTK79:0000000D","RequestPath":"/api/service-centers","ConnectionId":"0HNG00I0MTK79"}
[2025-09-30 16:37:17.554 +07:00 ERR] An unhandled exception has occurred while executing the request. {"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HNG00I0MTK79:0000000D","RequestPath":"/api/service-centers","ConnectionId":"0HNG00I0MTK79"}
System.InvalidOperationException: Mã trung tâm 'EVSC-HCM-BT' đã tồn tại
   at EVServiceCenter.Infrastructure.Domains.ServiceCenters.Services.ServiceCenterService.CreateAsync(CreateServiceCenterRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\ServiceCenters\Services\ServiceCenterService.cs:line 61
   at EVServiceCenter.API.Controllers.ServiceCenters.ServiceCenterController.Create(CreateServiceCenterRequestDto request, CancellationToken ct) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\ServiceCenters\ServiceCenterController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at EVServiceCenter.API.Middleware.PasswordResetRateLimitMiddleware.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\PasswordResetRateLimitMiddleware.cs:line 31
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_11>d.MoveNext() in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Program.cs:line 206
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-09-30 16:37:29.200 +07:00 INF] Request: POST /api/service-centers {"SourceContext":"Program","RequestId":"0HNG00I0MTK79:0000000F","RequestPath":"/api/service-centers","ConnectionId":"0HNG00I0MTK79"}
[2025-09-30 16:37:29.986 +07:00 INF] Service center created: EVSC-HCM-PN {"SourceContext":"EVServiceCenter.Infrastructure.Domains.ServiceCenters.Services.ServiceCenterService","ActionId":"5f6de88e-e418-406a-a435-cb0a9b39003c","ActionName":"EVServiceCenter.API.Controllers.ServiceCenters.ServiceCenterController.Create (EVServiceCenter.API)","RequestId":"0HNG00I0MTK79:0000000F","RequestPath":"/api/service-centers","ConnectionId":"0HNG00I0MTK79"}
[2025-09-30 16:38:05.382 +07:00 INF] Request: POST /api/service-centers {"SourceContext":"Program","RequestId":"0HNG00I0MTK79:00000011","RequestPath":"/api/service-centers","ConnectionId":"0HNG00I0MTK79"}
[2025-09-30 16:38:49.263 +07:00 INF] Request: POST /api/service-centers {"SourceContext":"Program","RequestId":"0HNG00I0MTK79:00000013","RequestPath":"/api/service-centers","ConnectionId":"0HNG00I0MTK79"}
[2025-09-30 16:39:05.520 +07:00 INF] Request: POST /api/service-centers {"SourceContext":"Program","RequestId":"0HNG00I0MTK79:00000015","RequestPath":"/api/service-centers","ConnectionId":"0HNG00I0MTK79"}
[2025-09-30 16:54:57.571 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:54:57.629 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:54:57.702 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:54:57.711 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:54:57.719 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 16:54:58.133 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNG00TKVBTJ2:00000001","RequestPath":"/","ConnectionId":"0HNG00TKVBTJ2"}
[2025-09-30 16:55:35.810 +07:00 INF] Request: GET /api/service-centers/by-province/H%C3%A0%20N%E1%BB%99i {"SourceContext":"Program","RequestId":"0HNG00TKVBTJ4:00000001","RequestPath":"/api/service-centers/by-province/H%C3%A0%20N%E1%BB%99i","ConnectionId":"0HNG00TKVBTJ4"}
[2025-09-30 16:55:45.321 +07:00 INF] Request: GET /api/service-centers/by-province/H%E1%BB%93%20Ch%C3%AD%20Minh {"SourceContext":"Program","RequestId":"0HNG00TKVBTJ5:00000001","RequestPath":"/api/service-centers/by-province/H%E1%BB%93%20Ch%C3%AD%20Minh","ConnectionId":"0HNG00TKVBTJ5"}
[2025-09-30 16:55:53.972 +07:00 INF] Request: GET /api/service-centers/by-province/TP.%20H%E1%BB%93%20Ch%C3%AD%20Minh {"SourceContext":"Program","RequestId":"0HNG00TKVBTJ5:00000003","RequestPath":"/api/service-centers/by-province/TP.%20H%E1%BB%93%20Ch%C3%AD%20Minh","ConnectionId":"0HNG00TKVBTJ5"}
[2025-09-30 16:56:03.010 +07:00 INF] Request: GET /api/service-centers/active {"SourceContext":"Program","RequestId":"0HNG00TKVBTJ5:00000005","RequestPath":"/api/service-centers/active","ConnectionId":"0HNG00TKVBTJ5"}
[2025-09-30 16:57:03.672 +07:00 INF] Request: POST /api/service-centers {"SourceContext":"Program","RequestId":"0HNG00TKVBTJ6:00000001","RequestPath":"/api/service-centers","ConnectionId":"0HNG00TKVBTJ6"}
[2025-09-30 16:57:16.344 +07:00 INF] Request: POST /api/service-centers {"SourceContext":"Program","RequestId":"0HNG00TKVBTJ7:00000001","RequestPath":"/api/service-centers","ConnectionId":"0HNG00TKVBTJ7"}
[2025-09-30 16:57:22.726 +07:00 INF] Request: POST /api/service-centers {"SourceContext":"Program","RequestId":"0HNG00TKVBTJ8:00000001","RequestPath":"/api/service-centers","ConnectionId":"0HNG00TKVBTJ8"}
[2025-09-30 16:57:35.255 +07:00 WRN] Business rule violation: Mã trung tâm 'EVSC-HCM-BT' đã tồn tại trong hệ thống {"SourceContext":"EVServiceCenter.API.Middleware.GlobalExceptionHandler","RequestId":"0HNG00TKVBTJ8:00000001","RequestPath":"/api/service-centers","ConnectionId":"0HNG00TKVBTJ8"}
EVServiceCenter.Core.Exceptions.BusinessRuleException: Mã trung tâm 'EVSC-HCM-BT' đã tồn tại trong hệ thống
   at EVServiceCenter.Infrastructure.Domains.ServiceCenters.Services.ServiceCenterService.CreateAsync(CreateServiceCenterRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\ServiceCenters\Services\ServiceCenterService.cs:line 62
   at EVServiceCenter.API.Controllers.ServiceCenters.ServiceCenterController.Create(CreateServiceCenterRequestDto request, CancellationToken ct) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\ServiceCenters\ServiceCenterController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at EVServiceCenter.API.Middleware.PasswordResetRateLimitMiddleware.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\PasswordResetRateLimitMiddleware.cs:line 31
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_11>d.MoveNext() in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Program.cs:line 208
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at EVServiceCenter.API.Middleware.GlobalExceptionHandler.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\GlobalExceptionHandler.cs:line 21
[2025-09-30 17:01:37.583 +07:00 INF] Request: PUT /api/service-centers/1 {"SourceContext":"Program","RequestId":"0HNG00TKVBTJ9:00000001","RequestPath":"/api/service-centers/1","ConnectionId":"0HNG00TKVBTJ9"}
[2025-09-30 17:01:43.598 +07:00 ERR] Unhandled exception: Hour, Minute, and Second parameters describe an un-representable DateTime. {"SourceContext":"EVServiceCenter.API.Middleware.GlobalExceptionHandler","RequestId":"0HNG00TKVBTJ9:00000001","RequestPath":"/api/service-centers/1","ConnectionId":"0HNG00TKVBTJ9"}
System.ArgumentOutOfRangeException: Hour, Minute, and Second parameters describe an un-representable DateTime.
   at System.TimeOnly..ctor(Int32 hour, Int32 minute)
   at EVServiceCenter.Core.Domains.ServiceCenters.Validators.UpdateServiceCenterValidator.BeAValidTime(TimeOnly time) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Core\Domains\ServiceCenters\Validators\UpdateServiceCenterValidator.cs:line 111
   at FluentValidation.DefaultValidatorExtensions.<>c__DisplayClass27_0`2.<Must>b__0(T x, TProperty val) in /_/src/FluentValidation/DefaultValidatorExtensions.cs:line 421
   at FluentValidation.DefaultValidatorExtensions.<>c__DisplayClass28_0`2.<Must>b__0(T x, TProperty val, ValidationContext`1 _) in /_/src/FluentValidation/DefaultValidatorExtensions.cs:line 437
   at FluentValidation.DefaultValidatorExtensions.<>c__DisplayClass29_0`2.<Must>b__0(T instance, TProperty property, ValidationContext`1 propertyValidatorContext) in /_/src/FluentValidation/DefaultValidatorExtensions.cs:line 453
   at FluentValidation.Validators.PredicateValidator`2.IsValid(ValidationContext`1 context, TProperty value) in /_/src/FluentValidation/Validators/PredicateValidator.cs:line 36
   at FluentValidation.Internal.RuleComponent`2.InvokePropertyValidator(ValidationContext`1 context, TProperty value) in /_/src/FluentValidation/Internal/RuleComponent.cs:line 92
   at FluentValidation.Internal.RuleComponent`2.ValidateAsync(ValidationContext`1 context, TProperty value, Boolean useAsync, CancellationToken cancellation) in /_/src/FluentValidation/Internal/RuleComponent.cs:line 83
   at FluentValidation.Internal.PropertyRule`2.ValidateAsync(ValidationContext`1 context, Boolean useAsync, CancellationToken cancellation) in /_/src/FluentValidation/Internal/PropertyRule.cs:line 156
   at FluentValidation.AbstractValidator`1.ValidateInternalAsync(ValidationContext`1 context, Boolean useAsync, CancellationToken cancellation) in /_/src/FluentValidation/AbstractValidator.cs:line 246
   at FluentValidation.AbstractValidator`1.Validate(ValidationContext`1 context) in /_/src/FluentValidation/AbstractValidator.cs:line 202
   at FluentValidation.AbstractValidator`1.FluentValidation.IValidator.Validate(IValidationContext context) in /_/src/FluentValidation/AbstractValidator.cs:line 153
   at FluentValidation.AspNetCore.FluentValidationModelValidator.Validate(ModelValidationContext mvContext) in /_/src/FluentValidation.AspNetCore/FluentValidationModelValidatorProvider.cs:line 150
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.ValidateNode()
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitComplexType(IValidationStrategy defaultStrategy)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitImplementation(ModelMetadata& metadata, String& key, Object model)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.Visit(ModelMetadata metadata, String key, Object model)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>n__1(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>c__DisplayClass2_0.<Validate>g__BaseValidate|0() in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 45
   at FluentValidation.AspNetCore.FluentValidationVisitor.ValidateInternal(ModelMetadata metadata, String key, Object model, Func`1 continuation) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 63
   at FluentValidation.AspNetCore.FluentValidationVisitor.Validate(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 47
   at Microsoft.AspNetCore.Mvc.ModelBinding.ObjectModelValidator.Validate(ActionContext actionContext, ValidationStateDictionary validationState, String prefix, Object model, ModelMetadata metadata, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.EnforceBindRequiredAndValidate(ObjectModelValidator baseObjectValidator, ActionContext actionContext, ParameterDescriptor parameter, ModelMetadata metadata, ModelBindingContext modelBindingContext, ModelBindingResult modelBindingResult, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at EVServiceCenter.API.Middleware.PasswordResetRateLimitMiddleware.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\PasswordResetRateLimitMiddleware.cs:line 31
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_11>d.MoveNext() in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Program.cs:line 208
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at EVServiceCenter.API.Middleware.GlobalExceptionHandler.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\GlobalExceptionHandler.cs:line 21
[2025-09-30 17:02:09.850 +07:00 INF] Request: PUT /api/service-centers/1 {"SourceContext":"Program","RequestId":"0HNG00TKVBTJ9:00000003","RequestPath":"/api/service-centers/1","ConnectionId":"0HNG00TKVBTJ9"}
[2025-09-30 17:04:29.967 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 17:04:30.032 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 17:04:30.097 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 17:04:30.121 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 17:04:30.136 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 17:04:30.582 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNG012VITC4K:00000001","RequestPath":"/","ConnectionId":"0HNG012VITC4K"}
[2025-09-30 17:05:17.298 +07:00 INF] Request: POST /api/service-centers {"SourceContext":"Program","RequestId":"0HNG012VITC4L:00000001","RequestPath":"/api/service-centers","ConnectionId":"0HNG012VITC4L"}
[2025-09-30 17:05:39.880 +07:00 WRN] Business rule violation: Mã trung tâm 'EVSC-HCM-Q1' đã tồn tại trong hệ thống {"SourceContext":"EVServiceCenter.API.Middleware.GlobalExceptionHandler","RequestId":"0HNG012VITC4L:00000001","RequestPath":"/api/service-centers","ConnectionId":"0HNG012VITC4L"}
EVServiceCenter.Core.Exceptions.BusinessRuleException: Mã trung tâm 'EVSC-HCM-Q1' đã tồn tại trong hệ thống
   at EVServiceCenter.Infrastructure.Domains.ServiceCenters.Services.ServiceCenterService.CreateAsync(CreateServiceCenterRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\ServiceCenters\Services\ServiceCenterService.cs:line 62
   at EVServiceCenter.API.Controllers.ServiceCenters.ServiceCenterController.Create(CreateServiceCenterRequestDto request, CancellationToken ct) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\ServiceCenters\ServiceCenterController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at EVServiceCenter.API.Middleware.PasswordResetRateLimitMiddleware.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\PasswordResetRateLimitMiddleware.cs:line 31
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_11>d.MoveNext() in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Program.cs:line 208
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at EVServiceCenter.API.Middleware.GlobalExceptionHandler.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\GlobalExceptionHandler.cs:line 21
[2025-09-30 17:05:49.545 +07:00 INF] Request: POST /api/service-centers {"SourceContext":"Program","RequestId":"0HNG012VITC4L:00000003","RequestPath":"/api/service-centers","ConnectionId":"0HNG012VITC4L"}
[2025-09-30 17:05:58.658 +07:00 INF] Request: POST /api/service-centers {"SourceContext":"Program","RequestId":"0HNG012VITC4L:00000005","RequestPath":"/api/service-centers","ConnectionId":"0HNG012VITC4L"}
[2025-09-30 17:06:01.623 +07:00 WRN] Business rule violation: Mã trung tâm 'EVSC-HCM-Q1' đã tồn tại trong hệ thống {"SourceContext":"EVServiceCenter.API.Middleware.GlobalExceptionHandler","RequestId":"0HNG012VITC4L:00000005","RequestPath":"/api/service-centers","ConnectionId":"0HNG012VITC4L"}
EVServiceCenter.Core.Exceptions.BusinessRuleException: Mã trung tâm 'EVSC-HCM-Q1' đã tồn tại trong hệ thống
   at EVServiceCenter.Infrastructure.Domains.ServiceCenters.Services.ServiceCenterService.CreateAsync(CreateServiceCenterRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\ServiceCenters\Services\ServiceCenterService.cs:line 62
   at EVServiceCenter.API.Controllers.ServiceCenters.ServiceCenterController.Create(CreateServiceCenterRequestDto request, CancellationToken ct) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\ServiceCenters\ServiceCenterController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at EVServiceCenter.API.Middleware.PasswordResetRateLimitMiddleware.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\PasswordResetRateLimitMiddleware.cs:line 31
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_11>d.MoveNext() in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Program.cs:line 208
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at EVServiceCenter.API.Middleware.GlobalExceptionHandler.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\GlobalExceptionHandler.cs:line 21
[2025-09-30 17:09:03.118 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 17:09:03.173 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 17:09:03.242 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 17:09:03.251 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 17:09:03.258 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 17:09:03.615 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNG015GV244G:00000001","RequestPath":"/","ConnectionId":"0HNG015GV244G"}
[2025-09-30 17:09:43.815 +07:00 INF] Request: PUT /api/service-centers/1 {"SourceContext":"Program","RequestId":"0HNG015GV244G:00000009","RequestPath":"/api/service-centers/1","ConnectionId":"0HNG015GV244G"}
[2025-09-30 17:10:26.523 +07:00 INF] Request: PUT /api/service-centers/1 {"SourceContext":"Program","RequestId":"0HNG015GV244G:0000000B","RequestPath":"/api/service-centers/1","ConnectionId":"0HNG015GV244G"}
[2025-09-30 17:10:29.044 +07:00 WRN] Business rule violation: Mã trung tâm 'EVSC-HCM-BT' đã được sử dụng bởi trung tâm khác {"SourceContext":"EVServiceCenter.API.Middleware.GlobalExceptionHandler","RequestId":"0HNG015GV244G:0000000B","RequestPath":"/api/service-centers/1","ConnectionId":"0HNG015GV244G"}
EVServiceCenter.Core.Exceptions.BusinessRuleException: Mã trung tâm 'EVSC-HCM-BT' đã được sử dụng bởi trung tâm khác
   at EVServiceCenter.Infrastructure.Domains.ServiceCenters.Services.ServiceCenterService.UpdateAsync(UpdateServiceCenterRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\ServiceCenters\Services\ServiceCenterService.cs:line 92
   at EVServiceCenter.API.Controllers.ServiceCenters.ServiceCenterController.Update(Int32 id, UpdateServiceCenterRequestDto request, CancellationToken ct) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\ServiceCenters\ServiceCenterController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at EVServiceCenter.API.Middleware.PasswordResetRateLimitMiddleware.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\PasswordResetRateLimitMiddleware.cs:line 31
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_11>d.MoveNext() in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Program.cs:line 208
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at EVServiceCenter.API.Middleware.GlobalExceptionHandler.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\GlobalExceptionHandler.cs:line 21
[2025-09-30 17:11:50.596 +07:00 INF] Request: PUT /api/service-centers/1 {"SourceContext":"Program","RequestId":"0HNG015GV244H:00000001","RequestPath":"/api/service-centers/1","ConnectionId":"0HNG015GV244H"}
[2025-09-30 17:11:54.214 +07:00 WRN] Business rule violation: Mã trung tâm 'EVSC-HCM-BT' đã được sử dụng bởi trung tâm khác {"SourceContext":"EVServiceCenter.API.Middleware.GlobalExceptionHandler","RequestId":"0HNG015GV244H:00000001","RequestPath":"/api/service-centers/1","ConnectionId":"0HNG015GV244H"}
EVServiceCenter.Core.Exceptions.BusinessRuleException: Mã trung tâm 'EVSC-HCM-BT' đã được sử dụng bởi trung tâm khác
   at EVServiceCenter.Infrastructure.Domains.ServiceCenters.Services.ServiceCenterService.UpdateAsync(UpdateServiceCenterRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\ServiceCenters\Services\ServiceCenterService.cs:line 92
   at EVServiceCenter.API.Controllers.ServiceCenters.ServiceCenterController.Update(Int32 id, UpdateServiceCenterRequestDto request, CancellationToken ct) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\ServiceCenters\ServiceCenterController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at EVServiceCenter.API.Middleware.PasswordResetRateLimitMiddleware.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\PasswordResetRateLimitMiddleware.cs:line 31
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_11>d.MoveNext() in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Program.cs:line 208
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at EVServiceCenter.API.Middleware.GlobalExceptionHandler.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\GlobalExceptionHandler.cs:line 21
[2025-09-30 17:12:13.770 +07:00 INF] Request: PUT /api/service-centers/1 {"SourceContext":"Program","RequestId":"0HNG015GV244H:00000003","RequestPath":"/api/service-centers/1","ConnectionId":"0HNG015GV244H"}
[2025-09-30 17:12:37.898 +07:00 INF] Request: DELETE /api/service-centers/4 {"SourceContext":"Program","RequestId":"0HNG015GV244H:00000005","RequestPath":"/api/service-centers/4","ConnectionId":"0HNG015GV244H"}
[2025-09-30 17:12:37.968 +07:00 ERR] An exception occurred while iterating over the results of a query for context type 'EVServiceCenter.Core.Entities.EVDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"f919148d-d24a-4652-95c8-d7a05479d970","ActionName":"EVServiceCenter.API.Controllers.ServiceCenters.ServiceCenterController.Delete (EVServiceCenter.API)","RequestId":"0HNG015GV244H:00000005","RequestPath":"/api/service-centers/4","ConnectionId":"0HNG015GV244H"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-09-30 17:12:52.309 +07:00 WRN] Invalid operation: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913. {"SourceContext":"EVServiceCenter.API.Middleware.GlobalExceptionHandler","RequestId":"0HNG015GV244H:00000005","RequestPath":"/api/service-centers/4","ConnectionId":"0HNG015GV244H"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.ServiceCenters.Repositories.ServiceCenterRepository.CanDeleteAsync(Int32 centerId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\ServiceCenters\Repositories\ServiceCenterRepository.cs:line 61
   at EVServiceCenter.Infrastructure.Domains.ServiceCenters.Services.ServiceCenterService.DeleteAsync(Int32 centerId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\ServiceCenters\Services\ServiceCenterService.cs:line 110
   at EVServiceCenter.API.Controllers.ServiceCenters.ServiceCenterController.Delete(Int32 id, CancellationToken ct) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\ServiceCenters\ServiceCenterController.cs:line 105
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at EVServiceCenter.API.Middleware.PasswordResetRateLimitMiddleware.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\PasswordResetRateLimitMiddleware.cs:line 31
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_11>d.MoveNext() in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Program.cs:line 208
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at EVServiceCenter.API.Middleware.GlobalExceptionHandler.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\GlobalExceptionHandler.cs:line 21
[2025-09-30 17:13:46.267 +07:00 INF] Request: DELETE /api/users/4 {"SourceContext":"Program","RequestId":"0HNG015GV244H:00000007","RequestPath":"/api/users/4","ConnectionId":"0HNG015GV244H"}
[2025-09-30 17:14:02.874 +07:00 INF] Request: DELETE /api/service-centers/4 {"SourceContext":"Program","RequestId":"0HNG015GV244H:00000009","RequestPath":"/api/service-centers/4","ConnectionId":"0HNG015GV244H"}
[2025-09-30 17:14:02.891 +07:00 ERR] An exception occurred while iterating over the results of a query for context type 'EVServiceCenter.Core.Entities.EVDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"f919148d-d24a-4652-95c8-d7a05479d970","ActionName":"EVServiceCenter.API.Controllers.ServiceCenters.ServiceCenterController.Delete (EVServiceCenter.API)","RequestId":"0HNG015GV244H:00000009","RequestPath":"/api/service-centers/4","ConnectionId":"0HNG015GV244H"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-09-30 17:16:11.826 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 17:16:11.930 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 17:16:12.025 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 17:16:12.035 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 17:16:12.040 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 17:16:12.745 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNG019GRFICO:00000001","RequestPath":"/","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:16:35.870 +07:00 INF] Request: DELETE /api/service-centers/4 {"SourceContext":"Program","RequestId":"0HNG019GRFICO:00000009","RequestPath":"/api/service-centers/4","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:16:48.244 +07:00 INF] Request: DELETE /api/service-centers/4 {"SourceContext":"Program","RequestId":"0HNG019GRFICO:0000000B","RequestPath":"/api/service-centers/4","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:17:06.799 +07:00 INF] Request: GET /api/service-centers/by-code/EVSC-HCM-Q1%22 {"SourceContext":"Program","RequestId":"0HNG019GRFICO:0000000D","RequestPath":"/api/service-centers/by-code/EVSC-HCM-Q1%22","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:17:09.469 +07:00 INF] Request: GET /api/service-centers/by-code/EVSC-HCM-Q1 {"SourceContext":"Program","RequestId":"0HNG019GRFICO:0000000F","RequestPath":"/api/service-centers/by-code/EVSC-HCM-Q1","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:17:18.778 +07:00 INF] Request: GET /api/service-centers/1/can-delete {"SourceContext":"Program","RequestId":"0HNG019GRFICO:00000011","RequestPath":"/api/service-centers/1/can-delete","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:17:27.959 +07:00 INF] Request: GET /api/service-centers {"SourceContext":"Program","RequestId":"0HNG019GRFICO:00000013","RequestPath":"/api/service-centers","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:17:46.906 +07:00 INF] Request: GET /api/service-centers/by-province/H%C3%A0%20N%E1%BB%99i {"SourceContext":"Program","RequestId":"0HNG019GRFICO:00000015","RequestPath":"/api/service-centers/by-province/H%C3%A0%20N%E1%BB%99i","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:18:10.224 +07:00 INF] Request: GET /api/service-centers/active {"SourceContext":"Program","RequestId":"0HNG019GRFICO:00000017","RequestPath":"/api/service-centers/active","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:18:16.030 +07:00 INF] Request: GET /api/service-centers/active {"SourceContext":"Program","RequestId":"0HNG019GRFICO:00000019","RequestPath":"/api/service-centers/active","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:18:16.650 +07:00 INF] Request: GET /api/service-centers/active {"SourceContext":"Program","RequestId":"0HNG019GRFICO:0000001B","RequestPath":"/api/service-centers/active","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:19:02.638 +07:00 INF] Request: GET /api/service-centers/search {"SourceContext":"Program","RequestId":"0HNG019GRFICO:0000001D","RequestPath":"/api/service-centers/search","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:19:39.277 +07:00 INF] Request: GET /api/service-centers/search {"SourceContext":"Program","RequestId":"0HNG019GRFICO:0000001F","RequestPath":"/api/service-centers/search","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:20:03.788 +07:00 INF] Request: GET /api/service-centers/1/availability {"SourceContext":"Program","RequestId":"0HNG019GRFICO:00000021","RequestPath":"/api/service-centers/1/availability","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:20:28.953 +07:00 INF] Request: GET /api/service-centers/available {"SourceContext":"Program","RequestId":"0HNG019GRFICO:00000023","RequestPath":"/api/service-centers/available","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:20:45.765 +07:00 INF] Request: GET /api/service-centers/1/statistics {"SourceContext":"Program","RequestId":"0HNG019GRFICO:00000025","RequestPath":"/api/service-centers/1/statistics","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:20:45.841 +07:00 ERR] An exception occurred while iterating over the results of a query for context type 'EVServiceCenter.Core.Entities.EVDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"7162d69d-6204-4c40-8641-5400d3f7e6bf","ActionName":"EVServiceCenter.API.Controllers.ServiceCenters.ServiceCenterStatisticsController.GetCenterStats (EVServiceCenter.API)","RequestId":"0HNG019GRFICO:00000025","RequestPath":"/api/service-centers/1/statistics","ConnectionId":"0HNG019GRFICO"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-09-30 17:20:46.086 +07:00 ERR] An exception occurred while iterating over the results of a query for context type 'EVServiceCenter.Core.Entities.EVDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"7162d69d-6204-4c40-8641-5400d3f7e6bf","ActionName":"EVServiceCenter.API.Controllers.ServiceCenters.ServiceCenterStatisticsController.GetCenterStats (EVServiceCenter.API)","RequestId":"0HNG019GRFICO:00000025","RequestPath":"/api/service-centers/1/statistics","ConnectionId":"0HNG019GRFICO"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-09-30 17:22:53.141 +07:00 WRN] Invalid operation: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913. {"SourceContext":"EVServiceCenter.API.Middleware.GlobalExceptionHandler","RequestId":"0HNG019GRFICO:00000025","RequestPath":"/api/service-centers/1/statistics","ConnectionId":"0HNG019GRFICO"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToDictionaryAsync[TSource,TKey,TElement](IQueryable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToDictionaryAsync[TSource,TKey,TElement](IQueryable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.ServiceCenters.Repositories.ServiceCenterStatisticsRepository.GetWorkOrderCountsAsync(IEnumerable`1 centerIds, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\ServiceCenters\Repositories\ServiceCenterStatisticsRepository.cs:line 39
   at EVServiceCenter.Infrastructure.Domains.ServiceCenters.Services.ServiceCenterStatisticsService.GetCenterStatisticsAsync(Int32 centerId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\ServiceCenters\Services\ServiceCenterStatisticsService.cs:line 51
   at EVServiceCenter.API.Controllers.ServiceCenters.ServiceCenterStatisticsController.GetCenterStats(Int32 id, CancellationToken ct) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\ServiceCenters\ServiceCenterStatisticsController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at EVServiceCenter.API.Middleware.PasswordResetRateLimitMiddleware.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\PasswordResetRateLimitMiddleware.cs:line 31
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_11>d.MoveNext() in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Program.cs:line 208
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at EVServiceCenter.API.Middleware.GlobalExceptionHandler.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\GlobalExceptionHandler.cs:line 21
[2025-09-30 17:23:29.614 +07:00 INF] Request: GET /api/service-centers/1/statistics {"SourceContext":"Program","RequestId":"0HNG019GRFICO:00000027","RequestPath":"/api/service-centers/1/statistics","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:23:36.128 +07:00 INF] Request: GET /api/service-centers/1/statistics {"SourceContext":"Program","RequestId":"0HNG019GRFICO:00000029","RequestPath":"/api/service-centers/1/statistics","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:25:03.894 +07:00 INF] Request: POST /api/auth/login {"SourceContext":"Program","RequestId":"0HNG019GRFICO:0000002B","RequestPath":"/api/auth/login","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:25:05.033 +07:00 INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService","ActionId":"b725dd7f-80ca-4973-83f6-2f0a9b1909fa","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNG019GRFICO:0000002B","RequestPath":"/api/auth/login","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:25:08.990 +07:00 INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.EmailService","ActionId":"b725dd7f-80ca-4973-83f6-2f0a9b1909fa","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNG019GRFICO:0000002B","RequestPath":"/api/auth/login","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:25:22.659 +07:00 INF] Request: GET /api/service-centers/1/statistics {"SourceContext":"Program","RequestId":"0HNG019GRFICO:0000002D","RequestPath":"/api/service-centers/1/statistics","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:25:22.703 +07:00 ERR] An exception occurred while iterating over the results of a query for context type 'EVServiceCenter.Core.Entities.EVDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"7162d69d-6204-4c40-8641-5400d3f7e6bf","ActionName":"EVServiceCenter.API.Controllers.ServiceCenters.ServiceCenterStatisticsController.GetCenterStats (EVServiceCenter.API)","RequestId":"0HNG019GRFICO:0000002D","RequestPath":"/api/service-centers/1/statistics","ConnectionId":"0HNG019GRFICO"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-09-30 17:25:22.821 +07:00 ERR] An exception occurred while iterating over the results of a query for context type 'EVServiceCenter.Core.Entities.EVDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"7162d69d-6204-4c40-8641-5400d3f7e6bf","ActionName":"EVServiceCenter.API.Controllers.ServiceCenters.ServiceCenterStatisticsController.GetCenterStats (EVServiceCenter.API)","RequestId":"0HNG019GRFICO:0000002D","RequestPath":"/api/service-centers/1/statistics","ConnectionId":"0HNG019GRFICO"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-09-30 17:26:42.441 +07:00 WRN] Invalid operation: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913. {"SourceContext":"EVServiceCenter.API.Middleware.GlobalExceptionHandler","RequestId":"0HNG019GRFICO:0000002D","RequestPath":"/api/service-centers/1/statistics","ConnectionId":"0HNG019GRFICO"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToDictionaryAsync[TSource,TKey,TElement](IQueryable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToDictionaryAsync[TSource,TKey,TElement](IQueryable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.ServiceCenters.Repositories.ServiceCenterStatisticsRepository.GetWorkOrderCountsAsync(IEnumerable`1 centerIds, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.ServiceCenters.Services.ServiceCenterStatisticsService.GetCenterStatisticsAsync(Int32 centerId, CancellationToken cancellationToken)
   at EVServiceCenter.API.Controllers.ServiceCenters.ServiceCenterStatisticsController.GetCenterStats(Int32 id, CancellationToken ct) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\ServiceCenters\ServiceCenterStatisticsController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at EVServiceCenter.API.Middleware.PasswordResetRateLimitMiddleware.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\PasswordResetRateLimitMiddleware.cs:line 31
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_11>d.MoveNext() in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Program.cs:line 208
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at EVServiceCenter.API.Middleware.GlobalExceptionHandler.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\GlobalExceptionHandler.cs:line 21
[2025-09-30 17:27:22.799 +07:00 INF] Request: GET /api/service-centers/statistics {"SourceContext":"Program","RequestId":"0HNG019GRFICO:00000037","RequestPath":"/api/service-centers/statistics","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:27:54.006 +07:00 INF] Request: POST /api/auth/login {"SourceContext":"Program","RequestId":"0HNG019GRFICO:00000039","RequestPath":"/api/auth/login","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:27:54.248 +07:00 INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService","ActionId":"fb6442d4-97a9-4132-a462-313582dd5de9","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNG019GRFICO:00000039","RequestPath":"/api/auth/login","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:27:57.954 +07:00 INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.EmailService","ActionId":"fb6442d4-97a9-4132-a462-313582dd5de9","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNG019GRFICO:00000039","RequestPath":"/api/auth/login","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:28:10.480 +07:00 INF] Request: GET /api/service-centers/statistics {"SourceContext":"Program","RequestId":"0HNG019GRFICO:0000003B","RequestPath":"/api/service-centers/statistics","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:28:17.953 +07:00 INF] Request: GET /api/service-centers/2/statistics {"SourceContext":"Program","RequestId":"0HNG019GRFICO:0000003D","RequestPath":"/api/service-centers/2/statistics","ConnectionId":"0HNG019GRFICO"}
[2025-09-30 17:28:17.995 +07:00 ERR] An exception occurred while iterating over the results of a query for context type 'EVServiceCenter.Core.Entities.EVDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"6aed8f12-5bb3-4c36-b116-c2144ed1b7de","ActionName":"EVServiceCenter.API.Controllers.ServiceCenters.ServiceCenterStatisticsController.GetCenterStats (EVServiceCenter.API)","RequestId":"0HNG019GRFICO:0000003D","RequestPath":"/api/service-centers/2/statistics","ConnectionId":"0HNG019GRFICO"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-09-30 17:28:18.061 +07:00 ERR] An exception occurred while iterating over the results of a query for context type 'EVServiceCenter.Core.Entities.EVDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"6aed8f12-5bb3-4c36-b116-c2144ed1b7de","ActionName":"EVServiceCenter.API.Controllers.ServiceCenters.ServiceCenterStatisticsController.GetCenterStats (EVServiceCenter.API)","RequestId":"0HNG019GRFICO:0000003D","RequestPath":"/api/service-centers/2/statistics","ConnectionId":"0HNG019GRFICO"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-09-30 17:33:33.256 +07:00 WRN] Invalid operation: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913. {"SourceContext":"EVServiceCenter.API.Middleware.GlobalExceptionHandler","RequestId":"0HNG019GRFICO:0000003D","RequestPath":"/api/service-centers/2/statistics","ConnectionId":"0HNG019GRFICO"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToDictionaryAsync[TSource,TKey,TElement](IQueryable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToDictionaryAsync[TSource,TKey,TElement](IQueryable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.ServiceCenters.Repositories.ServiceCenterStatisticsRepository.GetWorkOrderCountsAsync(IEnumerable`1 centerIds, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.ServiceCenters.Services.ServiceCenterStatisticsService.GetCenterStatisticsAsync(Int32 centerId, CancellationToken cancellationToken)
   at EVServiceCenter.API.Controllers.ServiceCenters.ServiceCenterStatisticsController.GetCenterStats(Int32 id, CancellationToken ct) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\ServiceCenters\ServiceCenterStatisticsController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at EVServiceCenter.API.Middleware.PasswordResetRateLimitMiddleware.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\PasswordResetRateLimitMiddleware.cs:line 31
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_11>d.MoveNext() in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Program.cs:line 208
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at EVServiceCenter.API.Middleware.GlobalExceptionHandler.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\GlobalExceptionHandler.cs:line 21
[2025-09-30 17:33:49.068 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 17:33:49.117 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 17:33:49.193 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 17:33:49.200 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 17:33:49.206 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 17:33:50.035 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNG01JBU2FH4:00000001","RequestPath":"/","ConnectionId":"0HNG01JBU2FH4"}
[2025-09-30 17:34:11.372 +07:00 INF] Request: GET /api/service-centers/1/statistics {"SourceContext":"Program","RequestId":"0HNG01JBU2FH4:00000009","RequestPath":"/api/service-centers/1/statistics","ConnectionId":"0HNG01JBU2FH4"}
[2025-09-30 17:34:20.627 +07:00 INF] Request: GET /api/service-centers/2/statistics {"SourceContext":"Program","RequestId":"0HNG01JBU2FH4:0000000B","RequestPath":"/api/service-centers/2/statistics","ConnectionId":"0HNG01JBU2FH4"}
[2025-09-30 17:34:23.014 +07:00 INF] Request: GET /api/service-centers/1/statistics {"SourceContext":"Program","RequestId":"0HNG01JBU2FH4:0000000D","RequestPath":"/api/service-centers/1/statistics","ConnectionId":"0HNG01JBU2FH4"}
[2025-09-30 17:34:23.590 +07:00 INF] Request: GET /api/service-centers/1/statistics {"SourceContext":"Program","RequestId":"0HNG01JBU2FH4:0000000F","RequestPath":"/api/service-centers/1/statistics","ConnectionId":"0HNG01JBU2FH4"}
[2025-09-30 17:34:24.056 +07:00 INF] Request: GET /api/service-centers/1/statistics {"SourceContext":"Program","RequestId":"0HNG01JBU2FH4:00000011","RequestPath":"/api/service-centers/1/statistics","ConnectionId":"0HNG01JBU2FH4"}
[2025-09-30 22:11:13.605 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 22:11:13.673 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 22:11:13.794 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 22:11:13.883 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 22:11:13.889 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 22:11:14.526 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNG06EC90TC8:00000001","RequestPath":"/","ConnectionId":"0HNG06EC90TC8"}
[2025-09-30 22:12:37.063 +07:00 INF] Request: GET /api/car-brands {"SourceContext":"Program","RequestId":"0HNG06EC90TCA:00000001","RequestPath":"/api/car-brands","ConnectionId":"0HNG06EC90TCA"}
[2025-09-30 22:13:01.143 +07:00 INF] Request: POST /api/auth/login {"SourceContext":"Program","RequestId":"0HNG06EC90TCB:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNG06EC90TCB"}
[2025-09-30 22:13:05.742 +07:00 INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService","ActionId":"88611fe8-fd40-426b-bdc5-79e8a35b5740","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNG06EC90TCB:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNG06EC90TCB"}
[2025-09-30 22:13:10.339 +07:00 INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.EmailService","ActionId":"88611fe8-fd40-426b-bdc5-79e8a35b5740","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNG06EC90TCB:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNG06EC90TCB"}
[2025-09-30 22:13:36.185 +07:00 INF] Request: GET /api/car-brands {"SourceContext":"Program","RequestId":"0HNG06EC90TCA:00000002","RequestPath":"/api/car-brands","ConnectionId":"0HNG06EC90TCA"}
[2025-09-30 22:13:44.109 +07:00 INF] Request: GET /api/car-brands {"SourceContext":"Program","RequestId":"0HNG06EC90TCA:00000003","RequestPath":"/api/car-brands","ConnectionId":"0HNG06EC90TCA"}
[2025-09-30 22:13:53.912 +07:00 INF] Request: GET /api/car-brands {"SourceContext":"Program","RequestId":"0HNG06EC90TCA:00000004","RequestPath":"/api/car-brands","ConnectionId":"0HNG06EC90TCA"}
[2025-09-30 22:14:56.361 +07:00 INF] Request: GET /api/car-brands {"SourceContext":"Program","RequestId":"0HNG06EC90TCD:00000001","RequestPath":"/api/car-brands","ConnectionId":"0HNG06EC90TCD"}
[2025-09-30 22:14:56.759 +07:00 ERR] An exception occurred while iterating over the results of a query for context type 'EVServiceCenter.Core.Entities.EVDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"0fddcfae-50af-4d48-8104-d334a39e0172","ActionName":"EVServiceCenter.API.Controllers.CarBrands.CarBrandQueryController.GetAll (EVServiceCenter.API)","RequestId":"0HNG06EC90TCD:00000001","RequestPath":"/api/car-brands","ConnectionId":"0HNG06EC90TCD"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-09-30 22:15:02.243 +07:00 ERR] Error getting all brands {"SourceContext":"EVServiceCenter.API.Controllers.CarBrands.CarBrandQueryController","ActionId":"0fddcfae-50af-4d48-8104-d334a39e0172","ActionName":"EVServiceCenter.API.Controllers.CarBrands.CarBrandQueryController.GetAll (EVServiceCenter.API)","RequestId":"0HNG06EC90TCD:00000001","RequestPath":"/api/car-brands","ConnectionId":"0HNG06EC90TCD"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToDictionaryAsync[TSource,TKey,TElement](IQueryable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToDictionaryAsync[TSource,TKey,TElement](IQueryable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CarBrands.Repositories.CarBrandStatisticsRepository.GetActiveModelCountsAsync(IEnumerable`1 brandIds, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CarBrands\Repositories\CarBrandStatisticsRepository.cs:line 40
   at EVServiceCenter.Application.Domains.CarBrands.Services.CarBrandQueryService.GetBatchStatsAsync(List`1 brandIds, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CarBrands\Services\CarBrandQueryService.cs:line 134
   at EVServiceCenter.Application.Domains.CarBrands.Services.CarBrandQueryService.MapToDtosAsync(List`1 brands, Boolean includeStats, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CarBrands\Services\CarBrandQueryService.cs:line 117
   at EVServiceCenter.Application.Domains.CarBrands.Services.CarBrandQueryService.GetAllAsync(CarBrandQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CarBrands\Services\CarBrandQueryService.cs:line 53
   at EVServiceCenter.API.Controllers.CarBrands.CarBrandQueryController.GetAll(CarBrandQueryDto query, CancellationToken ct) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\CarBrands\CarBrandQueryController.cs:line 51
[2025-09-30 22:15:54.621 +07:00 INF] Request: GET /api/car-brands {"SourceContext":"Program","RequestId":"0HNG06EC90TCB:00000003","RequestPath":"/api/car-brands","ConnectionId":"0HNG06EC90TCB"}
[2025-09-30 22:16:19.144 +07:00 INF] Request: GET /api/car-brands {"SourceContext":"Program","RequestId":"0HNG06EC90TCB:00000005","RequestPath":"/api/car-brands","ConnectionId":"0HNG06EC90TCB"}
[2025-09-30 22:16:19.414 +07:00 ERR] An exception occurred while iterating over the results of a query for context type 'EVServiceCenter.Core.Entities.EVDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"0fddcfae-50af-4d48-8104-d334a39e0172","ActionName":"EVServiceCenter.API.Controllers.CarBrands.CarBrandQueryController.GetAll (EVServiceCenter.API)","RequestId":"0HNG06EC90TCB:00000005","RequestPath":"/api/car-brands","ConnectionId":"0HNG06EC90TCB"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-09-30 22:16:20.173 +07:00 ERR] Error getting all brands {"SourceContext":"EVServiceCenter.API.Controllers.CarBrands.CarBrandQueryController","ActionId":"0fddcfae-50af-4d48-8104-d334a39e0172","ActionName":"EVServiceCenter.API.Controllers.CarBrands.CarBrandQueryController.GetAll (EVServiceCenter.API)","RequestId":"0HNG06EC90TCB:00000005","RequestPath":"/api/car-brands","ConnectionId":"0HNG06EC90TCB"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToDictionaryAsync[TSource,TKey,TElement](IQueryable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToDictionaryAsync[TSource,TKey,TElement](IQueryable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CarBrands.Repositories.CarBrandStatisticsRepository.GetActiveModelCountsAsync(IEnumerable`1 brandIds, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CarBrands\Repositories\CarBrandStatisticsRepository.cs:line 40
   at EVServiceCenter.Application.Domains.CarBrands.Services.CarBrandQueryService.GetBatchStatsAsync(List`1 brandIds, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CarBrands\Services\CarBrandQueryService.cs:line 134
   at EVServiceCenter.Application.Domains.CarBrands.Services.CarBrandQueryService.MapToDtosAsync(List`1 brands, Boolean includeStats, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CarBrands\Services\CarBrandQueryService.cs:line 117
   at EVServiceCenter.Application.Domains.CarBrands.Services.CarBrandQueryService.GetAllAsync(CarBrandQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CarBrands\Services\CarBrandQueryService.cs:line 53
   at EVServiceCenter.API.Controllers.CarBrands.CarBrandQueryController.GetAll(CarBrandQueryDto query, CancellationToken ct) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\CarBrands\CarBrandQueryController.cs:line 51
[2025-09-30 22:17:27.560 +07:00 INF] Request: GET /api/car-brands {"SourceContext":"Program","RequestId":"0HNG06EC90TCB:00000007","RequestPath":"/api/car-brands","ConnectionId":"0HNG06EC90TCB"}
[2025-09-30 22:17:34.489 +07:00 ERR] An exception occurred while iterating over the results of a query for context type 'EVServiceCenter.Core.Entities.EVDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"0fddcfae-50af-4d48-8104-d334a39e0172","ActionName":"EVServiceCenter.API.Controllers.CarBrands.CarBrandQueryController.GetAll (EVServiceCenter.API)","RequestId":"0HNG06EC90TCB:00000007","RequestPath":"/api/car-brands","ConnectionId":"0HNG06EC90TCB"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-09-30 22:19:16.555 +07:00 ERR] Error getting all brands {"SourceContext":"EVServiceCenter.API.Controllers.CarBrands.CarBrandQueryController","ActionId":"0fddcfae-50af-4d48-8104-d334a39e0172","ActionName":"EVServiceCenter.API.Controllers.CarBrands.CarBrandQueryController.GetAll (EVServiceCenter.API)","RequestId":"0HNG06EC90TCB:00000007","RequestPath":"/api/car-brands","ConnectionId":"0HNG06EC90TCB"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToDictionaryAsync[TSource,TKey,TElement](IQueryable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToDictionaryAsync[TSource,TKey,TElement](IQueryable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CarBrands.Repositories.CarBrandStatisticsRepository.GetActiveModelCountsAsync(IEnumerable`1 brandIds, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CarBrands\Repositories\CarBrandStatisticsRepository.cs:line 40
   at EVServiceCenter.Application.Domains.CarBrands.Services.CarBrandQueryService.GetBatchStatsAsync(List`1 brandIds, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CarBrands\Services\CarBrandQueryService.cs:line 134
   at EVServiceCenter.Application.Domains.CarBrands.Services.CarBrandQueryService.MapToDtosAsync(List`1 brands, Boolean includeStats, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CarBrands\Services\CarBrandQueryService.cs:line 117
   at EVServiceCenter.Application.Domains.CarBrands.Services.CarBrandQueryService.GetAllAsync(CarBrandQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CarBrands\Services\CarBrandQueryService.cs:line 53
   at EVServiceCenter.API.Controllers.CarBrands.CarBrandQueryController.GetAll(CarBrandQueryDto query, CancellationToken ct) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\CarBrands\CarBrandQueryController.cs:line 51
[2025-09-30 22:19:19.523 +07:00 INF] Request: GET /api/car-brands {"SourceContext":"Program","RequestId":"0HNG06EC90TCB:00000009","RequestPath":"/api/car-brands","ConnectionId":"0HNG06EC90TCB"}
[2025-09-30 22:19:47.674 +07:00 ERR] An exception occurred while iterating over the results of a query for context type 'EVServiceCenter.Core.Entities.EVDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"0fddcfae-50af-4d48-8104-d334a39e0172","ActionName":"EVServiceCenter.API.Controllers.CarBrands.CarBrandQueryController.GetAll (EVServiceCenter.API)","RequestId":"0HNG06EC90TCB:00000009","RequestPath":"/api/car-brands","ConnectionId":"0HNG06EC90TCB"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-09-30 22:19:48.061 +07:00 ERR] Error getting all brands {"SourceContext":"EVServiceCenter.API.Controllers.CarBrands.CarBrandQueryController","ActionId":"0fddcfae-50af-4d48-8104-d334a39e0172","ActionName":"EVServiceCenter.API.Controllers.CarBrands.CarBrandQueryController.GetAll (EVServiceCenter.API)","RequestId":"0HNG06EC90TCB:00000009","RequestPath":"/api/car-brands","ConnectionId":"0HNG06EC90TCB"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToDictionaryAsync[TSource,TKey,TElement](IQueryable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToDictionaryAsync[TSource,TKey,TElement](IQueryable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CarBrands.Repositories.CarBrandStatisticsRepository.GetActiveModelCountsAsync(IEnumerable`1 brandIds, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CarBrands\Repositories\CarBrandStatisticsRepository.cs:line 40
   at EVServiceCenter.Application.Domains.CarBrands.Services.CarBrandQueryService.GetBatchStatsAsync(List`1 brandIds, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CarBrands\Services\CarBrandQueryService.cs:line 134
   at EVServiceCenter.Application.Domains.CarBrands.Services.CarBrandQueryService.MapToDtosAsync(List`1 brands, Boolean includeStats, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CarBrands\Services\CarBrandQueryService.cs:line 117
   at EVServiceCenter.Application.Domains.CarBrands.Services.CarBrandQueryService.GetAllAsync(CarBrandQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CarBrands\Services\CarBrandQueryService.cs:line 53
   at EVServiceCenter.API.Controllers.CarBrands.CarBrandQueryController.GetAll(CarBrandQueryDto query, CancellationToken ct) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\CarBrands\CarBrandQueryController.cs:line 51
[2025-09-30 22:27:55.297 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 22:27:55.614 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 22:27:55.878 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 22:27:55.886 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 22:27:55.895 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 22:27:55.970 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNG06NMNHA5S:00000001","RequestPath":"/","ConnectionId":"0HNG06NMNHA5S"}
[2025-09-30 22:28:00.501 +07:00 INF] Request: GET /api/car-brands {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:00000001","RequestPath":"/api/car-brands","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:28:47.982 +07:00 INF] Request: GET /api/car-brands {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:00000002","RequestPath":"/api/car-brands","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:29:26.915 +07:00 INF] Request: GET /api/car-brands {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:00000003","RequestPath":"/api/car-brands","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:29:46.954 +07:00 INF] Request: GET /api/car-brands/search {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:00000004","RequestPath":"/api/car-brands/search","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:30:03.141 +07:00 INF] Request: GET /api/car-brands/active {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:00000005","RequestPath":"/api/car-brands/active","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:30:43.268 +07:00 INF] Request: GET /api/car-brands/by-country/China {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:00000006","RequestPath":"/api/car-brands/by-country/China","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:30:58.412 +07:00 INF] Request: GET /api/car-brands/by-country/China {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:00000007","RequestPath":"/api/car-brands/by-country/China","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:31:03.114 +07:00 INF] Request: GET /api/car-brands/by-country/China {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:00000008","RequestPath":"/api/car-brands/by-country/China","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:31:04.997 +07:00 INF] Request: GET /api/car-brands/by-country/China {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:00000009","RequestPath":"/api/car-brands/by-country/China","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:31:10.649 +07:00 INF] Request: GET /api/car-brands/by-country/China {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:0000000A","RequestPath":"/api/car-brands/by-country/China","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:31:15.612 +07:00 INF] Request: GET /api/car-brands/by-country/China {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:0000000B","RequestPath":"/api/car-brands/by-country/China","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:31:17.401 +07:00 INF] Request: GET /api/car-brands/by-country/China {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:0000000C","RequestPath":"/api/car-brands/by-country/China","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:31:22.916 +07:00 INF] Request: GET /api/car-brands/by-country/China {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:0000000D","RequestPath":"/api/car-brands/by-country/China","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:31:24.456 +07:00 INF] Request: GET /api/car-brands/by-country/China {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:0000000E","RequestPath":"/api/car-brands/by-country/China","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:31:26.294 +07:00 INF] Request: GET /api/car-brands/by-country/China {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:0000000F","RequestPath":"/api/car-brands/by-country/China","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:32:20.612 +07:00 INF] Request: GET /api/car-brands/1 {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:00000010","RequestPath":"/api/car-brands/1","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:32:25.635 +07:00 INF] Request: GET /api/car-brands/1 {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:00000011","RequestPath":"/api/car-brands/1","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:33:07.943 +07:00 INF] Request: POST /api/car-brands {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:00000012","RequestPath":"/api/car-brands","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:33:08.219 +07:00 INF] Car brand created: Lucid Motors {"SourceContext":"EVServiceCenter.Application.Domains.CarBrands.Services.CarBrandService","ActionId":"6cab8abd-b426-4237-a3aa-86d2c10edd28","ActionName":"EVServiceCenter.API.Controllers.CarBrands.CarBrandController.Create (EVServiceCenter.API)","RequestId":"0HNG06NMNHA5U:00000012","RequestPath":"/api/car-brands","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:33:08.233 +07:00 INF] Brand created by user 8: Lucid Motors {"SourceContext":"EVServiceCenter.API.Controllers.CarBrands.CarBrandController","ActionId":"6cab8abd-b426-4237-a3aa-86d2c10edd28","ActionName":"EVServiceCenter.API.Controllers.CarBrands.CarBrandController.Create (EVServiceCenter.API)","RequestId":"0HNG06NMNHA5U:00000012","RequestPath":"/api/car-brands","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:33:51.208 +07:00 INF] Request: POST /api/car-brands {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:00000013","RequestPath":"/api/car-brands","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:34:26.075 +07:00 INF] Request: POST /api/car-brands {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:00000014","RequestPath":"/api/car-brands","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:34:49.732 +07:00 INF] Request: PUT /api/car-brands/1 {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:00000015","RequestPath":"/api/car-brands/1","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:34:49.820 +07:00 INF] Car brand updated: 1 {"SourceContext":"EVServiceCenter.Application.Domains.CarBrands.Services.CarBrandService","ActionId":"8e23f95e-7de4-439f-b827-57dd8cb883db","ActionName":"EVServiceCenter.API.Controllers.CarBrands.CarBrandController.Update (EVServiceCenter.API)","RequestId":"0HNG06NMNHA5U:00000015","RequestPath":"/api/car-brands/1","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:34:49.837 +07:00 INF] Brand updated by user 8: 1 {"SourceContext":"EVServiceCenter.API.Controllers.CarBrands.CarBrandController","ActionId":"8e23f95e-7de4-439f-b827-57dd8cb883db","ActionName":"EVServiceCenter.API.Controllers.CarBrands.CarBrandController.Update (EVServiceCenter.API)","RequestId":"0HNG06NMNHA5U:00000015","RequestPath":"/api/car-brands/1","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:35:13.768 +07:00 INF] Request: GET /api/car-brands/1/statistics {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:00000016","RequestPath":"/api/car-brands/1/statistics","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:35:13.843 +07:00 ERR] An exception occurred while iterating over the results of a query for context type 'EVServiceCenter.Core.Entities.EVDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"cad8bec9-18f3-49cb-84b8-d6b93a0e4c2e","ActionName":"EVServiceCenter.API.Controllers.CarBrands.CarBrandStatisticsController.GetBrandStats (EVServiceCenter.API)","RequestId":"0HNG06NMNHA5U:00000016","RequestPath":"/api/car-brands/1/statistics","ConnectionId":"0HNG06NMNHA5U"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-09-30 22:35:29.840 +07:00 INF] Request: GET /api/car-brands/statistics {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:00000017","RequestPath":"/api/car-brands/statistics","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:35:44.667 +07:00 INF] Request: GET /api/car-brands/1/statistics {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:00000018","RequestPath":"/api/car-brands/1/statistics","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:35:44.703 +07:00 ERR] An exception occurred while iterating over the results of a query for context type 'EVServiceCenter.Core.Entities.EVDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"cad8bec9-18f3-49cb-84b8-d6b93a0e4c2e","ActionName":"EVServiceCenter.API.Controllers.CarBrands.CarBrandStatisticsController.GetBrandStats (EVServiceCenter.API)","RequestId":"0HNG06NMNHA5U:00000018","RequestPath":"/api/car-brands/1/statistics","ConnectionId":"0HNG06NMNHA5U"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-09-30 22:36:18.024 +07:00 INF] Request: GET /api/car-brands/16/can-delete {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:00000019","RequestPath":"/api/car-brands/16/can-delete","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:36:32.622 +07:00 INF] Request: DELETE /api/car-brands/16 {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:0000001A","RequestPath":"/api/car-brands/16","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:36:32.846 +07:00 INF] Brand deleted by user 8: 16 {"SourceContext":"EVServiceCenter.API.Controllers.CarBrands.CarBrandController","ActionId":"7be2ac3e-e179-44f7-9abc-7c068add32a4","ActionName":"EVServiceCenter.API.Controllers.CarBrands.CarBrandController.Delete (EVServiceCenter.API)","RequestId":"0HNG06NMNHA5U:0000001A","RequestPath":"/api/car-brands/16","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:36:54.863 +07:00 INF] Request: GET /api/car-brands/1/statistics {"SourceContext":"Program","RequestId":"0HNG06NMNHA5U:0000001B","RequestPath":"/api/car-brands/1/statistics","ConnectionId":"0HNG06NMNHA5U"}
[2025-09-30 22:36:54.902 +07:00 ERR] An exception occurred while iterating over the results of a query for context type 'EVServiceCenter.Core.Entities.EVDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"cad8bec9-18f3-49cb-84b8-d6b93a0e4c2e","ActionName":"EVServiceCenter.API.Controllers.CarBrands.CarBrandStatisticsController.GetBrandStats (EVServiceCenter.API)","RequestId":"0HNG06NMNHA5U:0000001B","RequestPath":"/api/car-brands/1/statistics","ConnectionId":"0HNG06NMNHA5U"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2025-09-30 22:41:19.653 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 22:41:19.723 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 22:41:19.814 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 22:41:19.823 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 22:41:19.829 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 22:41:20.516 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNG06V6JGOEM:00000001","RequestPath":"/","ConnectionId":"0HNG06V6JGOEM"}
[2025-09-30 22:41:24.816 +07:00 INF] Request: GET /api/car-brands/1/statistics {"SourceContext":"Program","RequestId":"0HNG06V6JGOEO:00000001","RequestPath":"/api/car-brands/1/statistics","ConnectionId":"0HNG06V6JGOEO"}
[2025-09-30 23:02:41.980 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 23:02:42.078 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 23:02:42.180 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 23:02:42.278 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 23:02:42.313 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 23:02:43.376 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNG07B4PA0LD:00000001","RequestPath":"/","ConnectionId":"0HNG07B4PA0LD"}
[2025-09-30 23:27:32.690 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 23:27:32.748 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 23:27:32.821 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 23:27:32.825 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 23:27:32.829 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-30 23:27:33.357 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNG07P0V0UFI:00000001","RequestPath":"/","ConnectionId":"0HNG07P0V0UFI"}
[2025-09-30 23:29:34.447 +07:00 INF] Request: GET /api/car-models {"SourceContext":"Program","RequestId":"0HNG07P0V0UFK:00000001","RequestPath":"/api/car-models","ConnectionId":"0HNG07P0V0UFK"}
[2025-09-30 23:30:07.659 +07:00 INF] Request: POST /api/auth/login {"SourceContext":"Program","RequestId":"0HNG07P0V0UFI:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNG07P0V0UFI"}
[2025-09-30 23:30:09.664 +07:00 INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService","ActionId":"e5c09539-7d55-4a08-88d1-7bb6f40d9327","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNG07P0V0UFI:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNG07P0V0UFI"}
[2025-09-30 23:30:14.266 +07:00 INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.EmailService","ActionId":"e5c09539-7d55-4a08-88d1-7bb6f40d9327","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNG07P0V0UFI:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNG07P0V0UFI"}
[2025-09-30 23:30:31.860 +07:00 INF] Request: GET /api/car-models {"SourceContext":"Program","RequestId":"0HNG07P0V0UFK:00000002","RequestPath":"/api/car-models","ConnectionId":"0HNG07P0V0UFK"}
[2025-09-30 23:31:07.659 +07:00 INF] Request: GET /api/car-models {"SourceContext":"Program","RequestId":"0HNG07P0V0UFK:00000003","RequestPath":"/api/car-models","ConnectionId":"0HNG07P0V0UFK"}
[2025-09-30 23:31:30.789 +07:00 INF] Request: GET /api/car-models {"SourceContext":"Program","RequestId":"0HNG07P0V0UFK:00000004","RequestPath":"/api/car-models","ConnectionId":"0HNG07P0V0UFK"}
[2025-09-30 23:31:56.919 +07:00 INF] Request: GET /api/car-models {"SourceContext":"Program","RequestId":"0HNG07P0V0UFK:00000005","RequestPath":"/api/car-models","ConnectionId":"0HNG07P0V0UFK"}
[2025-09-30 23:32:47.872 +07:00 INF] Request: GET /api/car-models/search {"SourceContext":"Program","RequestId":"0HNG07P0V0UFK:00000006","RequestPath":"/api/car-models/search","ConnectionId":"0HNG07P0V0UFK"}
[2025-09-30 23:33:19.577 +07:00 INF] Request: GET /api/car-models/active {"SourceContext":"Program","RequestId":"0HNG07P0V0UFK:00000007","RequestPath":"/api/car-models/active","ConnectionId":"0HNG07P0V0UFK"}
[2025-09-30 23:34:16.626 +07:00 INF] Request: GET /api/car-models/1 {"SourceContext":"Program","RequestId":"0HNG07P0V0UFK:00000008","RequestPath":"/api/car-models/1","ConnectionId":"0HNG07P0V0UFK"}
[2025-09-30 23:35:23.200 +07:00 INF] Request: POST /api/car-models {"SourceContext":"Program","RequestId":"0HNG07P0V0UFM:00000001","RequestPath":"/api/car-models","ConnectionId":"0HNG07P0V0UFM"}
[2025-09-30 23:35:23.429 +07:00 INF] Car model created: VinFast Auto VF 6 {"SourceContext":"EVServiceCenter.Application.Domains.CarModels.Services.CarModelService","ActionId":"db381cf8-20cd-4b95-ad87-6a3a079ce6d1","ActionName":"EVServiceCenter.API.Controllers.CarModels.CarModelController.Create (EVServiceCenter.API)","RequestId":"0HNG07P0V0UFM:00000001","RequestPath":"/api/car-models","ConnectionId":"0HNG07P0V0UFM"}
[2025-09-30 23:35:23.455 +07:00 INF] Car model created by user 8: 1 VF 6 {"SourceContext":"EVServiceCenter.API.Controllers.CarModels.CarModelController","ActionId":"db381cf8-20cd-4b95-ad87-6a3a079ce6d1","ActionName":"EVServiceCenter.API.Controllers.CarModels.CarModelController.Create (EVServiceCenter.API)","RequestId":"0HNG07P0V0UFM:00000001","RequestPath":"/api/car-models","ConnectionId":"0HNG07P0V0UFM"}
[2025-09-30 23:36:13.818 +07:00 INF] Request: POST /api/car-models {"SourceContext":"Program","RequestId":"0HNG07P0V0UFM:00000002","RequestPath":"/api/car-models","ConnectionId":"0HNG07P0V0UFM"}
[2025-09-30 23:36:13.897 +07:00 INF] Car model created: VinFast Auto VF 8 {"SourceContext":"EVServiceCenter.Application.Domains.CarModels.Services.CarModelService","ActionId":"db381cf8-20cd-4b95-ad87-6a3a079ce6d1","ActionName":"EVServiceCenter.API.Controllers.CarModels.CarModelController.Create (EVServiceCenter.API)","RequestId":"0HNG07P0V0UFM:00000002","RequestPath":"/api/car-models","ConnectionId":"0HNG07P0V0UFM"}
[2025-09-30 23:36:13.910 +07:00 INF] Car model created by user 8: 1 VF 8 {"SourceContext":"EVServiceCenter.API.Controllers.CarModels.CarModelController","ActionId":"db381cf8-20cd-4b95-ad87-6a3a079ce6d1","ActionName":"EVServiceCenter.API.Controllers.CarModels.CarModelController.Create (EVServiceCenter.API)","RequestId":"0HNG07P0V0UFM:00000002","RequestPath":"/api/car-models","ConnectionId":"0HNG07P0V0UFM"}
[2025-09-30 23:36:28.927 +07:00 INF] Request: POST /api/car-models {"SourceContext":"Program","RequestId":"0HNG07P0V0UFM:00000003","RequestPath":"/api/car-models","ConnectionId":"0HNG07P0V0UFM"}
[2025-09-30 23:36:55.943 +07:00 INF] Request: POST /api/car-models {"SourceContext":"Program","RequestId":"0HNG07P0V0UFM:00000004","RequestPath":"/api/car-models","ConnectionId":"0HNG07P0V0UFM"}
[2025-09-30 23:38:08.818 +07:00 INF] Request: PUT /api/car-models/1 {"SourceContext":"Program","RequestId":"0HNG07P0V0UFO:00000001","RequestPath":"/api/car-models/1","ConnectionId":"0HNG07P0V0UFO"}
[2025-09-30 23:38:37.237 +07:00 INF] Request: PUT /api/car-models/11 {"SourceContext":"Program","RequestId":"0HNG07P0V0UFO:00000002","RequestPath":"/api/car-models/11","ConnectionId":"0HNG07P0V0UFO"}
[2025-09-30 23:38:37.341 +07:00 INF] Car model updated: 11 {"SourceContext":"EVServiceCenter.Application.Domains.CarModels.Services.CarModelService","ActionId":"1eb827d8-d4c2-45e7-88b7-cb5f3a25eea1","ActionName":"EVServiceCenter.API.Controllers.CarModels.CarModelController.Update (EVServiceCenter.API)","RequestId":"0HNG07P0V0UFO:00000002","RequestPath":"/api/car-models/11","ConnectionId":"0HNG07P0V0UFO"}
[2025-09-30 23:38:37.351 +07:00 INF] Car model updated by user 8: 11 {"SourceContext":"EVServiceCenter.API.Controllers.CarModels.CarModelController","ActionId":"1eb827d8-d4c2-45e7-88b7-cb5f3a25eea1","ActionName":"EVServiceCenter.API.Controllers.CarModels.CarModelController.Update (EVServiceCenter.API)","RequestId":"0HNG07P0V0UFO:00000002","RequestPath":"/api/car-models/11","ConnectionId":"0HNG07P0V0UFO"}
[2025-09-30 23:39:00.167 +07:00 INF] Request: PUT /api/car-models/1/statistics {"SourceContext":"Program","RequestId":"0HNG07P0V0UFO:00000003","RequestPath":"/api/car-models/1/statistics","ConnectionId":"0HNG07P0V0UFO"}
[2025-09-30 23:39:07.464 +07:00 INF] Request: GET /api/car-models/1/statistics {"SourceContext":"Program","RequestId":"0HNG07P0V0UFO:00000004","RequestPath":"/api/car-models/1/statistics","ConnectionId":"0HNG07P0V0UFO"}
[2025-09-30 23:39:30.096 +07:00 INF] Request: GET /api/car-models/statistics {"SourceContext":"Program","RequestId":"0HNG07P0V0UFO:00000005","RequestPath":"/api/car-models/statistics","ConnectionId":"0HNG07P0V0UFO"}
[2025-09-30 23:40:30.171 +07:00 INF] Request: GET /api/car-models/by-brand/1/statistics {"SourceContext":"Program","RequestId":"0HNG07P0V0UFQ:00000001","RequestPath":"/api/car-models/by-brand/1/statistics","ConnectionId":"0HNG07P0V0UFQ"}
[2025-09-30 23:41:13.181 +07:00 INF] Request: GET /api/car-models/1/can-delete {"SourceContext":"Program","RequestId":"0HNG07P0V0UFQ:00000002","RequestPath":"/api/car-models/1/can-delete","ConnectionId":"0HNG07P0V0UFQ"}
[2025-09-30 23:41:41.859 +07:00 INF] Request: DELETE /api/car-models/11 {"SourceContext":"Program","RequestId":"0HNG07P0V0UFQ:00000003","RequestPath":"/api/car-models/11","ConnectionId":"0HNG07P0V0UFQ"}
[2025-09-30 23:41:41.944 +07:00 INF] Car model deleted by user 8: 11 {"SourceContext":"EVServiceCenter.API.Controllers.CarModels.CarModelController","ActionId":"e0c60865-97e7-425a-9cbc-61ce9734b04d","ActionName":"EVServiceCenter.API.Controllers.CarModels.CarModelController.Delete (EVServiceCenter.API)","RequestId":"0HNG07P0V0UFQ:00000003","RequestPath":"/api/car-models/11","ConnectionId":"0HNG07P0V0UFQ"}
