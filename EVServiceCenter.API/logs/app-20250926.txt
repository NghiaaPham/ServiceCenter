[2025-09-26 14:24:14.167 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 14:24:14.210 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 14:24:14.352 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 14:24:14.360 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 14:24:14.367 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 14:24:14.749 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNFSPMP12M44:00000001","RequestPath":"/","ConnectionId":"0HNFSPMP12M44"}
[2025-09-26 14:24:31.870 +07:00 INF] Request: GET /api/auth/profile {"SourceContext":"Program","RequestId":"0HNFSPMP12M44:00000009","RequestPath":"/api/auth/profile","ConnectionId":"0HNFSPMP12M44"}
[2025-09-26 16:37:42.081 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 16:37:42.121 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 16:37:42.172 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 16:37:42.176 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 16:37:42.178 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 16:37:44.309 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNFSS1BKULGF:00000001","RequestPath":"/","ConnectionId":"0HNFSS1BKULGF"}
[2025-09-26 16:59:17.381 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 16:59:17.421 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 16:59:17.466 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 16:59:17.472 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 16:59:17.477 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 16:59:18.518 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNFSSDDL85SN:00000001","RequestPath":"/","ConnectionId":"0HNFSSDDL85SN"}
[2025-09-26 17:06:12.599 +07:00 INF] Request: POST /api/auth/login {"SourceContext":"Program","RequestId":"0HNFSSDDL85SO:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFSSDDL85SO"}
[2025-09-26 17:06:15.155 +07:00 INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService","ActionId":"1466fd4a-ce57-4da9-98b5-1f1298f4adc9","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNFSSDDL85SO:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFSSDDL85SO"}
[2025-09-26 17:06:20.946 +07:00 INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.EmailService","ActionId":"1466fd4a-ce57-4da9-98b5-1f1298f4adc9","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNFSSDDL85SO:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNFSSDDL85SO"}
[2025-09-26 17:06:41.097 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSDDL85SQ:00000001","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SQ"}
[2025-09-26 17:07:00.517 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSDDL85SQ:00000002","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SQ"}
[2025-09-26 17:07:04.348 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSDDL85SQ:00000003","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SQ"}
[2025-09-26 17:07:06.817 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSDDL85SQ:00000004","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SQ"}
[2025-09-26 17:07:13.333 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSDDL85SQ:00000005","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SQ"}
[2025-09-26 17:07:44.949 +07:00 INF] Request: GET /api/auth/profile {"SourceContext":"Program","RequestId":"0HNFSSDDL85SR:00000001","RequestPath":"/api/auth/profile","ConnectionId":"0HNFSSDDL85SR"}
[2025-09-26 17:07:53.602 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSDDL85SR:00000003","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
[2025-09-26 17:08:04.477 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSDDL85SR:00000005","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
[2025-09-26 17:08:04.611 +07:00 ERR] Error retrieving customer types with query: {"SearchTerm":"1","IsActive":null,"Page":1,"PageSize":10,"SortBy":"TypeName","SortDesc":false,"IncludeStats":false,"$type":"CustomerTypeQueryDto"} {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository","ActionId":"573e2a9d-6e04-47bd-9f0d-81e30bbc5f7a","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes (EVServiceCenter.API)","RequestId":"0HNFSSDDL85SR:00000005","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant().Contains(__searchTerm_0) || c.Description != null && c.Description.ToLowerInvariant().Contains(__searchTerm_0))' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 164
[2025-09-26 17:08:04.725 +07:00 ERR] Error in service layer retrieving customer types {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService","ActionId":"573e2a9d-6e04-47bd-9f0d-81e30bbc5f7a","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes (EVServiceCenter.API)","RequestId":"0HNFSSDDL85SR:00000005","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant().Contains(__searchTerm_0) || c.Description != null && c.Description.ToLowerInvariant().Contains(__searchTerm_0))' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 164
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 108
[2025-09-26 17:08:04.774 +07:00 ERR] Error retrieving customer types with query: {"SearchTerm":"1","IsActive":null,"Page":1,"PageSize":10,"SortBy":"TypeName","SortDesc":false,"IncludeStats":false,"$type":"CustomerTypeQueryDto"} {"SourceContext":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController","ActionId":"573e2a9d-6e04-47bd-9f0d-81e30bbc5f7a","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes (EVServiceCenter.API)","RequestId":"0HNFSSDDL85SR:00000005","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant().Contains(__searchTerm_0) || c.Description != null && c.Description.ToLowerInvariant().Contains(__searchTerm_0))' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 164
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 108
   at EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes(CustomerTypeQueryDto query) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Customers\CustomerTypesController.cs:line 57
[2025-09-26 17:08:19.485 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSDDL85SR:00000007","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
[2025-09-26 17:08:19.538 +07:00 ERR] Error retrieving customer types with query: {"SearchTerm":"Individual","IsActive":null,"Page":1,"PageSize":10,"SortBy":"TypeName","SortDesc":false,"IncludeStats":false,"$type":"CustomerTypeQueryDto"} {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository","ActionId":"573e2a9d-6e04-47bd-9f0d-81e30bbc5f7a","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes (EVServiceCenter.API)","RequestId":"0HNFSSDDL85SR:00000007","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant().Contains(__searchTerm_0) || c.Description != null && c.Description.ToLowerInvariant().Contains(__searchTerm_0))' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 164
[2025-09-26 17:08:19.636 +07:00 ERR] Error in service layer retrieving customer types {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService","ActionId":"573e2a9d-6e04-47bd-9f0d-81e30bbc5f7a","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes (EVServiceCenter.API)","RequestId":"0HNFSSDDL85SR:00000007","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant().Contains(__searchTerm_0) || c.Description != null && c.Description.ToLowerInvariant().Contains(__searchTerm_0))' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 164
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 108
[2025-09-26 17:08:19.702 +07:00 ERR] Error retrieving customer types with query: {"SearchTerm":"Individual","IsActive":null,"Page":1,"PageSize":10,"SortBy":"TypeName","SortDesc":false,"IncludeStats":false,"$type":"CustomerTypeQueryDto"} {"SourceContext":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController","ActionId":"573e2a9d-6e04-47bd-9f0d-81e30bbc5f7a","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes (EVServiceCenter.API)","RequestId":"0HNFSSDDL85SR:00000007","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant().Contains(__searchTerm_0) || c.Description != null && c.Description.ToLowerInvariant().Contains(__searchTerm_0))' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 164
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 108
   at EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes(CustomerTypeQueryDto query) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Customers\CustomerTypesController.cs:line 57
[2025-09-26 17:08:24.014 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSDDL85SR:00000009","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
[2025-09-26 17:08:34.985 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSDDL85SR:0000000B","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
[2025-09-26 17:08:38.403 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSDDL85SR:0000000D","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
[2025-09-26 17:09:04.795 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSDDL85SR:0000000F","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
[2025-09-26 17:09:04.841 +07:00 ERR] Error retrieving customer types with query: {"SearchTerm":"Individual","IsActive":true,"Page":1,"PageSize":10,"SortBy":"TypeName","SortDesc":false,"IncludeStats":false,"$type":"CustomerTypeQueryDto"} {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository","ActionId":"573e2a9d-6e04-47bd-9f0d-81e30bbc5f7a","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes (EVServiceCenter.API)","RequestId":"0HNFSSDDL85SR:0000000F","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant().Contains(__searchTerm_0) || c.Description != null && c.Description.ToLowerInvariant().Contains(__searchTerm_0))' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 164
[2025-09-26 17:09:04.920 +07:00 ERR] Error in service layer retrieving customer types {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService","ActionId":"573e2a9d-6e04-47bd-9f0d-81e30bbc5f7a","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes (EVServiceCenter.API)","RequestId":"0HNFSSDDL85SR:0000000F","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant().Contains(__searchTerm_0) || c.Description != null && c.Description.ToLowerInvariant().Contains(__searchTerm_0))' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 164
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 108
[2025-09-26 17:09:05.002 +07:00 ERR] Error retrieving customer types with query: {"SearchTerm":"Individual","IsActive":true,"Page":1,"PageSize":10,"SortBy":"TypeName","SortDesc":false,"IncludeStats":false,"$type":"CustomerTypeQueryDto"} {"SourceContext":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController","ActionId":"573e2a9d-6e04-47bd-9f0d-81e30bbc5f7a","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes (EVServiceCenter.API)","RequestId":"0HNFSSDDL85SR:0000000F","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant().Contains(__searchTerm_0) || c.Description != null && c.Description.ToLowerInvariant().Contains(__searchTerm_0))' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 164
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 108
   at EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes(CustomerTypeQueryDto query) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Customers\CustomerTypesController.cs:line 57
[2025-09-26 17:09:14.796 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSDDL85SR:00000011","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
[2025-09-26 17:09:14.835 +07:00 ERR] Error retrieving customer types with query: {"SearchTerm":"Individual","IsActive":false,"Page":1,"PageSize":10,"SortBy":"TypeName","SortDesc":false,"IncludeStats":false,"$type":"CustomerTypeQueryDto"} {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository","ActionId":"573e2a9d-6e04-47bd-9f0d-81e30bbc5f7a","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes (EVServiceCenter.API)","RequestId":"0HNFSSDDL85SR:00000011","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant().Contains(__searchTerm_0) || c.Description != null && c.Description.ToLowerInvariant().Contains(__searchTerm_0))' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 164
[2025-09-26 17:09:14.914 +07:00 ERR] Error in service layer retrieving customer types {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService","ActionId":"573e2a9d-6e04-47bd-9f0d-81e30bbc5f7a","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes (EVServiceCenter.API)","RequestId":"0HNFSSDDL85SR:00000011","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant().Contains(__searchTerm_0) || c.Description != null && c.Description.ToLowerInvariant().Contains(__searchTerm_0))' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 164
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 108
[2025-09-26 17:09:14.975 +07:00 ERR] Error retrieving customer types with query: {"SearchTerm":"Individual","IsActive":false,"Page":1,"PageSize":10,"SortBy":"TypeName","SortDesc":false,"IncludeStats":false,"$type":"CustomerTypeQueryDto"} {"SourceContext":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController","ActionId":"573e2a9d-6e04-47bd-9f0d-81e30bbc5f7a","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes (EVServiceCenter.API)","RequestId":"0HNFSSDDL85SR:00000011","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant().Contains(__searchTerm_0) || c.Description != null && c.Description.ToLowerInvariant().Contains(__searchTerm_0))' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 164
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 108
   at EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes(CustomerTypeQueryDto query) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Customers\CustomerTypesController.cs:line 57
[2025-09-26 17:09:20.242 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSDDL85SR:00000013","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
[2025-09-26 17:09:34.097 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSDDL85SR:00000015","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
[2025-09-26 17:10:06.395 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSDDL85SR:00000017","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
[2025-09-26 17:10:06.473 +07:00 ERR] Error retrieving customer types with query: {"SearchTerm":"Individual","IsActive":true,"Page":1,"PageSize":10,"SortBy":"TypeName","SortDesc":true,"IncludeStats":true,"$type":"CustomerTypeQueryDto"} {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository","ActionId":"573e2a9d-6e04-47bd-9f0d-81e30bbc5f7a","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes (EVServiceCenter.API)","RequestId":"0HNFSSDDL85SR:00000017","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant().Contains(__searchTerm_0) || c.Description != null && c.Description.ToLowerInvariant().Contains(__searchTerm_0))' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 164
[2025-09-26 17:10:06.546 +07:00 ERR] Error in service layer retrieving customer types {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService","ActionId":"573e2a9d-6e04-47bd-9f0d-81e30bbc5f7a","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes (EVServiceCenter.API)","RequestId":"0HNFSSDDL85SR:00000017","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant().Contains(__searchTerm_0) || c.Description != null && c.Description.ToLowerInvariant().Contains(__searchTerm_0))' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 164
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 108
[2025-09-26 17:10:06.606 +07:00 ERR] Error retrieving customer types with query: {"SearchTerm":"Individual","IsActive":true,"Page":1,"PageSize":10,"SortBy":"TypeName","SortDesc":true,"IncludeStats":true,"$type":"CustomerTypeQueryDto"} {"SourceContext":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController","ActionId":"573e2a9d-6e04-47bd-9f0d-81e30bbc5f7a","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes (EVServiceCenter.API)","RequestId":"0HNFSSDDL85SR:00000017","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant().Contains(__searchTerm_0) || c.Description != null && c.Description.ToLowerInvariant().Contains(__searchTerm_0))' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 164
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 108
   at EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes(CustomerTypeQueryDto query) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Customers\CustomerTypesController.cs:line 57
[2025-09-26 17:10:08.501 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSDDL85SR:00000019","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
[2025-09-26 17:10:08.540 +07:00 ERR] Error retrieving customer types with query: {"SearchTerm":"Individual","IsActive":true,"Page":1,"PageSize":10,"SortBy":"TypeName","SortDesc":true,"IncludeStats":true,"$type":"CustomerTypeQueryDto"} {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository","ActionId":"573e2a9d-6e04-47bd-9f0d-81e30bbc5f7a","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes (EVServiceCenter.API)","RequestId":"0HNFSSDDL85SR:00000019","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant().Contains(__searchTerm_0) || c.Description != null && c.Description.ToLowerInvariant().Contains(__searchTerm_0))' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 164
[2025-09-26 17:10:08.610 +07:00 ERR] Error in service layer retrieving customer types {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService","ActionId":"573e2a9d-6e04-47bd-9f0d-81e30bbc5f7a","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes (EVServiceCenter.API)","RequestId":"0HNFSSDDL85SR:00000019","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant().Contains(__searchTerm_0) || c.Description != null && c.Description.ToLowerInvariant().Contains(__searchTerm_0))' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 164
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 108
[2025-09-26 17:10:08.695 +07:00 ERR] Error retrieving customer types with query: {"SearchTerm":"Individual","IsActive":true,"Page":1,"PageSize":10,"SortBy":"TypeName","SortDesc":true,"IncludeStats":true,"$type":"CustomerTypeQueryDto"} {"SourceContext":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController","ActionId":"573e2a9d-6e04-47bd-9f0d-81e30bbc5f7a","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes (EVServiceCenter.API)","RequestId":"0HNFSSDDL85SR:00000019","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant().Contains(__searchTerm_0) || c.Description != null && c.Description.ToLowerInvariant().Contains(__searchTerm_0))' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information.
Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 164
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.GetAllAsync(CustomerTypeQueryDto query, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 108
   at EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetAllCustomerTypes(CustomerTypeQueryDto query) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Customers\CustomerTypesController.cs:line 57
[2025-09-26 17:11:10.357 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSDDL85SR:0000001B","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSDDL85SR"}
[2025-09-26 17:20:39.884 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 17:20:39.923 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 17:20:39.962 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 17:20:39.965 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 17:20:39.967 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 17:20:40.769 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNFSSPBQKMLK:00000001","RequestPath":"/","ConnectionId":"0HNFSSPBQKMLK"}
[2025-09-26 17:20:54.123 +07:00 INF] Request: POST /api/auth/login {"SourceContext":"Program","RequestId":"0HNFSSPBQKMLK:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNFSSPBQKMLK"}
[2025-09-26 17:20:56.411 +07:00 INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService","ActionId":"e8719815-4b52-4274-b6d2-a71deb894832","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNFSSPBQKMLK:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNFSSPBQKMLK"}
[2025-09-26 17:21:00.199 +07:00 INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.EmailService","ActionId":"e8719815-4b52-4274-b6d2-a71deb894832","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNFSSPBQKMLK:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNFSSPBQKMLK"}
[2025-09-26 17:21:23.588 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSPBQKMLK:0000000B","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSPBQKMLK"}
[2025-09-26 17:21:31.266 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSPBQKMLK:0000000D","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSPBQKMLK"}
[2025-09-26 17:21:37.695 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSPBQKMLK:0000000F","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSPBQKMLK"}
[2025-09-26 17:21:42.385 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSPBQKMLK:00000011","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSPBQKMLK"}
[2025-09-26 17:21:51.605 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSPBQKMLK:00000013","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSPBQKMLK"}
[2025-09-26 17:23:09.747 +07:00 INF] Request: POST /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSPBQKMLK:00000015","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSPBQKMLK"}
[2025-09-26 17:24:42.694 +07:00 ERR] An unhandled exception has occurred while executing the request. {"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HNFSSPBQKMLK:00000015","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSPBQKMLK"}
FluentValidation.AsyncValidatorInvokedSynchronouslyException: Validator "CreateCustomerTypeRequestValidator" can't be used with ASP.NET automatic validation as it contains asynchronous rules. ASP.NET's validation pipeline is not asynchronous and can't invoke asynchronous rules. Remove the asynchronous rules in order for this validator to run.
   at FluentValidation.AbstractValidator`1.Validate(ValidationContext`1 context) in /_/src/FluentValidation/AbstractValidator.cs:line 207
   at FluentValidation.AbstractValidator`1.FluentValidation.IValidator.Validate(IValidationContext context) in /_/src/FluentValidation/AbstractValidator.cs:line 153
   at FluentValidation.AspNetCore.FluentValidationModelValidator.Validate(ModelValidationContext mvContext) in /_/src/FluentValidation.AspNetCore/FluentValidationModelValidatorProvider.cs:line 150
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.ValidateNode()
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitComplexType(IValidationStrategy defaultStrategy)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitImplementation(ModelMetadata& metadata, String& key, Object model)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.Visit(ModelMetadata metadata, String key, Object model)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>n__1(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>c__DisplayClass2_0.<Validate>g__BaseValidate|0() in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 45
   at FluentValidation.AspNetCore.FluentValidationVisitor.ValidateInternal(ModelMetadata metadata, String key, Object model, Func`1 continuation) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 63
   at FluentValidation.AspNetCore.FluentValidationVisitor.Validate(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 47
   at Microsoft.AspNetCore.Mvc.ModelBinding.ObjectModelValidator.Validate(ActionContext actionContext, ValidationStateDictionary validationState, String prefix, Object model, ModelMetadata metadata, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.EnforceBindRequiredAndValidate(ObjectModelValidator baseObjectValidator, ActionContext actionContext, ParameterDescriptor parameter, ModelMetadata metadata, ModelBindingContext modelBindingContext, ModelBindingResult modelBindingResult, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at EVServiceCenter.API.Middleware.PasswordResetRateLimitMiddleware.InvokeAsync(HttpContext context) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Middleware\PasswordResetRateLimitMiddleware.cs:line 31
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_10>d.MoveNext() in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Program.cs:line 180
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-09-26 17:29:24.676 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 17:29:24.713 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 17:29:24.750 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 17:29:24.757 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 17:29:24.765 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 17:29:26.128 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNFSSU88QHMT:00000001","RequestPath":"/","ConnectionId":"0HNFSSU88QHMT"}
[2025-09-26 17:29:40.142 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSU88QHMT:00000009","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSU88QHMT"}
[2025-09-26 17:29:54.244 +07:00 INF] Request: POST /api/auth/login {"SourceContext":"Program","RequestId":"0HNFSSU88QHMT:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFSSU88QHMT"}
[2025-09-26 17:29:58.788 +07:00 INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService","ActionId":"74dfe67c-086c-43b1-a27b-06458953f337","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNFSSU88QHMT:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFSSU88QHMT"}
[2025-09-26 17:30:02.712 +07:00 INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.EmailService","ActionId":"74dfe67c-086c-43b1-a27b-06458953f337","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNFSSU88QHMT:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFSSU88QHMT"}
[2025-09-26 17:30:19.610 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSU88QHMT:0000000D","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSU88QHMT"}
[2025-09-26 17:30:29.699 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSU88QHMT:0000000F","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSU88QHMT"}
[2025-09-26 17:30:34.578 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSU88QHMT:00000011","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSU88QHMT"}
[2025-09-26 17:30:45.790 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSU88QHMT:00000013","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSU88QHMT"}
[2025-09-26 17:30:53.486 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSU88QHMT:00000015","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSU88QHMT"}
[2025-09-26 17:31:11.213 +07:00 INF] Request: POST /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSSU88QHMT:00000017","RequestPath":"/api/customer-types","ConnectionId":"0HNFSSU88QHMT"}
[2025-09-26 17:34:21.242 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 17:34:21.282 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 17:34:21.412 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 17:34:21.416 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 17:34:21.418 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 17:34:23.320 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNFST10MTOOI:00000001","RequestPath":"/","ConnectionId":"0HNFST10MTOOI"}
[2025-09-26 17:34:34.030 +07:00 INF] Request: POST /api/customer-types {"SourceContext":"Program","RequestId":"0HNFST10MTOOI:00000009","RequestPath":"/api/customer-types","ConnectionId":"0HNFST10MTOOI"}
[2025-09-26 17:34:51.833 +07:00 INF] Request: POST /api/auth/login {"SourceContext":"Program","RequestId":"0HNFST10MTOOI:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFST10MTOOI"}
[2025-09-26 17:34:56.107 +07:00 INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService","ActionId":"0a860e3f-0808-4a74-b078-0a2e247d3694","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNFST10MTOOI:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFST10MTOOI"}
[2025-09-26 17:34:59.675 +07:00 INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.EmailService","ActionId":"0a860e3f-0808-4a74-b078-0a2e247d3694","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNFST10MTOOI:0000000B","RequestPath":"/api/auth/login","ConnectionId":"0HNFST10MTOOI"}
[2025-09-26 17:35:15.112 +07:00 INF] Request: POST /api/customer-types {"SourceContext":"Program","RequestId":"0HNFST10MTOOI:0000000D","RequestPath":"/api/customer-types","ConnectionId":"0HNFST10MTOOI"}
[2025-09-26 17:58:51.116 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 17:58:51.165 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 17:58:51.211 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 17:58:51.220 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 17:58:51.225 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 17:58:52.302 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNFSTEMM780E:00000001","RequestPath":"/","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 17:59:09.757 +07:00 INF] Request: POST /api/auth/login {"SourceContext":"Program","RequestId":"0HNFSTEMM780E:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 17:59:14.173 +07:00 INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService","ActionId":"e789a010-46ed-46e5-8eb2-b9ad69c5ed0a","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 17:59:18.850 +07:00 INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.EmailService","ActionId":"e789a010-46ed-46e5-8eb2-b9ad69c5ed0a","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:00:08.573 +07:00 INF] Request: GET /api/auth/profile {"SourceContext":"Program","RequestId":"0HNFSTEMM780E:0000000F","RequestPath":"/api/auth/profile","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:00:20.681 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSTEMM780E:00000011","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:00:26.120 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSTEMM780E:00000013","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:00:32.592 +07:00 INF] Request: POST /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSTEMM780E:00000015","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:00:32.936 +07:00 ERR] Error creating customer type: string {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository","ActionId":"8fbb2c8e-70f3-4d71-8b64-28f0789a7757","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.CreateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:00000015","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTEMM780E"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant() == __ToLowerInvariant_0)' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.ExistsAsync(String typeName, Nullable`1 excludeTypeId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 119
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 32
[2025-09-26 18:00:33.047 +07:00 ERR] Error in service layer creating customer type: string {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService","ActionId":"8fbb2c8e-70f3-4d71-8b64-28f0789a7757","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.CreateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:00000015","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTEMM780E"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant() == __ToLowerInvariant_0)' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.ExistsAsync(String typeName, Nullable`1 excludeTypeId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 119
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 32
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 71
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 41
[2025-09-26 18:00:33.111 +07:00 ERR] Error creating customer type: string {"SourceContext":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController","ActionId":"8fbb2c8e-70f3-4d71-8b64-28f0789a7757","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.CreateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:00000015","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTEMM780E"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant() == __ToLowerInvariant_0)' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.ExistsAsync(String typeName, Nullable`1 excludeTypeId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 119
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 32
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 71
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 41
   at EVServiceCenter.API.Controllers.Customers.CustomerTypesController.CreateCustomerType(CreateCustomerTypeRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Customers\CustomerTypesController.cs:line 155
[2025-09-26 18:00:54.797 +07:00 INF] Request: POST /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSTEMM780E:00000017","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:00:54.881 +07:00 ERR] Error creating customer type: Platinum {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository","ActionId":"8fbb2c8e-70f3-4d71-8b64-28f0789a7757","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.CreateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:00000017","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTEMM780E"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant() == __ToLowerInvariant_0)' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.ExistsAsync(String typeName, Nullable`1 excludeTypeId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 119
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 32
[2025-09-26 18:00:54.955 +07:00 ERR] Error in service layer creating customer type: Platinum {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService","ActionId":"8fbb2c8e-70f3-4d71-8b64-28f0789a7757","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.CreateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:00000017","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTEMM780E"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant() == __ToLowerInvariant_0)' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.ExistsAsync(String typeName, Nullable`1 excludeTypeId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 119
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 32
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 71
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 41
[2025-09-26 18:00:55.019 +07:00 ERR] Error creating customer type: Platinum {"SourceContext":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController","ActionId":"8fbb2c8e-70f3-4d71-8b64-28f0789a7757","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.CreateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:00000017","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTEMM780E"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant() == __ToLowerInvariant_0)' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.ExistsAsync(String typeName, Nullable`1 excludeTypeId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 119
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 32
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 71
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 41
   at EVServiceCenter.API.Controllers.Customers.CustomerTypesController.CreateCustomerType(CreateCustomerTypeRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Customers\CustomerTypesController.cs:line 155
[2025-09-26 18:00:58.631 +07:00 INF] Request: POST /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSTEMM780E:00000019","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:00:58.730 +07:00 ERR] Error creating customer type: Platinum {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository","ActionId":"8fbb2c8e-70f3-4d71-8b64-28f0789a7757","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.CreateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:00000019","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTEMM780E"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant() == __ToLowerInvariant_0)' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.ExistsAsync(String typeName, Nullable`1 excludeTypeId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 119
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 32
[2025-09-26 18:00:58.809 +07:00 ERR] Error in service layer creating customer type: Platinum {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService","ActionId":"8fbb2c8e-70f3-4d71-8b64-28f0789a7757","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.CreateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:00000019","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTEMM780E"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant() == __ToLowerInvariant_0)' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.ExistsAsync(String typeName, Nullable`1 excludeTypeId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 119
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 32
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 71
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 41
[2025-09-26 18:00:58.880 +07:00 ERR] Error creating customer type: Platinum {"SourceContext":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController","ActionId":"8fbb2c8e-70f3-4d71-8b64-28f0789a7757","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.CreateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:00000019","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTEMM780E"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant() == __ToLowerInvariant_0)' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.ExistsAsync(String typeName, Nullable`1 excludeTypeId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 119
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 32
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 71
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 41
   at EVServiceCenter.API.Controllers.Customers.CustomerTypesController.CreateCustomerType(CreateCustomerTypeRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Customers\CustomerTypesController.cs:line 155
[2025-09-26 18:03:03.876 +07:00 INF] Request: GET /api/customer-types/1 {"SourceContext":"Program","RequestId":"0HNFSTEMM780E:0000001B","RequestPath":"/api/customer-types/1","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:03:03.991 +07:00 WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results. {"EventId":{"Id":10103,"Name":"Microsoft.EntityFrameworkCore.Query.FirstWithoutOrderByAndFilterWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"5f8adcf5-3d8c-4087-9c11-5fcae8cb39f2","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetCustomerTypeById (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:0000001B","RequestPath":"/api/customer-types/1","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:03:08.129 +07:00 INF] Request: GET /api/customer-types/2 {"SourceContext":"Program","RequestId":"0HNFSTEMM780E:0000001D","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:03:12.510 +07:00 INF] Request: GET /api/customer-types/4 {"SourceContext":"Program","RequestId":"0HNFSTEMM780E:0000001F","RequestPath":"/api/customer-types/4","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:03:16.548 +07:00 INF] Request: GET /api/customer-types/3 {"SourceContext":"Program","RequestId":"0HNFSTEMM780E:00000021","RequestPath":"/api/customer-types/3","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:03:25.972 +07:00 INF] Request: GET /api/customer-types/active {"SourceContext":"Program","RequestId":"0HNFSTEMM780E:00000023","RequestPath":"/api/customer-types/active","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:03:33.950 +07:00 INF] Request: GET /api/customer-types/1/can-delete {"SourceContext":"Program","RequestId":"0HNFSTEMM780E:00000025","RequestPath":"/api/customer-types/1/can-delete","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:03:42.286 +07:00 INF] Request: GET /api/customer-types/statistics {"SourceContext":"Program","RequestId":"0HNFSTEMM780E:00000027","RequestPath":"/api/customer-types/statistics","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:03:52.801 +07:00 INF] Request: DELETE /api/customer-types/1 {"SourceContext":"Program","RequestId":"0HNFSTEMM780E:00000029","RequestPath":"/api/customer-types/1","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:03:52.862 +07:00 WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'. {"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"584cd54b-c05b-4790-83b7-54ea51cbcfba","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.DeleteCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:00000029","RequestPath":"/api/customer-types/1","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:03:52.906 +07:00 INF] Deleted customer type: Individual with ID: 1 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository","ActionId":"584cd54b-c05b-4790-83b7-54ea51cbcfba","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.DeleteCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:00000029","RequestPath":"/api/customer-types/1","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:03:52.919 +07:00 INF] Successfully deleted customer type: 1 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService","ActionId":"584cd54b-c05b-4790-83b7-54ea51cbcfba","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.DeleteCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:00000029","RequestPath":"/api/customer-types/1","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:04:05.823 +07:00 INF] Request: DELETE /api/customer-types/1 {"SourceContext":"Program","RequestId":"0HNFSTEMM780E:0000002B","RequestPath":"/api/customer-types/1","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:04:48.643 +07:00 INF] Request: PUT /api/customer-types/2 {"SourceContext":"Program","RequestId":"0HNFSTEMM780E:0000002D","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:04:48.787 +07:00 ERR] Error updating customer type: 2 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository","ActionId":"00789cf8-1ee3-4263-bfb9-67fff5bd12e1","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.UpdateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:0000002D","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSTEMM780E"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant() == __ToLowerInvariant_0)' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.ExistsAsync(String typeName, Nullable`1 excludeTypeId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 119
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 395
[2025-09-26 18:04:48.878 +07:00 ERR] Error in service layer updating customer type: 2 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService","ActionId":"00789cf8-1ee3-4263-bfb9-67fff5bd12e1","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.UpdateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:0000002D","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSTEMM780E"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant() == __ToLowerInvariant_0)' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.ExistsAsync(String typeName, Nullable`1 excludeTypeId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 119
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 395
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 420
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 145
[2025-09-26 18:04:48.979 +07:00 ERR] Error updating customer type: 2 {"SourceContext":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController","ActionId":"00789cf8-1ee3-4263-bfb9-67fff5bd12e1","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.UpdateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:0000002D","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSTEMM780E"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant() == __ToLowerInvariant_0)' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.ExistsAsync(String typeName, Nullable`1 excludeTypeId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 119
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 395
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 420
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 145
   at EVServiceCenter.API.Controllers.Customers.CustomerTypesController.UpdateCustomerType(Int32 id, UpdateCustomerTypeRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Customers\CustomerTypesController.cs:line 219
[2025-09-26 18:05:03.794 +07:00 INF] Request: PUT /api/customer-types/2 {"SourceContext":"Program","RequestId":"0HNFSTEMM780E:0000002F","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:05:03.874 +07:00 ERR] Error updating customer type: 2 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository","ActionId":"00789cf8-1ee3-4263-bfb9-67fff5bd12e1","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.UpdateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:0000002F","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSTEMM780E"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant() == __ToLowerInvariant_0)' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.ExistsAsync(String typeName, Nullable`1 excludeTypeId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 119
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 395
[2025-09-26 18:05:03.948 +07:00 ERR] Error in service layer updating customer type: 2 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService","ActionId":"00789cf8-1ee3-4263-bfb9-67fff5bd12e1","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.UpdateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:0000002F","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSTEMM780E"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant() == __ToLowerInvariant_0)' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.ExistsAsync(String typeName, Nullable`1 excludeTypeId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 119
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 395
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 420
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 145
[2025-09-26 18:05:04.046 +07:00 ERR] Error updating customer type: 2 {"SourceContext":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController","ActionId":"00789cf8-1ee3-4263-bfb9-67fff5bd12e1","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.UpdateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:0000002F","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSTEMM780E"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant() == __ToLowerInvariant_0)' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.ExistsAsync(String typeName, Nullable`1 excludeTypeId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 119
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 395
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 420
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 145
   at EVServiceCenter.API.Controllers.Customers.CustomerTypesController.UpdateCustomerType(Int32 id, UpdateCustomerTypeRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Customers\CustomerTypesController.cs:line 219
[2025-09-26 18:05:12.726 +07:00 INF] Request: PUT /api/customer-types/2 {"SourceContext":"Program","RequestId":"0HNFSTEMM780E:00000031","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:05:12.807 +07:00 ERR] Error updating customer type: 2 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository","ActionId":"00789cf8-1ee3-4263-bfb9-67fff5bd12e1","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.UpdateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:00000031","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSTEMM780E"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant() == __ToLowerInvariant_0)' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.ExistsAsync(String typeName, Nullable`1 excludeTypeId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 119
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 395
[2025-09-26 18:05:12.887 +07:00 ERR] Error in service layer updating customer type: 2 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService","ActionId":"00789cf8-1ee3-4263-bfb9-67fff5bd12e1","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.UpdateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:00000031","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSTEMM780E"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant() == __ToLowerInvariant_0)' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.ExistsAsync(String typeName, Nullable`1 excludeTypeId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 119
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 395
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 420
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 145
[2025-09-26 18:05:12.994 +07:00 ERR] Error updating customer type: 2 {"SourceContext":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController","ActionId":"00789cf8-1ee3-4263-bfb9-67fff5bd12e1","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.UpdateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:00000031","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSTEMM780E"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant() == __ToLowerInvariant_0)' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.ExistsAsync(String typeName, Nullable`1 excludeTypeId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 119
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 395
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 420
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 145
   at EVServiceCenter.API.Controllers.Customers.CustomerTypesController.UpdateCustomerType(Int32 id, UpdateCustomerTypeRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Customers\CustomerTypesController.cs:line 219
[2025-09-26 18:05:42.353 +07:00 INF] Request: PUT /api/customer-types/2 {"SourceContext":"Program","RequestId":"0HNFSTEMM780E:00000033","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:05:51.599 +07:00 INF] Request: PUT /api/customer-types/3 {"SourceContext":"Program","RequestId":"0HNFSTEMM780E:00000035","RequestPath":"/api/customer-types/3","ConnectionId":"0HNFSTEMM780E"}
[2025-09-26 18:05:51.705 +07:00 ERR] Error updating customer type: 3 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository","ActionId":"00789cf8-1ee3-4263-bfb9-67fff5bd12e1","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.UpdateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:00000035","RequestPath":"/api/customer-types/3","ConnectionId":"0HNFSTEMM780E"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant() == __ToLowerInvariant_0)' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.ExistsAsync(String typeName, Nullable`1 excludeTypeId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 119
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 395
[2025-09-26 18:05:51.760 +07:00 ERR] Error in service layer updating customer type: 3 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService","ActionId":"00789cf8-1ee3-4263-bfb9-67fff5bd12e1","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.UpdateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:00000035","RequestPath":"/api/customer-types/3","ConnectionId":"0HNFSTEMM780E"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant() == __ToLowerInvariant_0)' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.ExistsAsync(String typeName, Nullable`1 excludeTypeId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 119
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 395
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 420
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 145
[2025-09-26 18:05:51.862 +07:00 ERR] Error updating customer type: 3 {"SourceContext":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController","ActionId":"00789cf8-1ee3-4263-bfb9-67fff5bd12e1","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.UpdateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTEMM780E:00000035","RequestPath":"/api/customer-types/3","ConnectionId":"0HNFSTEMM780E"}
System.InvalidOperationException: The LINQ expression 'DbSet<CustomerType>()
    .Where(c => c.TypeName.ToLowerInvariant() == __ToLowerInvariant_0)' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.ExistsAsync(String typeName, Nullable`1 excludeTypeId, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 119
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 395
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 420
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.UpdateAsync(UpdateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 145
   at EVServiceCenter.API.Controllers.Customers.CustomerTypesController.UpdateCustomerType(Int32 id, UpdateCustomerTypeRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Customers\CustomerTypesController.cs:line 219
[2025-09-26 18:15:12.628 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 18:15:12.691 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 18:15:12.756 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 18:15:12.767 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 18:15:12.775 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 18:15:14.079 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNFSTNR58GTP:00000001","RequestPath":"/","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:15:29.780 +07:00 INF] Request: POST /api/auth/login {"SourceContext":"Program","RequestId":"0HNFSTNR58GTP:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:15:34.191 +07:00 INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService","ActionId":"6b1b48de-16af-40b0-926a-b52bed2a9db3","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNFSTNR58GTP:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:15:38.326 +07:00 INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.EmailService","ActionId":"6b1b48de-16af-40b0-926a-b52bed2a9db3","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNFSTNR58GTP:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:15:56.752 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSTNR58GTP:0000000B","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:16:07.160 +07:00 INF] Request: GET /api/customer-types/2 {"SourceContext":"Program","RequestId":"0HNFSTNR58GTP:0000000D","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:16:07.280 +07:00 WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results. {"EventId":{"Id":10103,"Name":"Microsoft.EntityFrameworkCore.Query.FirstWithoutOrderByAndFilterWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"5382890b-5d11-41cb-bd37-a215a2ea69ca","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetCustomerTypeById (EVServiceCenter.API)","RequestId":"0HNFSTNR58GTP:0000000D","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:16:39.713 +07:00 INF] Request: PUT /api/customer-types/2 {"SourceContext":"Program","RequestId":"0HNFSTNR58GTP:0000000F","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:16:39.877 +07:00 WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'. {"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"e5a361b9-bd57-47b0-8913-2a9d572917fd","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.UpdateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTNR58GTP:0000000F","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:16:39.914 +07:00 INF] Updated customer type: Platinum with ID: 2 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository","ActionId":"e5a361b9-bd57-47b0-8913-2a9d572917fd","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.UpdateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTNR58GTP:0000000F","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:16:39.961 +07:00 INF] Successfully updated customer type: Platinum with ID: 2 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService","ActionId":"e5a361b9-bd57-47b0-8913-2a9d572917fd","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.UpdateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTNR58GTP:0000000F","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:17:13.913 +07:00 INF] Request: POST /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSTNR58GTP:00000011","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:17:14.012 +07:00 WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'. {"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"0e0b1aa7-8c5d-476c-b9d2-ca83e31b1aef","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.CreateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTNR58GTP:00000011","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:17:14.055 +07:00 INF] Created customer type: Dimond with ID: 4 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository","ActionId":"0e0b1aa7-8c5d-476c-b9d2-ca83e31b1aef","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.CreateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTNR58GTP:00000011","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:17:14.068 +07:00 INF] Successfully created customer type: Dimond with ID: 4 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService","ActionId":"0e0b1aa7-8c5d-476c-b9d2-ca83e31b1aef","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.CreateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTNR58GTP:00000011","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:17:51.518 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSTNR58GTP:00000013","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:18:03.792 +07:00 INF] Request: GET /api/customer-types/statistics {"SourceContext":"Program","RequestId":"0HNFSTNR58GTP:00000015","RequestPath":"/api/customer-types/statistics","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:18:25.211 +07:00 INF] Request: GET /api/customer-types/2/can-delete {"SourceContext":"Program","RequestId":"0HNFSTNR58GTP:00000017","RequestPath":"/api/customer-types/2/can-delete","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:18:29.325 +07:00 INF] Request: GET /api/customer-types/3/can-delete {"SourceContext":"Program","RequestId":"0HNFSTNR58GTP:00000019","RequestPath":"/api/customer-types/3/can-delete","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:18:34.317 +07:00 INF] Request: GET /api/customer-types/active {"SourceContext":"Program","RequestId":"0HNFSTNR58GTP:0000001B","RequestPath":"/api/customer-types/active","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:18:45.358 +07:00 INF] Request: PUT /api/customer-types/2 {"SourceContext":"Program","RequestId":"0HNFSTNR58GTP:0000001D","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:18:45.402 +07:00 INF] Updated customer type: Platinum with ID: 2 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository","ActionId":"e5a361b9-bd57-47b0-8913-2a9d572917fd","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.UpdateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTNR58GTP:0000001D","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:18:45.431 +07:00 INF] Successfully updated customer type: Platinum with ID: 2 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService","ActionId":"e5a361b9-bd57-47b0-8913-2a9d572917fd","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.UpdateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTNR58GTP:0000001D","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:18:56.487 +07:00 INF] Request: POST /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSTNR58GTP:0000001F","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:18:56.595 +07:00 ERR] Error creating customer type: Dimond {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository","ActionId":"0e0b1aa7-8c5d-476c-b9d2-ca83e31b1aef","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.CreateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTNR58GTP:0000001F","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTNR58GTP"}
System.InvalidOperationException: Loại khách hàng 'Dimond' đã tồn tại
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 34
[2025-09-26 18:18:56.787 +07:00 ERR] Error in service layer creating customer type: Dimond {"SourceContext":"EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService","ActionId":"0e0b1aa7-8c5d-476c-b9d2-ca83e31b1aef","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.CreateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTNR58GTP:0000001F","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTNR58GTP"}
System.InvalidOperationException: Loại khách hàng 'Dimond' đã tồn tại
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 34
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 71
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 41
[2025-09-26 18:18:56.879 +07:00 ERR] Error creating customer type: Dimond {"SourceContext":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController","ActionId":"0e0b1aa7-8c5d-476c-b9d2-ca83e31b1aef","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.CreateCustomerType (EVServiceCenter.API)","RequestId":"0HNFSTNR58GTP:0000001F","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTNR58GTP"}
System.InvalidOperationException: Loại khách hàng 'Dimond' đã tồn tại
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 34
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.CustomerTypeRepository.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\CustomerTypeRepository.cs:line 71
   at EVServiceCenter.Infrastructure.Domains.CustomerTypes.Services.CustomerTypeService.CreateAsync(CreateCustomerTypeRequestDto request, CancellationToken cancellationToken) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.Infrastructure\Domains\CustomerTypes\Services\CustomerTypeService.cs:line 41
   at EVServiceCenter.API.Controllers.Customers.CustomerTypesController.CreateCustomerType(CreateCustomerTypeRequestDto request) in C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API\Controllers\Customers\CustomerTypesController.cs:line 155
[2025-09-26 18:19:20.175 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSTNR58GTP:00000021","RequestPath":"/api/customer-types","ConnectionId":"0HNFSTNR58GTP"}
[2025-09-26 18:36:53.754 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 18:36:53.792 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 18:36:53.843 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 18:36:53.848 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 18:36:53.852 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 18:36:54.607 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNFSU3UULN3O:00000001","RequestPath":"/","ConnectionId":"0HNFSU3UULN3O"}
[2025-09-26 18:37:17.055 +07:00 INF] Request: POST /api/auth/login {"SourceContext":"Program","RequestId":"0HNFSU3UULN3O:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNFSU3UULN3O"}
[2025-09-26 18:37:21.577 +07:00 INF] User NghiaPham (ID: 8, Role: "Admin") logged in successfully from IP: 127.0.0.1, UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.UserService","ActionId":"e1cc82ff-a435-4a4d-b81e-befb23b24136","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNFSU3UULN3O:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNFSU3UULN3O"}
[2025-09-26 18:37:26.467 +07:00 INF] Email sent successfully to admin01@evservice.com with subject: Thông báo đăng nhập {"SourceContext":"EVServiceCenter.Infrastructure.Domains.Identity.Services.EmailService","ActionId":"e1cc82ff-a435-4a4d-b81e-befb23b24136","ActionName":"EVServiceCenter.API.Controllers.Auth.AuthController.Login (EVServiceCenter.API)","RequestId":"0HNFSU3UULN3O:00000009","RequestPath":"/api/auth/login","ConnectionId":"0HNFSU3UULN3O"}
[2025-09-26 18:37:38.885 +07:00 INF] Request: GET /api/auth/profile {"SourceContext":"Program","RequestId":"0HNFSU3UULN3O:0000000B","RequestPath":"/api/auth/profile","ConnectionId":"0HNFSU3UULN3O"}
[2025-09-26 18:37:46.985 +07:00 INF] Request: GET /api/customer-types {"SourceContext":"Program","RequestId":"0HNFSU3UULN3O:0000000D","RequestPath":"/api/customer-types","ConnectionId":"0HNFSU3UULN3O"}
[2025-09-26 18:38:20.864 +07:00 INF] Request: GET /api/customer-types/1 {"SourceContext":"Program","RequestId":"0HNFSU3UULN3O:0000000F","RequestPath":"/api/customer-types/1","ConnectionId":"0HNFSU3UULN3O"}
[2025-09-26 18:38:25.330 +07:00 INF] Request: GET /api/customer-types/2 {"SourceContext":"Program","RequestId":"0HNFSU3UULN3O:00000011","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSU3UULN3O"}
[2025-09-26 18:38:25.402 +07:00 WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results. {"EventId":{"Id":10103,"Name":"Microsoft.EntityFrameworkCore.Query.FirstWithoutOrderByAndFilterWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"f100bc5c-33df-46d4-b5b0-ae4fceb44275","ActionName":"EVServiceCenter.API.Controllers.Customers.CustomerTypesController.GetCustomerTypeById (EVServiceCenter.API)","RequestId":"0HNFSU3UULN3O:00000011","RequestPath":"/api/customer-types/2","ConnectionId":"0HNFSU3UULN3O"}
[2025-09-26 18:38:35.635 +07:00 INF] Request: GET /api/customer-types/statistics {"SourceContext":"Program","RequestId":"0HNFSU3UULN3O:00000013","RequestPath":"/api/customer-types/statistics","ConnectionId":"0HNFSU3UULN3O"}
[2025-09-26 18:54:25.544 +07:00 INF] Request: GET /api/customer-types/active {"SourceContext":"Program","RequestId":"0HNFSU3UULN3O:00000015","RequestPath":"/api/customer-types/active","ConnectionId":"0HNFSU3UULN3O"}
[2025-09-26 18:59:32.448 +07:00 INF] Request: GET /api/users {"SourceContext":"Program","RequestId":"0HNFSU3UULN3O:00000017","RequestPath":"/api/users","ConnectionId":"0HNFSU3UULN3O"}
[2025-09-26 18:59:41.382 +07:00 INF] Request: GET /api/users/2 {"SourceContext":"Program","RequestId":"0HNFSU3UULN3O:00000019","RequestPath":"/api/users/2","ConnectionId":"0HNFSU3UULN3O"}
[2025-09-26 18:59:46.924 +07:00 INF] Request: GET /api/users/10 {"SourceContext":"Program","RequestId":"0HNFSU3UULN3O:0000001B","RequestPath":"/api/users/10","ConnectionId":"0HNFSU3UULN3O"}
[2025-09-26 22:45:40.470 +07:00 INF] Now listening on: https://localhost:7077 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 22:45:40.511 +07:00 INF] Now listening on: http://localhost:5153 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 22:45:40.566 +07:00 INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 22:45:40.571 +07:00 INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 22:45:40.574 +07:00 INF] Content root path: C:\Users\ADMIN\Desktop\EVServiceCenter-BackupV2-Done-main\EVServiceCenter-BackupV2-Done-main\EVServiceCenter.API {"SourceContext":"Microsoft.Hosting.Lifetime"}
[2025-09-26 22:45:41.501 +07:00 INF] Request: GET / {"SourceContext":"Program","RequestId":"0HNFT2EVH599P:00000001","RequestPath":"/","ConnectionId":"0HNFT2EVH599P"}
